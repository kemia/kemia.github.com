/*
 * Kemia JavaScript Library v0.2-28-gdb77784
 * http://http://kemia.github.com/
 * 
 * Copyright (c) 2010 Paul Novak (paul@wingu.com)
 * 
 * Licensed under the Apache License, Version 2.0 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Date: December 22 2010
 * Revision: v0.2-28-gdb77784
 */
(function(){function g(a){throw a;}var k=true,m=null,n=false;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function r(a){return function(){return this[a]}}function s(a){return function(){return a}}var u,ca=this;function w(a,b,c){a=a.split(".");c=c||ca;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}}
function da(a,b){for(var c=a.split("."),d=b||ca,e;e=c.shift();)if(d[e]!=m)d=d[e];else return m;return d}function ea(){}function fa(a){a.oa=function(){return a.gk||(a.gk=new a)}}
function ga(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function ha(a){return ga(a)=="array"}function ia(a){var b=ga(a);return b=="array"||b=="object"&&typeof a.length=="number"}function y(a){return typeof a=="string"}function ka(a){return typeof a=="number"}function la(a){return ga(a)=="function"}function ma(a){a=ga(a);return a=="object"||a=="array"||a=="function"}function na(a){return a[oa]||(a[oa]=++pa)}
var oa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),pa=0;function qa(a){return a.call.apply(a.bind,arguments)}function ra(a,b){var c=b||ca;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}
function sa(){sa=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?qa:ra;return sa.apply(m,arguments)}function ta(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var ua=Date.now||function(){return+new Date};function z(a,b){var c=b||{},d;for(d in c){var e=(""+c[d]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e)}return a}
function A(a,b){function c(){}c.prototype=b.prototype;a.h=b.prototype;a.prototype=new c;a.prototype.constructor=a};function va(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function wa(a,b){if(b)return a.replace(xa,"&amp;").replace(ya,"&lt;").replace(za,"&gt;").replace(Aa,"&quot;");else{if(!Ba.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(xa,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(ya,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(za,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Aa,"&quot;");return a}}var xa=/&/g,ya=/</g,za=/>/g,Aa=/\"/g,Ba=/[&<>\"]/;
function Ca(a,b){for(var c=0,d=va(String(a)).split("."),e=va(String(b)).split("."),f=Math.max(d.length,e.length),h=0;c==0&&h<f;h++){var i=d[h]||"",j=e[h]||"",l=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var p=l.exec(i)||["","",""],q=o.exec(j)||["","",""];if(p[0].length==0&&q[0].length==0)break;c=Da(p[1].length==0?0:parseInt(p[1],10),q[1].length==0?0:parseInt(q[1],10))||Da(p[2].length==0,q[2].length==0)||Da(p[2],q[2])}while(c==0)}return c}
function Da(a,b){if(a<b)return-1;else if(a>b)return 1;return 0}var Ea=Math.random()*2147483648|0;function Fa(a){return a};var Ga=Array.prototype,Ha=Ga.indexOf?function(a,b,c){return Ga.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:c<0?Math.max(0,a.length+c):c;if(y(a)){if(!y(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},B=Ga.forEach?function(a,b,c){Ga.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ia=Ga.filter?function(a,b,c){return Ga.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,
e=[],f=0,h=y(a)?a.split(""):a,i=0;i<d;i++)if(i in h){var j=h[i];if(b.call(c,j,i,a))e[f++]=j}return e},C=Ga.map?function(a,b,c){return Ga.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=y(a)?a.split(""):a,h=0;h<d;h++)if(h in f)e[h]=b.call(c,f[h],h,a);return e};function Ja(a,b,c,d){if(a.reduce)return d?a.reduce(sa(b,d),c):a.reduce(b,c);var e=c;B(a,function(f,h){e=b.call(d,e,f,h,a)});return e}
var Ka=Ga.some?function(a,b,c){return Ga.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return k;return n},La=Ga.every?function(a,b,c){return Ga.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return n;return k};
function Ma(a,b,c){a:{for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a)){b=f;break a}b=-1}return b<0?m:y(a)?a.charAt(b):a[b]}function D(a,b){return Ha(a,b)>=0}function Na(a,b){var c=Ha(a,b),d;if(d=c>=0)Oa(a,c);return d}function Oa(a,b){return Ga.splice.call(a,b,1).length==1}function Pa(){return Ga.concat.apply(Ga,arguments)}function Qa(a){if(ha(a))return Pa(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Ra(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(ha(c)||(d=ia(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var e=a.length,f=c.length,h=0;h<f;h++)a[e+h]=c[h];else a.push(c)}}function Sa(a){return Ga.splice.apply(a,Ta(arguments,1))}function Ta(a,b,c){return arguments.length<=2?Ga.slice.call(a,b):Ga.slice.call(a,b,c)}
function Ua(a,b){for(var c=b||a,d={},e=0,f=0;f<a.length;){var h=a[f++],i=ma(h)?na(h):h;if(!Object.prototype.hasOwnProperty.call(d,i)){d[i]=k;c[e++]=h}}c.length=e}function Va(a,b){Ga.sort.call(a,b||Wa)}function Wa(a,b){return a>b?1:a<b?-1:0}function Xa(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function Ya(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];ha(c)?a.push.apply(a,Ya.apply(m,c)):a.push(c)}return a};function Za(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function $a(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ab(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function bb(a,b){var c;if(c=b in a)delete a[b];return c}function cb(a,b,c){if(b in a)g(Error('The object already contains the key "'+b+'"'));a[b]=c}function db(a){var b={},c;for(c in a)b[a[c]]=c;return b}var eb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function fb(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<eb.length;e++){b=eb[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}}function gb(){var a=arguments.length;if(a==1&&ha(arguments[0]))return gb.apply(m,arguments[0]);if(a%2)g(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b}
function hb(){var a=arguments.length;if(a==1&&ha(arguments[0]))return hb.apply(m,arguments[0]);for(var b={},c=0;c<a;c++)b[arguments[c]]=k;return b};function ib(a){if(typeof a.L=="function")return a.L();if(y(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return $a(a)}function jb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ia(a)||y(a))B(a,b,c);else{var d;if(typeof a.zg=="function")d=a.zg();else if(typeof a.L!="function")if(ia(a)||y(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f);d=d}else d=ab(a);else d=void 0;e=ib(a);f=e.length;for(var h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};function kb(a){this.Ya={};this.ga=[];var b=arguments.length;if(b>1){if(b%2)g(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.hc(arguments[c],arguments[c+1])}else a&&this.zd(a)}u=kb.prototype;u.da=0;u.sh=0;u.of=r("da");u.L=function(){lb(this);for(var a=[],b=0;b<this.ga.length;b++)a.push(this.Ya[this.ga[b]]);return a};u.zg=function(){lb(this);return this.ga.concat()};u.clear=function(){this.Ya={};this.sh=this.da=this.ga.length=0};
u.remove=function(a){if(mb(this.Ya,a)){delete this.Ya[a];this.da--;this.sh++;this.ga.length>2*this.da&&lb(this);return k}return n};function lb(a){if(a.da!=a.ga.length){for(var b=0,c=0;b<a.ga.length;){var d=a.ga[b];if(mb(a.Ya,d))a.ga[c++]=d;b++}a.ga.length=c}if(a.da!=a.ga.length){var e={};for(c=b=0;b<a.ga.length;){d=a.ga[b];if(!mb(e,d)){a.ga[c++]=d;e[d]=1}b++}a.ga.length=c}}u.m=function(a,b){if(mb(this.Ya,a))return this.Ya[a];return b};
u.hc=function(a,b){if(!mb(this.Ya,a)){this.da++;this.ga.push(a);this.sh++}this.Ya[a]=b};u.zd=function(a){var b;if(a instanceof kb){b=a.zg();a=a.L()}else{b=ab(a);a=$a(a)}for(var c=0;c<b.length;c++)this.hc(b[c],a[c])};u.la=function(){return new kb(this)};function mb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function nb(a){this.Ya=new kb;a&&this.zd(a)}function ob(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+na(a):b.substr(0,1)+a}u=nb.prototype;u.of=function(){return this.Ya.of()};u.add=function(a){this.Ya.hc(ob(a),a)};u.zd=function(a){a=ib(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};u.Ee=function(a){a=ib(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};u.remove=function(a){return this.Ya.remove(ob(a))};u.clear=function(){this.Ya.clear()};
u.contains=function(a){a=ob(a);return mb(this.Ya.Ya,a)};u.bi=function(a){var b=new nb;a=ib(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};u.L=function(){return this.Ya.L()};u.la=function(){return new nb(this)};function pb(a){return qb(a||arguments.callee.caller,[])}
function qb(a,b){var c=[];if(D(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push(rb(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=rb(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";c.push(f)}b.push(a);c.push(")\n");try{c.push(qb(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function rb(a){a=String(a);if(!sb[a]){var b=/function ([^\(]+)/.exec(a);sb[a]=b?b[1]:"[Anonymous]"}return sb[a]}var sb={};function tb(a,b,c,d,e){this.reset(a,b,c,d,e)}tb.prototype.Hk=0;tb.prototype.ug=m;tb.prototype.tg=m;var ub=0;tb.prototype.reset=function(a,b,c,d,e){this.Hk=typeof e=="number"?e:ub++;this.Ui=d||ua();this.md=a;this.ni=b;this.mk=c;delete this.ug;delete this.tg};tb.prototype.Ai=ba("md");function vb(a){this.rk=a}vb.prototype.ya=m;vb.prototype.md=m;vb.prototype.na=m;vb.prototype.Ud=m;function wb(a,b){this.name=a;this.value=b}wb.prototype.toString=r("name");var xb=new wb("SHOUT",1200),yb=new wb("SEVERE",1E3),zb=new wb("WARNING",900),Ab=new wb("INFO",800),Bb=new wb("CONFIG",700),Cb=new wb("FINE",500);u=vb.prototype;u.Ai=ba("md");function Db(a){if(a.md)return a.md;if(a.ya)return Db(a.ya);return m}
u.log=function(a,b,c){if(a.value>=Db(this).value){a=this.Fj(a,b,c);ca.console&&ca.console.markTimeline&&ca.console.markTimeline("log:"+a.ni);for(b=this;b;){c=b;var d=a;if(c.Ud)for(var e=0,f=void 0;f=c.Ud[e];e++)f(d);b=b.ya}}};
u.Fj=function(a,b,c){var d=new tb(a,String(b),this.rk);if(c){d.ug=c;var e;var f=arguments.callee.caller;try{var h,i=da("window.location.href");h=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:i,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.Xl||"Not available",fileName:c.fileName||c.filename||c.sourceURL||i,stack:c.stack||"Not available"}:c;e="Message: "+wa(h.message)+'\nUrl: <a href="view-source:'+
h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+wa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+wa(pb(f)+"-> ")}catch(j){e="Exception trying to expose exception! You win, we lose. "+j}d.tg=e}return d};u.info=function(a,b){this.log(Ab,a,b)};u.j=function(a,b){this.log(Bb,a,b)};var Eb={},Fb=m;function Gb(){if(!Fb){Fb=new vb("");Eb[""]=Fb;Fb.Ai(Bb)}}
function Hb(a){Gb();var b;if(!(b=Eb[a])){b=new vb(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=Hb(a.substr(0,c));if(!c.na)c.na={};c.na[d]=b;b.ya=c;b=Eb[a]=b}return b};function Ib(){this.wi=ua()}var Jb=new Ib;Ib.prototype.hc=ba("wi");Ib.prototype.reset=function(){this.hc(ua())};Ib.prototype.m=r("wi");function Kb(a){this.Ck=a||"";this.Ok=Jb}u=Kb.prototype;u.Ei=k;u.Lk=k;u.Kk=k;u.Fi=n;u.Mk=n;function Lb(a){if(a<10)return"0"+a;return String(a)}function Mb(a,b){var c=(a.Ui-b)/1E3,d=c.toFixed(3),e=0;if(c<1)e=2;else for(;c<100;){e++;c*=10}for(;e-- >0;)d=" "+d;return d}function Nb(a){Kb.call(this,a)}A(Nb,Kb);function Ob(){this.ui=sa(this.jj,this);this.yg=new Nb;this.yg.Ei=n;this.ci=this.yg.Fi=n;this.lk=""}Ob.prototype.Ik=function(a){if(a!=this.ci){var b;Gb();b=Fb;if(a){var c=this.ui;if(!b.Ud)b.Ud=[];b.Ud.push(c)}else{(b=b.Ud)&&Na(b,this.ui);this.Yl=""}this.ci=a}};
Ob.prototype.jj=function(a){var b;b=this.yg;var c=[];c.push(b.Ck," ");if(b.Ei){var d=new Date(a.Ui);c.push("[",Lb(d.getFullYear()-2E3)+Lb(d.getMonth()+1)+Lb(d.getDate())+" "+Lb(d.getHours())+":"+Lb(d.getMinutes())+":"+Lb(d.getSeconds())+"."+Lb(Math.floor(d.getMilliseconds()/10)),"] ")}b.Lk&&c.push("[",Mb(a,b.Ok.m()),"s] ");b.Kk&&c.push("[",a.mk,"] ");b.Mk&&c.push("[",a.md.name,"] ");c.push(a.ni,"\n");b.Fi&&a.ug&&c.push(a.tg,"\n");b=c.join("");if(window.console&&window.console.firebug)switch(a.md){case xb:window.console.info(b);
break;case yb:window.console.error(b);break;case zb:window.console.warn(b);break;default:window.console.debug(b)}else if(window.console)window.console.log(b);else if(window.opera)window.opera.postError(b);else this.lk+=b};var Pb,Qb,Rb,Sb,Tb,Ub,Vb;function Wb(){return ca.navigator?ca.navigator.userAgent:m}function Xb(){return ca.navigator}Tb=Sb=Rb=Qb=Pb=n;var Yb;if(Yb=Wb()){var Zb=Xb();Pb=Yb.indexOf("Opera")==0;Qb=!Pb&&Yb.indexOf("MSIE")!=-1;Sb=(Rb=!Pb&&Yb.indexOf("WebKit")!=-1)&&Yb.indexOf("Mobile")!=-1;Tb=!Pb&&!Rb&&Zb.product=="Gecko"}var $b=Pb,E=Qb,F=Tb,G=Rb,ac=Sb,bc,cc=Xb();bc=cc&&cc.platform||"";Ub=bc.indexOf("Mac")!=-1;Vb=bc.indexOf("Win")!=-1;var dc=!!Xb()&&(Xb().appVersion||"").indexOf("X11")!=-1,ec;
a:{var fc="",gc;if($b&&ca.opera){var hc=ca.opera.version;fc=typeof hc=="function"?hc():hc}else{if(F)gc=/rv\:([^\);]+)(\)|;)/;else if(E)gc=/MSIE\s+([^\);]+)(\)|;)/;else if(G)gc=/WebKit\/(\S+)/;if(gc){var ic=gc.exec(Wb());fc=ic?ic[1]:""}}if(E){var jc,kc=ca.document;jc=kc?kc.documentMode:undefined;if(jc>parseFloat(fc)){ec=String(jc);break a}}ec=fc}var lc={};function I(a){return lc[a]||(lc[a]=Ca(ec,a)>=0)};var mc,nc=!E||I("9"),oc=E&&!I("9");function pc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function qc(a){var b=pc(a),c;c=Ta(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!D(b,c[e])){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c}function rc(a){var b=pc(a),c;c=Ta(arguments,1);for(var d=0,e=0;e<b.length;e++)if(D(c,b[e])){Sa(b,e--,1);d++}c=d==c.length;a.className=b.join(" ");return c};function K(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}K.prototype.la=function(){return new K(this.x,this.y)};function sc(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function L(a,b){return new K(a.x-b.x,a.y-b.y)}function M(a,b){return new K(a.x+b.x,a.y+b.y)};function tc(a,b){this.width=a;this.height=b}u=tc.prototype;u.la=function(){return new tc(this.width,this.height)};u.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};u.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};u.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};u.scale=function(a){this.width*=a;this.height*=a;return this};function uc(a){return a?new vc(wc(a)):mc||(mc=new vc)}
function xc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!G||yc(document)||I("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)if(b==h.nodeName)d[e++]=h;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++){b=h.className;if(typeof b.split=="function"&&D(b.split(/\s+/),c))d[e++]=h}d.length=e;return d}else return a}
function zc(a,b){Za(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Ac)a.setAttribute(Ac[d],c);else a[d]=c})}var Ac={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function Bc(a){var b=a.document;if(G&&!I("500")&&!ac){if(typeof a.innerHeight=="undefined")a=window;b=a.innerHeight;var c=a.document.documentElement.scrollHeight;if(a==a.top)if(c<b)b-=15;return new tc(a.innerWidth,b)}a=yc(b);if($b&&!I("9.50"))a=n;a=a?b.documentElement:b.body;return new tc(a.clientWidth,a.clientHeight)}function Cc(a){return a.parentWindow||a.defaultView}function Dc(){return Ec(document,arguments)}
function Ec(a,b){var c=b[0],d=b[1];if(!nc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',wa(d.name),'"');if(d.type){c.push(' type="',wa(d.type),'"');var e={};fb(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(y(d))c.className=d;else ha(d)?qc.apply(m,[c].concat(d)):zc(c,d);b.length>2&&Fc(a,c,b,2);return c}
function Fc(a,b,c,d){function e(h){if(h)b.appendChild(y(h)?a.createTextNode(h):h)}for(d=d;d<c.length;d++){var f=c[d];ia(f)&&!(ma(f)&&f.nodeType>0)?B(Gc(f)?Qa(f):f,e):e(f)}}function yc(a){return a.compatMode=="CSS1Compat"}function Hc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Ic(a){return a&&a.parentNode?a.parentNode.removeChild(a):m}
function Jc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function wc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Kc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{Hc(a);a.appendChild(wc(a).createTextNode(b))}}var Lc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Mc={IMG:" ",BR:"\n"};function Nc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){a=a.tabIndex;return ka(a)&&a>=0}return n}
function Oc(a){if(oc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Pc(a,b,k);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");E||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function Pc(a,b,c){if(!(a.nodeName in Lc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Mc)b.push(Mc[a.nodeName]);else for(a=a.firstChild;a;){Pc(a,b,c);a=a.nextSibling}}
function Gc(a){if(a&&typeof a.length=="number")if(ma(a))return typeof a.item=="function"||typeof a.item=="string";else if(la(a))return typeof a.item=="function";return n}function vc(a){this.ba=a||ca.document||document}u=vc.prototype;u.X=uc;function Qc(a){return a.ba}u.f=function(a){return y(a)?this.ba.getElementById(a):a};u.i=function(){return Ec(this.ba,arguments)};u.createElement=function(a){return this.ba.createElement(a)};u.createTextNode=function(a){return this.ba.createTextNode(a)};
u.Ih=function(a,b,c){var d=this.ba,e=!!c;c=["<tr>"];for(var f=0;f<b;f++)c.push(e?"<td>&nbsp;</td>":"<td></td>");c.push("</tr>");c=c.join("");b=["<table>"];for(f=0;f<a;f++)b.push(c);b.push("</table>");a=d.createElement("DIV");a.innerHTML=b.join("");return a.removeChild(a.firstChild)};function Rc(a){a=!G&&yc(a.ba)?a.ba.documentElement:a.ba.body;return new K(a.scrollLeft,a.scrollTop)}u.appendChild=function(a,b){a.appendChild(b)};u.contains=Jc;var Sc,Tc=!E||I("9"),Uc=E&&!I("8");function Vc(){}Vc.prototype.qg=n;Vc.prototype.aa=function(){if(!this.qg){this.qg=k;this.p()}};Vc.prototype.p=aa();function Wc(a,b){this.type=a;this.currentTarget=this.target=b}A(Wc,Vc);u=Wc.prototype;u.p=function(){delete this.type;delete this.target;delete this.currentTarget};u.qd=n;u.Ie=k;u.stopPropagation=function(){this.qd=k};u.preventDefault=function(){this.Ie=n};function Xc(a){a.preventDefault()};var Yc=new Function("a","return a");function Zc(a,b){a&&this.xe(a,b)}A(Zc,Wc);var $c=[1,4,2];u=Zc.prototype;u.target=m;u.relatedTarget=m;u.offsetX=0;u.offsetY=0;u.clientX=0;u.clientY=0;u.screenX=0;u.screenY=0;u.button=0;u.keyCode=0;u.charCode=0;u.ctrlKey=n;u.altKey=n;u.shiftKey=n;u.metaKey=n;u.zk=n;u.oc=m;
u.xe=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(F)try{Yc(d.nodeName)}catch(e){d=m}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=
a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.zk=Ub?a.metaKey:a.ctrlKey;this.state=a.state;this.oc=a;delete this.Ie;delete this.qd};function ad(a,b){return Tc?a.oc.button==b:a.type=="click"?b==0:!!(a.oc.button&$c[b])}
u.stopPropagation=function(){Zc.h.stopPropagation.call(this);if(this.oc.stopPropagation)this.oc.stopPropagation();else this.oc.cancelBubble=k};u.preventDefault=function(){Zc.h.preventDefault.call(this);var a=this.oc;if(a.preventDefault)a.preventDefault();else{a.returnValue=n;if(Uc)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};u.p=function(){Zc.h.p.call(this);this.relatedTarget=this.currentTarget=this.target=this.oc=m};function bd(){}var cd=0;u=bd.prototype;u.key=0;u.$d=n;u.Dh=n;u.xe=function(a,b,c,d,e,f){if(la(a))this.ei=k;else if(a&&a.handleEvent&&la(a.handleEvent))this.ei=n;else g(Error("Invalid listener argument"));this.Yd=a;this.ti=b;this.src=c;this.type=d;this.capture=!!e;this.vf=f;this.Dh=n;this.key=++cd;this.$d=n};u.handleEvent=function(a){if(this.ei)return this.Yd.call(this.vf||this.src,a);return this.Yd.handleEvent.call(this.Yd,a)};function dd(a,b){this.ki=b;this.dd=[];if(a>this.ki)g(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.dd.push(this.zc?this.zc():{})}A(dd,Vc);dd.prototype.zc=m;dd.prototype.Lh=m;function ed(a){if(a.dd.length)return a.dd.pop();return a.zc?a.zc():{}}function fd(a,b){a.dd.length<a.ki?a.dd.push(b):gd(a,b)}function gd(a,b){if(a.Lh)a.Lh(b);else if(ma(b))if(la(b.aa))b.aa();else for(var c in b)delete b[c]}
dd.prototype.p=function(){dd.h.p.call(this);for(var a=this.dd;a.length;)gd(this,a.pop());delete this.dd};var hd;var id=(hd="ScriptEngine"in ca&&ca.ScriptEngine()=="JScript")?ca.ScriptEngineMajorVersion()+"."+ca.ScriptEngineMinorVersion()+"."+ca.ScriptEngineBuildVersion():"0";var jd,kd,ld,md,nd,od,pd,qd,rd,sd,td;
(function(){function a(){return{da:0,gc:0}}function b(){return[]}function c(){function q(t){return h.call(q.src,q.key,t)}return q}function d(){return new bd}function e(){return new Zc}var f=hd&&!(Ca(id,"5.7")>=0),h;od=function(q){h=q};if(f){jd=function(){return ed(i)};kd=function(q){fd(i,q)};ld=function(){return ed(j)};md=function(q){fd(j,q)};nd=function(){return ed(l)};pd=function(){fd(l,c())};qd=function(){return ed(o)};rd=function(q){fd(o,q)};sd=function(){return ed(p)};td=function(q){fd(p,q)};
var i=new dd(0,600);i.zc=a;var j=new dd(0,600);j.zc=b;var l=new dd(0,600);l.zc=c;var o=new dd(0,600);o.zc=d;var p=new dd(0,600);p.zc=e}else{jd=a;kd=ea;ld=b;md=ea;nd=c;pd=ea;qd=d;rd=ea;sd=e;td=ea}})();var ud={},vd={},wd={},xd={};
function yd(a,b,c,d,e){if(b)if(ha(b)){for(var f=0;f<b.length;f++)yd(a,b[f],c,d,e);return m}else{d=!!d;var h=vd;b in h||(h[b]=jd());h=h[b];if(!(d in h)){h[d]=jd();h.da++}h=h[d];var i=na(a),j;h.gc++;if(h[i]){j=h[i];for(f=0;f<j.length;f++){h=j[f];if(h.Yd==c&&h.vf==e){if(h.$d)break;return j[f].key}}}else{j=h[i]=ld();h.da++}f=nd();f.src=a;h=qd();h.xe(c,f,a,b,d,e);c=h.key;f.key=c;j.push(h);ud[c]=h;wd[i]||(wd[i]=ld());wd[i].push(h);if(a.addEventListener){if(a==ca||!a.ng)a.addEventListener(b,f,d)}else a.attachEvent(zd(b),
f);return c}else g(Error("Invalid event type"))}function Ad(a,b,c,d,e){if(ha(b)){for(var f=0;f<b.length;f++)Ad(a,b[f],c,d,e);return m}d=!!d;a=Bd(a,b,d);if(!a)return n;for(f=0;f<a.length;f++)if(a[f].Yd==c&&a[f].capture==d&&a[f].vf==e)return Cd(a[f].key);return n}
function Cd(a){if(!ud[a])return n;var b=ud[a];if(b.$d)return n;var c=b.src,d=b.type,e=b.ti,f=b.capture;if(c.removeEventListener){if(c==ca||!c.ng)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(zd(d),e);c=na(c);e=vd[d][f][c];if(wd[c]){var h=wd[c];Na(h,b);h.length==0&&delete wd[c]}b.$d=k;e.oi=k;Dd(d,f,c,e);delete ud[a];return k}
function Dd(a,b,c,d){if(!d.Jf)if(d.oi){for(var e=0,f=0;e<d.length;e++)if(d[e].$d){var h=d[e].ti;h.src=m;pd(h);rd(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.oi=n;if(f==0){md(d);delete vd[a][b][c];vd[a][b].da--;if(vd[a][b].da==0){kd(vd[a][b]);delete vd[a][b];vd[a].da--}if(vd[a].da==0){kd(vd[a]);delete vd[a]}}}}
function Ed(a,b,c){var d=0,e=b==m,f=c==m;c=!!c;if(a==m)Za(wd,function(j){for(var l=j.length-1;l>=0;l--){var o=j[l];if((e||b==o.type)&&(f||c==o.capture)){Cd(o.key);d++}}});else{a=na(a);if(wd[a]){a=wd[a];for(var h=a.length-1;h>=0;h--){var i=a[h];if((e||b==i.type)&&(f||c==i.capture)){Cd(i.key);d++}}}}return d}function Bd(a,b,c){var d=vd;if(b in d){d=d[b];if(c in d){d=d[c];a=na(a);if(d[a])return d[a]}}return m}function zd(a){if(a in xd)return xd[a];return xd[a]="on"+a}
function Fd(a,b,c,d,e){var f=1;b=na(b);if(a[b]){a.gc--;a=a[b];if(a.Jf)a.Jf++;else a.Jf=1;try{for(var h=a.length,i=0;i<h;i++){var j=a[i];if(j&&!j.$d)f&=Gd(j,e)!==n}}finally{a.Jf--;Dd(c,d,b,a)}}return Boolean(f)}function Gd(a,b){var c=a.handleEvent(b);a.Dh&&Cd(a.key);return c}
od(function(a,b){if(!ud[a])return k;var c=ud[a],d=c.type,e=vd;if(!(d in e))return k;e=e[d];var f,h;if(Sc===undefined)Sc=E&&!ca.addEventListener;if(Sc){f=b||da("window.event");var i=k in e,j=n in e;if(i){if(f.keyCode<0||f.returnValue!=undefined)return k;a:{var l=n;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(o){l=k}if(l||f.returnValue==undefined)f.returnValue=k}}l=sd();l.xe(f,this);f=k;try{if(i){for(var p=ld(),q=l.currentTarget;q;q=q.parentNode)p.push(q);h=e[k];h.gc=h.da;for(var t=p.length-1;!l.qd&&
t>=0&&h.gc;t--){l.currentTarget=p[t];f&=Fd(h,p[t],d,k,l)}if(j){h=e[n];h.gc=h.da;for(t=0;!l.qd&&t<p.length&&h.gc;t++){l.currentTarget=p[t];f&=Fd(h,p[t],d,n,l)}}}else f=Gd(c,l)}finally{if(p){p.length=0;md(p)}l.aa();td(l)}return f}d=new Zc(b,this);try{f=Gd(c,d)}finally{d.aa()}return f});var Hd=0;function Id(a){this.Cb=a}A(Id,Vc);var Jd=new dd(0,100);u=Id.prototype;u.u=function(a,b,c,d,e){if(ha(b))for(var f=0;f<b.length;f++)this.u(a,b[f],c,d,e);else{a=yd(a,b,c||this,d||n,e||this.Cb||this);if(this.ga)this.ga[a]=k;else if(this.Vc){this.ga=ed(Jd);this.ga[this.Vc]=k;this.Vc=m;this.ga[a]=k}else this.Vc=a}return this};
u.jb=function(a,b,c,d,e){if(this.Vc||this.ga)if(ha(b))for(var f=0;f<b.length;f++)this.jb(a,b[f],c,d,e);else{a:{c=c||this;e=e||this.Cb||this;d=!!d;if(a=Bd(a,b,d))for(b=0;b<a.length;b++)if(a[b].Yd==c&&a[b].capture==d&&a[b].vf==e){a=a[b];break a}a=m}if(a){a=a.key;Cd(a);if(this.ga)bb(this.ga,a);else if(this.Vc==a)this.Vc=m}}return this};u.Ee=function(){if(this.ga){for(var a in this.ga){Cd(a);delete this.ga[a]}fd(Jd,this.ga);this.ga=m}else this.Vc&&Cd(this.Vc)};u.p=function(){Id.h.p.call(this);this.Ee()};
u.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function Kd(){}A(Kd,Vc);u=Kd.prototype;u.ng=k;u.Pf=m;u.hh=ba("Pf");u.addEventListener=function(a,b,c,d){yd(this,a,b,c,d)};u.removeEventListener=function(a,b,c,d){Ad(this,a,b,c,d)};
u.dispatchEvent=function(a){a=a;if(y(a))a=new Wc(a,this);else if(a instanceof Wc)a.target=a.target||this;else{var b=a;a=new Wc(a.type,this);fb(a,b)}b=1;var c,d=a.type,e=vd;if(d in e){e=e[d];d=k in e;var f;if(d){c=[];for(f=this;f;f=f.Pf)c.push(f);f=e[k];f.gc=f.da;for(var h=c.length-1;!a.qd&&h>=0&&f.gc;h--){a.currentTarget=c[h];b&=Fd(f,c[h],a.type,k,a)&&a.Ie!=n}}if(n in e){f=e[n];f.gc=f.da;if(d)for(h=0;!a.qd&&h<c.length&&f.gc;h++){a.currentTarget=c[h];b&=Fd(f,c[h],a.type,n,a)&&a.Ie!=n}else for(c=this;!a.qd&&
c&&f.gc;c=c.Pf){a.currentTarget=c;b&=Fd(f,c,a.type,n,a)&&a.Ie!=n}}a=Boolean(b)}else a=k;return a};u.p=function(){Kd.h.p.call(this);Ed(this);this.Pf=m};function Ld(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}function Md(){for(var a=new Ld(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),b=1;b<arguments.length;b++){var c=arguments[b];a.top=Math.min(a.top,c.y);a.right=Math.max(a.right,c.x);a.bottom=Math.max(a.bottom,c.y);a.left=Math.min(a.left,c.x)}return a}Ld.prototype.la=function(){return new Ld(this.top,this.right,this.bottom,this.left)};
Ld.prototype.contains=function(a){a=!this||!a?n:a instanceof Ld?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};Ld.prototype.expand=function(a,b,c,d){if(ma(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=c;this.left-=d}return this};function Nd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Nd.prototype.la=function(){return new Nd(this.left,this.top,this.width,this.height)};function Od(a){return new Nd(a.left,a.top,a.right-a.left,a.bottom-a.top)}Nd.prototype.bi=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a){this.left=b;this.top=d;this.width=c-b;this.height=a-d;return k}}return n};
Nd.prototype.contains=function(a){return a instanceof Nd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Nd.prototype.fd=function(){return new tc(this.width,this.height)};function Pd(a,b){var c=wc(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,m))return c[b]||c.getPropertyValue(b);return""}function Qd(a,b){return Pd(a,b)||(a.currentStyle?a.currentStyle[b]:m)||a.style[b]}function Rd(a){return Qd(a,"position")}function Sd(a,b,c){var d,e=F&&(Ub||dc)&&I("1.9");if(b instanceof K){d=b.x;b=b.y}else{d=b;b=c}a.style.left=Td(d,e);a.style.top=Td(b,e)}
function Ud(a){var b=a.getBoundingClientRect();if(E){a=a.ownerDocument;b.left-=a.documentElement.clientLeft+a.body.clientLeft;b.top-=a.documentElement.clientTop+a.body.clientTop}return b}
function Vd(a){if(E)return a.offsetParent;var b=wc(a),c=Qd(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Qd(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return m}
function Wd(a){var b=new Ld(0,Infinity,Infinity,0),c=uc(a),d=c.ba.body,e=!G&&yc(c.ba)?c.ba.documentElement:c.ba.body,f;for(a=a;a=Vd(a);)if((!E||a.clientWidth!=0)&&(!G||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&Qd(a,"overflow")!="visible"){var h=Xd(a),i;i=a;if(F&&!I("1.9")){var j=parseFloat(Pd(i,"borderLeftWidth"));if(Yd(i)){var l=i.offsetWidth-i.clientWidth-j-parseFloat(Pd(i,"borderRightWidth"));j+=l}i=new K(j,parseFloat(Pd(i,"borderTopWidth")))}else i=
new K(i.clientLeft,i.clientTop);h.x+=i.x;h.y+=i.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);f=f||a!=e}d=e.scrollLeft;e=e.scrollTop;if(G){b.left+=d;b.top+=e}else{b.left=Math.max(b.left,d);b.top=Math.max(b.top,e)}if(!f||G){b.right+=d;b.bottom+=e}c=Bc(Cc(c.ba)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,e+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?
b:m}
function Xd(a){var b,c=wc(a),d=Qd(a,"position"),e=F&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),f=new K(0,0),h;b=c?c.nodeType==9?c:wc(c):document;if(h=E){h=uc(b);h=!yc(h.ba)}h=h?b.body:b.documentElement;if(a==h)return f;if(a.getBoundingClientRect){b=Ud(a);a=Rc(uc(c));f.x=b.left+a.x;f.y=b.top+a.y}else if(c.getBoxObjectFor&&!e){b=c.getBoxObjectFor(a);a=c.getBoxObjectFor(h);f.x=b.screenX-a.screenX;f.y=b.screenY-a.screenY}else{e=a;
do{f.x+=e.offsetLeft;f.y+=e.offsetTop;if(e!=a){f.x+=e.clientLeft||0;f.y+=e.clientTop||0}if(G&&Rd(e)=="fixed"){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if($b||G&&d=="absolute")f.y-=c.body.offsetTop;for(e=a;(e=Vd(e))&&e!=c.body&&e!=h;){f.x-=e.scrollLeft;if(!$b||e.tagName!="TR")f.y-=e.scrollTop}}return f}
function Zd(a,b,c){if(b instanceof tc){c=b.height;b=b.width}else{if(c==undefined)g(Error("missing height argument"));c=c}a.style.width=Td(b,k);a.style.height=Td(c,k)}function Td(a,b){if(typeof a=="number")a=(b?Math.round(a):a)+"px";return a}
function $d(a){var b=$b&&!I("10");if(Qd(a,"display")!="none")return b?new tc(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new tc(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new tc(b,a)}
function ae(a){var b=Xd(a);a=$d(a);return new Nd(b.x,b.y,a.width,a.height)}var be={};function ce(a){return be[a]||(be[a]=String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()}))}function de(a,b){var c=a.style;if("opacity"in c)c.opacity=b;else if("MozOpacity"in c)c.MozOpacity=b;else if("filter"in c)c.filter=b===""?"":"alpha(opacity="+b*100+")"}function ee(a,b){a.style.display=b?"":"none"}function fe(a,b){if(E)a.cssText=b;else a[G?"innerText":"innerHTML"]=b}
function Yd(a){return"rtl"==Qd(a,"direction")}var ge=F?"MozUserSelect":G?"WebkitUserSelect":m;function he(a,b,c){c=!c?a.getElementsByTagName("*"):m;if(ge){b=b?"none":"";a.style[ge]=b;if(c){a=0;for(var d;d=c[a];a++)d.style[ge]=b}}else if(E||$b){b=b?"on":"";a.setAttribute("unselectable",b);if(c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}};function ie(){}fa(ie);ie.prototype.sk=0;ie.oa();function je(a){this.Ab=a||uc();this.Je=ke}A(je,Kd);je.prototype.ek=ie.oa();var ke=m;function le(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}g(Error("Invalid component state"))}u=je.prototype;u.Eb=m;u.Z=n;u.q=m;u.Je=m;u.Vg=m;u.ya=m;u.na=m;u.bc=m;u.Sk=n;
function me(a){return a.Eb||(a.Eb=":"+(a.ek.sk++).toString(36))}function ne(a,b){if(a.ya&&a.ya.bc){bb(a.ya.bc,a.Eb);cb(a.ya.bc,b,a)}a.Eb=b}u.f=r("q");u.ab=function(){return this.Qd||(this.Qd=new Id(this))};function oe(a,b){if(a==b)g(Error("Unable to set parent component"));if(b&&a.ya&&a.Eb&&pe(a.ya,a.Eb)&&a.ya!=b)g(Error("Unable to set parent component"));a.ya=b;je.h.hh.call(a,b)}u.hh=function(a){if(this.ya&&this.ya!=a)g(Error("Method not supported"));je.h.hh.call(this,a)};u.X=r("Ab");
u.i=function(){this.q=this.Ab.createElement("div")};u.R=function(a){qe(this,a)};function qe(a,b,c){if(a.Z)g(Error("Component already rendered"));a.q||a.i();b?b.insertBefore(a.q,c||m):a.Ab.ba.body.appendChild(a.q);if(!a.ya||a.ya.Z)a.pa()}u.pa=function(){this.Z=k;re(this,function(a){!a.Z&&a.f()&&a.pa()})};u.ub=function(){re(this,function(a){a.Z&&a.ub()});this.Qd&&this.Qd.Ee();this.Z=n};
u.p=function(){je.h.p.call(this);this.Z&&this.ub();if(this.Qd){this.Qd.aa();delete this.Qd}re(this,function(a){a.aa()});!this.Sk&&this.q&&Ic(this.q);this.ya=this.Vg=this.q=this.bc=this.na=m};u.ta=function(a,b){this.he(a,se(this),b)};
u.he=function(a,b,c){if(a.Z&&(c||!this.Z))g(Error("Component already rendered"));if(b<0||b>se(this))g(Error("Child component index out of bounds"));if(!this.bc||!this.na){this.bc={};this.na=[]}if(a.ya==this){this.bc[me(a)]=a;Na(this.na,a)}else cb(this.bc,me(a),a);oe(a,this);Sa(this.na,b,0,a);if(a.Z&&this.Z&&a.ya==this){c=this.wa();c.insertBefore(a.f(),c.childNodes[b]||m)}else if(c){this.q||this.i();b=te(this,b+1);qe(a,this.wa(),b?b.q:m)}else this.Z&&!a.Z&&a.q&&a.pa()};u.wa=r("q");
function ue(a){if(a.Je==m)a.Je=Yd(a.Z?a.q:a.Ab.ba.body);return a.Je}u.Zc=function(a){if(this.Z)g(Error("Component already rendered"));this.Je=a};function se(a){return a.na?a.na.length:0}function pe(a,b){var c;if(a.bc&&b){c=a.bc;c=b in c?c[b]:void 0;c=c||m}else c=m;return c}function te(a,b){return a.na?a.na[b]||m:m}function re(a,b,c){a.na&&B(a.na,b,c)}function ve(a,b){return a.na&&b?Ha(a.na,b):-1}
u.removeChild=function(a,b){if(a){var c=y(a)?a:me(a);a=pe(this,c);if(c&&a){bb(this.bc,c);Na(this.na,a);if(b){a.ub();a.q&&Ic(a.q)}oe(a,m)}}if(!a)g(Error("Child is not in parent component"));return a};function we(a,b,c,d,e){if(!E&&!(G&&I("525")))return k;if(Ub&&e)return xe(a);if(e&&!d)return n;if(!c&&(b==17||b==18))return n;if(E&&d&&b==a)return n;switch(a){case 13:return k;case 27:return!G}return xe(a)}
function xe(a){if(a>=48&&a<=57)return k;if(a>=96&&a<=106)return k;if(a>=65&&a<=90)return k;if(G&&a==0)return k;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return k;default:return n}};function ye(a,b){a&&ze(this,a,b)}A(ye,Kd);u=ye.prototype;u.q=m;u.Ff=m;u.Pg=m;u.Gf=m;u.Wc=-1;u.Uc=-1;
var Ae={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Be={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ce={61:187,
59:186},De=E||G&&I("525");u=ye.prototype;u.hd=function(a){if(G&&(this.Wc==17&&!a.ctrlKey||this.Wc==18&&!a.altKey))this.Uc=this.Wc=-1;if(De&&!we(a.keyCode,this.Wc,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.Uc=F&&a.keyCode in Ce?Ce[a.keyCode]:a.keyCode};u.Xj=function(){this.Uc=this.Wc=-1};
u.handleEvent=function(a){var b=a.oc,c,d;if(E&&a.type=="keypress"){c=this.Uc;d=c!=13&&c!=27?b.keyCode:0}else if(G&&a.type=="keypress"){c=this.Uc;d=b.charCode>=0&&b.charCode<63232&&xe(c)?b.charCode:0}else if($b){c=this.Uc;d=xe(c)?b.keyCode:0}else{c=b.keyCode||this.Uc;d=b.charCode||0;if(Ub&&d==63&&!c)c=191}var e=c,f=b.keyIdentifier;if(c)if(c>=63232&&c in Ae)e=Ae[c];else{if(c==25&&a.shiftKey)e=9}else if(f&&f in Be)e=Be[f];a=e==this.Wc;this.Wc=e;b=new Ee(e,d,a,b);try{this.dispatchEvent(b)}finally{b.aa()}};
u.f=r("q");function ze(a,b,c){a.Gf&&a.detach();a.q=b;a.Ff=yd(a.q,"keypress",a,c);a.Pg=yd(a.q,"keydown",a.hd,c,a);a.Gf=yd(a.q,"keyup",a.Xj,c,a)}u.detach=function(){if(this.Ff){Cd(this.Ff);Cd(this.Pg);Cd(this.Gf);this.Gf=this.Pg=this.Ff=m}this.q=m;this.Uc=this.Wc=-1};u.p=function(){ye.h.p.call(this);this.detach()};function Ee(a,b,c,d){d&&this.xe(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}A(Ee,Zc);function Fe(a,b){a.setAttribute("role",b);a.dm=b}function Ge(a,b,c){a.setAttribute("aria-"+b,c)};function He(){}var Ie;fa(He);u=He.prototype;u.ec=aa();u.i=function(a){return a.X().i("div",this.Cc(a).join(" "),a.Ka)};u.wa=function(a){return a};u.oe=function(a,b,c){if(a=a.f?a.f():a)if(E&&!I("7")){var d=Je(this,pc(a),b);d.push(b);ta(c?qc:rc,a).apply(m,d)}else c?qc(a,b):rc(a,b)};u.rc=function(a){ue(a)&&this.Zc(a.f(),k);a.ka()&&this.sc(a,a.Xa())};u.Sf=function(a,b){he(a,!b,!E&&!$b)};u.Zc=function(a,b){this.oe(a,this.t()+"-rtl",b)};u.Rc=function(a){var b;if(a.cb&32&&(b=a.Ma()))return Nc(b);return n};
u.sc=function(a,b){var c;if(a.cb&32&&(c=a.Ma())){if(!b&&a.Ia&32){try{c.blur()}catch(d){}a.Ia&32&&a.Qc(m)}if(Nc(c)!=b){c=c;if(b)c.tabIndex=0;else c.removeAttribute("tabIndex")}}};u.za=function(a,b){ee(a,b)};u.Hb=function(a,b,c){var d=a.f();if(d){var e=this.nf(b);e&&this.oe(a,e,c);this.Ve(d,b,c)}};u.Ve=function(a,b,c){Ie||(Ie=gb(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=Ie[b])&&Ge(a,b,c)};
u.ic=function(a,b){var c=this.wa(a);if(c){Hc(c);if(b)if(y(b))Kc(c,b);else{var d=function(e){if(e){var f=wc(c);c.appendChild(y(e)?f.createTextNode(e):e)}};if(ha(b))B(b,d);else ia(b)&&!("nodeType"in b)?B(Qa(b),d):d(b)}}};u.Ma=function(a){return a.f()};u.t=s("goog-control");u.Cc=function(a){var b=this.t(),c=[b],d=this.t();d!=b&&c.push(d);b=a.Ia;for(d=[];b;){var e=b&-b;d.push(this.nf(e));b&=~e}c.push.apply(c,d);(a=a.pc)&&c.push.apply(c,a);E&&!I("7")&&c.push.apply(c,Je(this,c));return c};
function Je(a,b,c){var d=[];if(c)b=b.concat([c]);B([],function(e){if(La(e,ta(D,b))&&(!c||D(e,c)))d.push(e.join("_"))});return d}u.nf=function(a){if(!this.Gh){var b=this.t();this.Gh=gb(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")}return this.Gh[a]};function Ke(a,b){if(!a)g(Error("Invalid class name "+a));if(!la(b))g(Error("Invalid decorator function "+b))}var Le={};function Me(a,b,c){je.call(this,c);if(!(b=b)){b=this.constructor;for(var d;b;){d=na(b);if(d=Le[d])break;b=b.h?b.h.constructor:m}b=d?la(d.oa)?d.oa():new d:m}this.J=b;this.Tf(a)}A(Me,je);u=Me.prototype;u.Ka=m;u.Ia=0;u.cb=39;u.Ah=255;u.nh=0;u.kb=k;u.pc=m;u.Fg=k;u.eg=n;function Ne(a,b){a.Z&&b!=a.Fg&&Oe(a,b);a.Fg=b}u.Ma=function(){return this.J.Ma(this)};u.qf=function(){return this.Ub||(this.Ub=new ye)};u.cg=function(a){if(a){if(this.pc)D(this.pc,a)||this.pc.push(a);else this.pc=[a];this.J.oe(this,a,k)}};
u.oe=function(a,b){if(b)this.cg(a);else if(a&&this.pc){Na(this.pc,a);if(this.pc.length==0)this.pc=m;this.J.oe(this,a,n)}};u.i=function(){var a=this.J.i(this);this.q=a;var b=this.J.ec();b&&Fe(a,b);this.eg||this.J.Sf(a,n);this.Xa()||this.J.za(a,n)};u.wa=function(){return this.J.wa(this.f())};u.pa=function(){Me.h.pa.call(this);this.J.rc(this);if(this.cb&-2){this.Fg&&Oe(this,k);if(this.cb&32){var a=this.Ma();if(a){var b=this.qf();ze(b,a);this.ab().u(b,"key",this.qc).u(a,"focus",this.sf).u(a,"blur",this.Qc)}}}};
function Oe(a,b){var c=a.ab(),d=a.f();if(b){c.u(d,"mouseover",a.Td).u(d,"mousedown",a.fb).u(d,"mouseup",a.jd).u(d,"mouseout",a.Sd);E&&c.u(d,"dblclick",a.Sh)}else{c.jb(d,"mouseover",a.Td).jb(d,"mousedown",a.fb).jb(d,"mouseup",a.jd).jb(d,"mouseout",a.Sd);E&&c.jb(d,"dblclick",a.Sh)}}u.ub=function(){Me.h.ub.call(this);this.Ub&&this.Ub.detach();this.Xa()&&this.ka()&&this.J.sc(this,n)};u.p=function(){Me.h.p.call(this);if(this.Ub){this.Ub.aa();delete this.Ub}delete this.J;this.pc=this.Ka=m};
u.ic=function(a){this.J.ic(this.f(),a);this.Tf(a)};u.Tf=ba("Ka");function Pe(a,b){var c=a.Ka;if(!c||y(c))return c;return(c=ha(c)?C(c,b).join(""):Oc(c))&&va(c)}u.pe=function(){return Pe(this,Oc)};u.Zc=function(a){Me.h.Zc.call(this,a);var b=this.f();b&&this.J.Zc(b,a)};u.Sf=function(a){this.eg=a;var b=this.f();b&&this.J.Sf(b,a)};u.Xa=r("kb");u.za=function(a,b){if(b||this.kb!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.f();c&&this.J.za(c,a);this.ka()&&this.J.sc(this,a);this.kb=a;return k}return n};
u.ka=function(){return!(this.Ia&1)};u.Jc=function(a){var b=this.ya;if(!(b&&typeof b.ka=="function"&&!b.ka())&&Qe(this,1,!a)){if(!a){this.setActive(n);this.tc(n)}this.Xa()&&this.J.sc(this,a);this.Hb(1,!a)}};u.tc=function(a){Qe(this,2,a)&&this.Hb(2,a)};u.qa=function(){return!!(this.Ia&4)};u.setActive=function(a){Qe(this,4,a)&&this.Hb(4,a)};u.lh=function(a){Qe(this,8,a)&&this.Hb(8,a)};u.Af=function(){return!!(this.Ia&16)};function Re(a,b){Qe(a,16,b)&&a.Hb(16,b)}
u.sa=function(a){Qe(this,64,a)&&this.Hb(64,a)};u.Hb=function(a,b){if(this.cb&a&&b!=!!(this.Ia&a)){this.J.Hb(this,a,b);this.Ia=b?this.Ia|a:this.Ia&~a}};function Se(a,b,c){if(a.Z&&a.Ia&b&&!c)g(Error("Component already rendered"));!c&&a.Ia&b&&a.Hb(b,n);a.cb=c?a.cb|b:a.cb&~b}function Te(a,b){return!!(a.Ah&b)&&!!(a.cb&b)}function Qe(a,b,c){return!!(a.cb&b)&&!!(a.Ia&b)!=c&&(!(a.nh&b)||a.dispatchEvent(le(b,c)))&&!a.qg}
u.Td=function(a){!Ue(a,this.f())&&this.dispatchEvent("enter")&&this.ka()&&Te(this,2)&&this.tc(k)};u.Sd=function(a){if(!Ue(a,this.f())&&this.dispatchEvent("leave")){Te(this,4)&&this.setActive(n);Te(this,2)&&this.tc(n)}};function Ue(a,b){return!!a.relatedTarget&&Jc(b,a.relatedTarget)}u.fb=function(a){if(this.ka()){Te(this,2)&&this.tc(k);if(ad(a,0)){Te(this,4)&&this.setActive(k);this.J.Rc(this)&&this.Ma().focus()}}!this.eg&&ad(a,0)&&a.preventDefault()};
u.jd=function(a){if(this.ka()){Te(this,2)&&this.tc(k);this.qa()&&this.Hc(a)&&Te(this,4)&&this.setActive(n)}};u.Sh=function(a){this.ka()&&this.Hc(a)};u.Hc=function(a){Te(this,16)&&Re(this,!this.Af());Te(this,8)&&this.lh(k);Te(this,64)&&this.sa(!(this.Ia&64));var b=new Wc("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,e=0;d=c[e];e++)b[d]=a[d];return this.dispatchEvent(b)};u.sf=function(){Te(this,32)&&Qe(this,32,k)&&this.Hb(32,k)};
u.Qc=function(){Te(this,4)&&this.setActive(n);Te(this,32)&&Qe(this,32,n)&&this.Hb(32,n)};u.qc=function(a){if(this.Xa()&&this.ka()&&this.Rd(a)){a.preventDefault();a.stopPropagation();return k}return n};u.Rd=function(a){return a.keyCode==13&&this.Hc(a)};if(!la(Me))g(Error("Invalid component class "+Me));if(!la(He))g(Error("Invalid renderer class "+He));var Ve=na(Me);Le[Ve]=He;Ke("goog-control",function(){return new Me(m)});function We(){this.Hh=[]}A(We,He);fa(We);function Xe(a,b){var c=a.Hh[b];if(!c){switch(b){case 0:c=a.t()+"-highlight";break;case 1:c=a.t()+"-checkbox";break;case 2:c=a.t()+"-content"}a.Hh[b]=c}return c}u=We.prototype;u.ec=s("menuitem");u.i=function(a){var b=a.X().i("div",this.Cc(a).join(" "),Ye(this,a.Ka,a.X()));Ze(this,a,b,!!(a.cb&8)||!!(a.cb&16));return b};u.wa=function(a){return a&&a.firstChild};
u.ic=function(a,b){var c=this.wa(a),d=$e(this,a)?c.firstChild:m;We.h.ic.call(this,a,b);if(d&&!$e(this,a))c.insertBefore(d,c.firstChild||m)};function Ye(a,b,c){a=Xe(a,2);return c.i("div",a,b)}u.kh=function(a,b,c){if(b){Fe(b,c?"menuitemradio":this.ec());Ze(this,a,b,c)}};function $e(a,b){var c=a.wa(b);if(c){c=c.firstChild;var d=Xe(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return n}
function Ze(a,b,c,d){if(d!=$e(a,c)){d?qc(c,"goog-option"):rc(c,"goog-option");c=a.wa(c);if(d){a=Xe(a,1);c.insertBefore(b.X().i("div",a),c.firstChild||m)}else c.removeChild(c.firstChild)}}u.nf=function(a){switch(a){case 2:return Xe(this,0);case 16:case 8:return"goog-option-selected";default:return We.h.nf.call(this,a)}};u.t=s("goog-menuitem");function af(a,b,c,d){Me.call(this,a,d||We.oa(),c);this.Ea(b)}A(af,Me);af.prototype.Oa=function(){var a=this.Vg;return a!=m?a:this.pe()};af.prototype.Ea=ba("Vg");af.prototype.kh=function(a){Se(this,8,a);this.Af()&&!a&&Re(this,n);var b=this.f();b&&this.J.kh(this,b,a)};af.prototype.pe=function(){return Pe(this,function(a){return D(pc(a),"goog-menuitem-accel")?"":Oc(a)})};Ke("goog-menuitem",function(){return new af(m)});function bf(a,b){this.zf=a||1;this.Qe=b||cf;this.gg=sa(this.Pk,this);this.Tg=ua()}A(bf,Kd);bf.prototype.enabled=n;var cf=ca.window;u=bf.prototype;u.Xb=m;u.Pk=function(){if(this.enabled){var a=ua()-this.Tg;if(a>0&&a<this.zf*0.8)this.Xb=this.Qe.setTimeout(this.gg,this.zf-a);else{this.dispatchEvent(df);if(this.enabled){this.Xb=this.Qe.setTimeout(this.gg,this.zf);this.Tg=ua()}}}};u.start=function(){this.enabled=k;if(!this.Xb){this.Xb=this.Qe.setTimeout(this.gg,this.zf);this.Tg=ua()}};
u.stop=function(){this.enabled=n;if(this.Xb){this.Qe.clearTimeout(this.Xb);this.Xb=m}};u.p=function(){bf.h.p.call(this);this.stop();delete this.Qe};var df="tick";function ef(a,b,c){if(la(a)){if(c)a=sa(a,c)}else if(a&&typeof a.handleEvent=="function")a=sa(a.handleEvent,a);else g(Error("Invalid listener argument"));return b>2147483647?-1:cf.setTimeout(a,b||0)};function ff(a){this.q=a;a=E?"focusout":"blur";this.jk=yd(this.q,E?"focusin":"focus",this,!E);this.kk=yd(this.q,a,this,!E)}A(ff,Kd);ff.prototype.handleEvent=function(a){var b=new Zc(a.oc);b.type=a.type=="focusin"||a.type=="focus"?"focusin":"focusout";try{this.dispatchEvent(b)}finally{b.aa()}};ff.prototype.p=function(){ff.h.p.call(this);Cd(this.jk);Cd(this.kk);delete this.q};function gf(a,b,c){this.target=a;this.handle=b||a;this.Ug=c||new Nd(NaN,NaN,NaN,NaN);this.ba=wc(a);this.nc=new Id(this);yd(this.handle,"mousedown",this.vc,n,this)}A(gf,Kd);var hf=E||F&&I("1.9.3");u=gf.prototype;u.screenX=0;u.screenY=0;u.Mi=0;u.Oi=0;u.sb=0;u.tb=0;u.mb=k;u.Nc=n;u.$h=0;u.pk=0;u.fk=n;u.ab=r("nc");u.Jc=ba("mb");u.p=function(){gf.h.p.call(this);Ad(this.handle,"mousedown",this.vc,n,this);this.nc.aa();delete this.target;delete this.handle;delete this.nc};
u.vc=function(a){if(this.mb&&!this.Nc&&(a.type!="mousedown"||ad(a,0))){if(this.$h==0){jf(this,a);if(this.Nc)a.preventDefault();else return}else a.preventDefault();var b=this.ba,c=b.documentElement,d=!hf;this.nc.u(b,"mousemove",this.qk,d);this.nc.u(b,"mouseup",this.kf,d);if(hf){c.setCapture(n);this.nc.u(c,"losecapture",this.kf)}else this.nc.u(b?Cc(b):window,"blur",this.kf);E&&this.fk&&this.nc.u(b,"dragstart",Xc);this.Gk&&this.nc.u(this.Gk,"scroll",this.uk,d);this.screenX=this.Mi=a.screenX;this.screenY=
this.Oi=a.screenY;this.sb=this.target.offsetLeft;this.tb=this.target.offsetTop;this.Ae=Rc(uc(this.ba));this.pk=ua()}};function jf(a,b){if(a.dispatchEvent(new kf("start",a,b.clientX,b.clientY,b))!==n)a.Nc=k}u.kf=function(a,b){this.nc.Ee();hf&&this.ba.releaseCapture();if(this.Nc){this.Nc=n;this.dispatchEvent(new kf("end",this,a.clientX,a.clientY,a,lf(this,this.sb),mf(this,this.tb),b))}};
u.qk=function(a){if(this.mb){var b=a.screenX-this.screenX,c=a.screenY-this.screenY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Nc){var d=this.Mi-this.screenX,e=this.Oi-this.screenY;if(d*d+e*e>this.$h){jf(this,a);if(!this.Nc){this.kf(a);return}}}c=nf(this,b,c);b=c.x;c=c.y;if(this.Nc)if(this.dispatchEvent(new kf("beforedrag",this,a.clientX,a.clientY,a,b,c))!==n){of(this,a,b,c,n);a.preventDefault()}}};
function nf(a,b,c){var d=Rc(uc(a.ba));b+=d.x-a.Ae.x;c+=d.y-a.Ae.y;a.Ae=d;a.sb+=b;a.tb+=c;return new K(lf(a,a.sb),mf(a,a.tb))}u.uk=function(a){var b=nf(this,0,0);a.clientX=this.Ae.x-this.screenX;a.clientY=this.Ae.x-this.screenY;of(this,a,b.x,b.y,k)};function of(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new kf("drag",a,b.clientX,b.clientY,b,c,d))}
function lf(a,b){var c=a.Ug,d=!isNaN(c.left)?c.left:m;c=!isNaN(c.width)?c.width:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}function mf(a,b){var c=a.Ug,d=!isNaN(c.top)?c.top:m;c=!isNaN(c.height)?c.height:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}function kf(a,b,c,d,e,f,h,i){Wc.call(this,a);this.clientX=c;this.clientY=d;this.ll=e;this.left=f!==undefined?f:b.sb;this.top=h!==undefined?h:b.tb;this.tl=b;this.sl=!!i}A(kf,Wc);function pf(a,b,c){je.call(this,c);this.Mb=a||"modal-dialog";this.qh=!!b;this.Lb=qf()}A(pf,je);u=pf.prototype;u.mf=m;u.Aj=k;u.Yh=k;u.qh=n;u.Kf=k;u.Oh=k;u.uj=0.5;u.Wi="";u.Ka="";u.Lb=m;u.Hd=m;u.kb=n;u.zj=n;u.Ja=m;u.Fa=m;u.Vf=m;u.Ue=m;u.Vi=m;u.Uf=m;u.je=m;u.jc=m;u.ic=function(a){this.Ka=a;if(this.je)this.je.innerHTML=a};u.wa=function(){this.f()||this.R();return this.je};
u.i=function(){if(this.qh&&this.Kf&&!this.Fa){this.Fa=this.X().i("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});this.Fa.className=this.Mb+"-bg";ee(this.Fa,n);de(this.Fa,0)}else if((!this.qh||!this.Kf)&&this.Fa){Ic(this.Fa);this.Fa=m}if(this.Kf&&!this.Ja){this.Ja=this.X().i("div",this.Mb+"-bg");de(this.Ja,this.uj);ee(this.Ja,n)}else if(!this.Kf&&this.Ja){Ic(this.Ja);this.Ja=m}var a=this.X();this.q=a.i("div",{className:this.Mb,tabIndex:0},this.Vf=a.i("div",{className:this.Mb+
"-title",id:me(this)},this.Ue=a.i("span",this.Mb+"-title-text",this.Wi),this.Uf=a.i("span",this.Mb+"-title-close")),this.je=a.i("div",this.Mb+"-content"),this.jc=a.i("div",this.Mb+"-buttons"),this.Pi=a.i("span",{tabIndex:0}));this.Vi=this.Vf.id;Fe(this.f(),"dialog");Ge(this.f(),"labelledby",this.Vi||"");if(this.Ka)this.je.innerHTML=this.Ka;ee(this.Uf,this.Yh);ee(this.f(),n);if(this.Lb){a=this.Lb;a.q=this.jc;a.R()}};
u.R=function(a){if(this.Z)g(Error("Component already rendered"));this.f()||this.i();a=a||Qc(this.X()).body;this.Fa&&a.appendChild(this.Fa);this.Ja&&a.appendChild(this.Ja);pf.h.R.call(this,a)};u.pa=function(){pf.h.pa.call(this);this.mf=new ff(Qc(this.X()));if(this.Oh&&!this.Hd){var a=new gf(this.f(),this.Vf);qc(this.Vf,this.Mb+"-title-draggable");this.Hd=a}this.ab().u(this.Uf,"click",this.wk).u(this.mf,"focusin",this.tk);Fe(this.f(),"dialog");this.Ue.id!==""&&Ge(this.f(),"labelledby",this.Ue.id)};
u.ub=function(){this.Xa()&&this.za(n);this.mf.aa();this.mf=m;if(this.Hd){this.Hd.aa();this.Hd=m}pf.h.ub.call(this)};
u.za=function(a){if(a!=this.kb){var b=Qc(this.X()),c=(b?Cc(b):window)||window;this.Z||this.R(b.body);if(a){rf(this);this.rd();this.ab().u(this.f(),"keydown",this.Nf).u(this.f(),"keypress",this.Nf).u(c,"resize",this.si)}else this.ab().jb(this.f(),"keydown",this.Nf).jb(this.f(),"keypress",this.Nf).jb(c,"resize",this.si);this.Fa&&ee(this.Fa,a);this.Ja&&ee(this.Ja,a);ee(this.f(),a);a&&this.focus();if(this.kb=a)this.ab().u(this.jc,"click",this.qi);else{this.ab().jb(this.jc,"click",this.qi);this.dispatchEvent(sf);
this.zj&&this.aa()}}};u.Xa=r("kb");u.focus=function(){try{this.f().focus()}catch(a){}if(this.Lb){var b=this.Lb.me;if(b)for(var c=Qc(this.X()),d=this.jc.getElementsByTagName("button"),e=0,f;f=d[e];e++)if(f.name==b){try{if(G||$b){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.f().appendChild(h);h.focus();this.f().removeChild(h)}f.focus()}catch(i){}break}}};
function rf(a){a.Fa&&ee(a.Fa,n);a.Ja&&ee(a.Ja,n);var b=Qc(a.X()),c=Bc((b?Cc(b):window)||window||window),d=Math.max(b.body.scrollWidth,c.width);b=Math.max(b.body.scrollHeight,c.height);if(a.Fa){ee(a.Fa,k);Zd(a.Fa,d,b)}if(a.Ja){ee(a.Ja,k);Zd(a.Ja,d,b)}if(a.Oh){c=$d(a.f());a.Hd.Ug=new Nd(0,0,d-c.width,b-c.height)}}
u.rd=function(){var a=Qc(this.X()),b=(a?Cc(a):window)||window;if(Rd(this.f())=="fixed")var c=a=0;else{c=Rc(this.X());a=c.x;c=c.y}var d=$d(this.f());b=Bc(b||window);a=Math.max(a+b.width/2-d.width/2,0);c=Math.max(c+b.height/2-d.height/2,0);Sd(this.f(),a,c)};u.wk=function(){if(this.Yh){var a=this.Lb,b=a&&a.ig;if(b){a=a.m(b);this.dispatchEvent(new tf(b,a))&&this.za(n)}else this.za(n)}};
u.p=function(){pf.h.p.call(this);if(this.Ja){Ic(this.Ja);this.Ja=m}if(this.Fa){Ic(this.Fa);this.Fa=m}this.Pi=this.jc=this.Uf=m};u.qi=function(a){a:{for(a=a.target;a!=m&&a!=this.jc;){if(a.tagName=="BUTTON"){a=a;break a}a=a.parentNode}a=m}if(a&&!a.disabled){a=a.name;var b=this.Lb.m(a);this.dispatchEvent(new tf(a,b))&&this.za(n)}};
u.Nf=function(a){var b=n,c=n,d=this.Lb,e=a.target;if(a.type=="keydown")if(this.Aj&&a.keyCode==27){var f=d&&d.ig;e=e.tagName=="SELECT"&&!e.disabled;if(f&&!e){c=k;b=d.m(f);b=this.dispatchEvent(new tf(f,b))}else e||(b=k)}else{if(a.keyCode==9&&a.shiftKey&&e==this.f())c=k}else if(a.keyCode==13){if(e.tagName=="BUTTON")f=e.name;else if(d){var h=d.me,i;if(i=h)a:{i=d.q.getElementsByTagName("BUTTON");for(var j=0,l;l=i[j];j++)if(l.name==h||l.id==h){i=l;break a}i=m}i=i;e=(e.tagName=="TEXTAREA"||e.tagName=="SELECT")&&
!e.disabled;if(i&&!i.disabled&&!e)f=h}if(f){c=k;b=this.dispatchEvent(new tf(f,String(d.m(f))))}}if(b||c){a.stopPropagation();a.preventDefault()}b&&this.za(n)};u.si=function(){rf(this)};u.tk=function(a){this.Pi==a.target&&ef(this.Bj,0,this)};u.Bj=function(){E&&Qc(this.X()).body.focus();this.f().focus()};function tf(a,b){this.type=uf;this.key=a;this.caption=b}A(tf,Wc);var uf="dialogselect",sf="afterhide";function vf(a){this.Ab=a||uc();kb.call(this)}A(vf,kb);u=vf.prototype;u.Mb="goog-buttonset";
u.me=m;u.q=m;u.ig=m;u.hc=function(a,b,c,d){kb.prototype.hc.call(this,a,b);if(c)this.me=a;if(d)this.ig=a;return this};function wf(a,b,c,d){return a.hc(b.key,b.caption,c,d)}u.R=function(){if(this.q){this.q.innerHTML="";var a=uc(this.q);jb(this,function(b,c){var d=a.i("button",{name:c},b);if(c==this.me)d.className=this.Mb+"-default";this.q.appendChild(d)},this)}};
var xf=z("OK"),yf=z("Cancel"),zf=z("Yes"),Af=z("No"),Bf=z("Save"),Cf=z("Continue"),Df={key:"ok",caption:xf},Ef={key:"cancel",caption:yf},Ff={key:"yes",caption:zf},Gf={key:"no",caption:Af},Hf={key:"save",caption:Bf},If={key:"continue",caption:Cf};function qf(){return wf(wf(new vf,Df,k),Ef,n,k)}wf(new vf,Df,k,k);qf();wf(wf(new vf,Ff,k),Gf,n,k);wf(wf(wf(new vf,Ff),Gf,k),Ef,n,k);wf(wf(wf(new vf,If),Hf),Ef,k,k);function Jf(a,b,c,d,e,f,h){pf.call(this,e,f,h);this.Wi=a;this.Ue&&Kc(this.Ue,a);this.ic(b+"<br><br>");this.hg=c;this.ff=d!==undefined?d:"";yd(this,uf,this.ri);a=z("OK");b=z("Cancel");h=new vf(h);h.hc("ok",a,k);h.hc("cancel",b,n,k);this.Lb=h;if(this.jc)if(this.Lb){h=this.Lb;h.q=this.jc;h.R()}else this.jc.innerHTML=""}A(Jf,pf);u=Jf.prototype;u.hg=ea;u.ff="";u.Jb=m;u.Ig=n;u.$g=1;u.df=0;
u.i=function(){Jf.h.i.call(this);var a={className:this.Mb+"-userInput",value:this.ff};if(this.$g==1){this.Jb=this.X().i("input",a);this.Jb.type="text";if(this.df)this.Jb.size=this.df}else{this.Jb=this.X().i("textarea",a);this.Jb.rows=this.$g;if(this.df)this.Jb.cols=this.df}this.wa().appendChild(this.X().i("div",{style:"overflow: auto"},this.Jb));if(this.$g>1)this.Lb.me=m};u.za=function(a){pf.prototype.za.call(this,a);if(a){this.Ig=n;this.Jb.value=this.ff;this.focus()}};
u.focus=function(){$b&&this.Jb.focus();this.Jb.select()};u.Jk=ba("ff");u.ri=function(a){if(!this.Ig){this.Ig=k;a.key=="ok"?ef(sa(this.hg,this,this.Jb.value),1):ef(sa(this.hg,this,m),1)}};u.p=function(){Ic(this.Jb);Ad(this,uf,this.ri,k,this);Jf.h.p.call(this);this.Jb=this.rl=m};function Kf(a,b,c,d,e,f,h,i){var j,l=c.offsetParent;if(l){var o=l.tagName=="HTML"||l.tagName=="BODY";if(!o||Rd(l)!="static"){j=Xd(l);o||(j=L(j,new K(l.scrollLeft,l.scrollTop)))}}l=ae(a);(o=Wd(a))&&l.bi(Od(o));o=uc(a);var p=uc(c);if(o.ba!=p.ba){var q=o.ba.body;p=Cc(p.ba);var t=new K(0,0),v=wc(q)?Cc(wc(q)):window,x=q;do{var H;if(v==p)H=Xd(x);else{var J=x;H=new K;if(J.nodeType==1)if(J.getBoundingClientRect){var ja=Ud(J);H.x=ja.left;H.y=ja.top}else{ja=Rc(uc(J));J=Xd(J);H.x=J.x-ja.x;H.y=J.y-ja.y}else{H.x=
J.clientX;H.y=J.clientY}H=H}H=H;t.x+=H.x;t.y+=H.y}while(v&&v!=p&&(x=v.frameElement)&&(v=v.parent));q=L(t,Xd(q));if(E&&!yc(o.ba))q=L(q,Rc(o));l.left+=q.x;l.top+=q.y}a=(b&4&&Yd(a)?b^2:b)&-5;b=new K(a&2?l.left+l.width:l.left,a&1?l.top+l.height:l.top);if(j)b=L(b,j);if(e){b.x+=(a&2?-1:1)*e.x;b.y+=(a&1?-1:1)*e.y}var W;if(h)if((W=Wd(c))&&j){W.top=Math.max(0,W.top-j.y);W.right-=j.x;W.bottom-=j.y;W.left=Math.max(0,W.left-j.x)}a:{j=W;e=b.la();W=0;a=(d&4&&Yd(c)?d^2:d)&-5;d=$d(c);i=i?i.la():d;if(f||a!=0){if(a&
2)e.x-=i.width+(f?f.right:0);else if(f)e.x+=f.left;if(a&1)e.y-=i.height+(f?f.bottom:0);else if(f)e.y+=f.top}if(h){if(j){f=e;W=0;if(f.x<j.left&&h&1){f.x=j.left;W|=1}if(f.x<j.left&&f.x+i.width>j.right&&h&16){i.width-=f.x+i.width-j.right;W|=4}if(f.x+i.width>j.right&&h&1){f.x=Math.max(j.right-i.width,j.left);W|=1}if(h&2)W|=(f.x<j.left?16:0)|(f.x+i.width>j.right?32:0);if(f.y<j.top&&h&4){f.y=j.top;W|=2}if(f.y>=j.top&&f.y+i.height>j.bottom&&h&32){i.height-=f.y+i.height-j.bottom;W|=8}if(f.y+i.height>j.bottom&&
h&4){f.y=Math.max(j.bottom-i.height,j.top);W|=2}if(h&8)W|=(f.y<j.top?64:0)|(f.y+i.height>j.bottom?128:0);h=W}else h=256;W=h;if(W&496){c=W;break a}}Sd(c,e);h=d==i?k:!d||!i?n:d.width==i.width&&d.height==i.height;h||Zd(c,i);c=W}return c};function Lf(){}Lf.prototype.rd=aa();function Mf(a,b){this.element=a;this.Fd=b}A(Mf,Lf);Mf.prototype.rd=function(a,b,c){Kf(this.element,this.Fd,a,b,undefined,c)};function Nf(a,b,c){Mf.call(this,a,b);this.kj=c}A(Nf,Mf);Nf.prototype.rd=function(a,b,c,d){var e=Kf(this.element,this.Fd,a,b,m,c,10,d);if(e&496){var f=this.Fd,h=b;if(e&48){f^=2;h^=2}if(e&192){f^=1;h^=1}e=Kf(this.element,f,a,h,m,c,10,d);if(e&496)this.kj?Kf(this.element,this.Fd,a,b,m,c,5,d):Kf(this.element,this.Fd,a,b,m,c,0,d)}};function Of(a,b,c,d){Nf.call(this,a,b,c);this.Fk=d}A(Of,Nf);Of.prototype.rd=function(a,b,c,d){this.Fk?Kf(this.element,this.Fd,a,b,m,c,33,d):Of.h.rd.call(this,a,b,c,d)};function Pf(){}A(Pf,He);fa(Pf);u=Pf.prototype;u.ec=s("button");u.Ve=function(a,b,c){b==16?Ge(a,"pressed",c):Pf.h.Ve.call(this,a,b,c)};u.i=function(a){var b=Pf.h.i.call(this,a),c=a.Od();c&&this.Me(b,c);(c=a.Oa())&&this.Ea(b,c);a.cb&16&&this.Ve(b,16,n);return b};u.Oa=ea;u.Ea=ea;u.Od=function(a){return a.title};u.Me=function(a,b){if(a)a.title=b||""};u.t=s("goog-button");function Qf(){}A(Qf,Pf);fa(Qf);u=Qf.prototype;u.ec=aa();u.i=function(a){Ne(a,n);a.Ah&=-256;Se(a,32,n);return a.X().i("button",{"class":this.Cc(a).join(" "),disabled:!a.ka(),title:a.Od()||"",value:a.Oa()||""},a.pe()||"")};u.rc=function(a){a.ab().u(a.f(),"click",a.Hc)};u.Sf=ea;u.Zc=ea;u.Rc=function(a){return a.ka()};u.sc=ea;u.Hb=function(a,b,c){Qf.h.Hb.call(this,a,b,c);if((a=a.f())&&b==1)a.disabled=c};u.Oa=function(a){return a.value};u.Ea=function(a,b){if(a)a.value=b};u.Ve=ea;function Rf(a,b,c){Me.call(this,a,b||Qf.oa(),c)}A(Rf,Me);u=Rf.prototype;u.Oa=r("Zi");u.Ea=function(a){this.Zi=a;this.J.Ea(this.f(),a)};u.Od=r("Xi");u.Me=function(a){this.Xi=a;this.J.Me(this.f(),a)};u.p=function(){Rf.h.p.call(this);delete this.Zi;delete this.Xi};u.pa=function(){Rf.h.pa.call(this);if(this.cb&32){var a=this.Ma();a&&this.ab().u(a,"keyup",this.Rd)}};u.Rd=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Hc(a);return a.keyCode==32};
Ke("goog-button",function(){return new Rf(m)});function Sf(){}A(Sf,He);fa(Sf);Sf.prototype.i=function(a){return a.X().i("div",this.t())};Sf.prototype.ic=aa();Sf.prototype.t=s("goog-menuseparator");function Tf(a,b){Me.call(this,m,a||Sf.oa(),b);Se(this,1,n);Se(this,2,n);Se(this,4,n);Se(this,32,n);this.Ia=1}A(Tf,Me);Tf.prototype.pa=function(){Tf.h.pa.call(this);Fe(this.f(),"separator")};Ke("goog-menuseparator",function(){return new Tf});function Uf(){}fa(Uf);u=Uf.prototype;u.ec=aa();function Vf(a,b,c){if(b)b.tabIndex=c?0:-1}u.i=function(a){return a.X().i("div",this.Cc(a).join(" "))};u.wa=function(a){return a};u.rc=function(a){a=a.f();he(a,k,F);if(E)a.hideFocus=k;var b=this.ec();b&&Fe(a,b)};u.Ma=function(a){return a.f()};u.t=s("goog-container");u.Cc=function(a){var b=this.t(),c=[b,a.rf()==Wf?b+"-horizontal":b+"-vertical"];a.ka()||c.push(b+"-disabled");return c};u.Qh=function(){return Xf};function Yf(a,b,c){je.call(this,c);this.J=b||Uf.oa();this.Zd=a||this.J.Qh()}A(Yf,je);var Wf="horizontal",Xf="vertical";u=Yf.prototype;u.ji=m;u.Ub=m;u.J=m;u.Zd=m;u.kb=k;u.mb=k;u.xg=k;u.ma=-1;u.Qa=m;u.Gc=n;u.nj=n;u.xk=k;u.Lc=m;u.Ma=function(){return this.ji||this.J.Ma(this)};u.qf=function(){return this.Ub||(this.Ub=new ye(this.Ma()))};u.i=function(){this.q=this.J.i(this)};u.wa=function(){return this.J.wa(this.f())};
u.pa=function(){Yf.h.pa.call(this);re(this,function(b){b.Z&&Zf(this,b)},this);var a=this.f();this.J.rc(this);this.za(this.kb,k);this.ab().u(this,"enter",this.Dg).u(this,"highlight",this.Eg).u(this,"unhighlight",this.Gg).u(this,"open",this.ak).u(this,"close",this.Sj).u(a,"mousedown",this.fb).u(wc(a),"mouseup",this.Uj).u(a,["mousedown","mouseup","mouseover","mouseout"],this.Rj);this.Rc()&&$f(this,k)};
function $f(a,b){var c=a.ab(),d=a.Ma();b?c.u(d,"focus",a.sf).u(d,"blur",a.Qc).u(a.qf(),"key",a.qc):c.jb(d,"focus",a.sf).jb(d,"blur",a.Qc).jb(a.qf(),"key",a.qc)}u.ub=function(){this.nb(-1);this.Qa&&this.Qa.sa(n);this.Gc=n;Yf.h.ub.call(this)};u.p=function(){Yf.h.p.call(this);if(this.Ub){this.Ub.aa();this.Ub=m}this.J=this.Qa=this.Lc=m};u.Dg=s(k);
u.Eg=function(a){var b=ve(this,a.target);if(b>-1&&b!=this.ma){var c=te(this,this.ma);c&&c.tc(n);this.ma=b;c=te(this,this.ma);this.Gc&&c.setActive(k);if(this.xk&&this.Qa&&c!=this.Qa)c.cb&64?c.sa(k):this.Qa.sa(n)}Ge(this.f(),"activedescendant",a.target.f().id)};u.Gg=function(a){if(a.target==te(this,this.ma))this.ma=-1;Ge(this.f(),"activedescendant","")};u.ak=function(a){if((a=a.target)&&a!=this.Qa&&a.ya==this){this.Qa&&this.Qa.sa(n);this.Qa=a}};u.Sj=function(a){if(a.target==this.Qa)this.Qa=m};
u.fb=function(a){if(this.mb)this.Gc=k;var b=this.Ma();b&&Nc(b)?b.focus():a.preventDefault()};u.Uj=function(){this.Gc=n};u.Rj=function(a){var b;a:{b=a.target;if(this.Lc)for(var c=this.f();b&&b!==c;){var d=b.id;if(d in this.Lc){b=this.Lc[d];break a}b=b.parentNode}b=m}if(b)switch(a.type){case "mousedown":b.fb(a);break;case "mouseup":b.jd(a);break;case "mouseover":b.Td(a);break;case "mouseout":b.Sd(a)}};u.sf=aa();u.Qc=function(){this.nb(-1);this.Gc=n;this.Qa&&this.Qa.sa(n)};
u.qc=function(a){if(this.ka()&&this.Xa()&&(se(this)!=0||this.ji)&&this.Rd(a)){a.preventDefault();a.stopPropagation();return k}return n};
u.Rd=function(a){var b=te(this,this.ma);if(b&&typeof b.qc=="function"&&b.qc(a))return k;if(this.Qa&&this.Qa!=b&&typeof this.Qa.qc=="function"&&this.Qa.qc(a))return k;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return n;switch(a.keyCode){case 27:if(this.Rc())this.Ma().blur();else return n;break;case 36:ag(this);break;case 35:bg(this);break;case 38:if(this.Zd==Xf)cg(this);else return n;break;case 37:if(this.Zd==Wf)ue(this)?dg(this):cg(this);else return n;break;case 40:if(this.Zd==Xf)dg(this);else return n;
break;case 39:if(this.Zd==Wf)ue(this)?cg(this):dg(this);else return n;break;default:return n}return k};function Zf(a,b){var c=b.f();c=c.id||(c.id=me(b));if(!a.Lc)a.Lc={};a.Lc[c]=b}u.ta=function(a,b){Yf.h.ta.call(this,a,b)};u.he=function(a,b,c){a.nh|=2;a.nh|=64;if(this.Rc()||!this.nj)Se(a,32,n);Ne(a,n);Yf.h.he.call(this,a,b,c);c&&this.Z&&Zf(this,a);b<=this.ma&&this.ma++};
u.removeChild=function(a,b){if(a=y(a)?pe(this,a):a){var c=ve(this,a);if(c!=-1)if(c==this.ma)a.tc(n);else c<this.ma&&this.ma--;(c=a.f())&&c.id&&bb(this.Lc,c.id)}a=Yf.h.removeChild.call(this,a,b);Ne(a,k);return a};u.rf=r("Zd");u.Xa=r("kb");u.za=function(a,b){if(b||this.kb!=a&&this.dispatchEvent(a?"show":"hide")){this.kb=a;var c=this.f();if(c){ee(c,a);this.Rc()&&Vf(this.J,this.Ma(),this.mb&&this.kb);b||this.dispatchEvent(this.kb?"aftershow":"afterhide")}return k}return n};u.ka=r("mb");
u.Jc=function(a){if(this.mb!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.mb=k;re(this,function(b){if(b.aj)delete b.aj;else b.Jc(k)})}else{re(this,function(b){if(b.ka())b.Jc(n);else b.aj=k});this.Gc=this.mb=n}this.Rc()&&Vf(this.J,this.Ma(),a&&this.kb)}};u.Rc=r("xg");u.sc=function(a){a!=this.xg&&this.Z&&$f(this,a);this.xg=a;this.mb&&this.kb&&Vf(this.J,this.Ma(),a)};u.nb=function(a){if(a=te(this,a))a.tc(k);else this.ma>-1&&te(this,this.ma).tc(n)};u.tc=function(a){this.nb(ve(this,a))};
function ag(a){eg(a,function(b,c){return(b+1)%c},se(a)-1)}function bg(a){eg(a,function(b,c){b--;return b<0?c-1:b},0)}function dg(a){eg(a,function(b,c){return(b+1)%c},a.ma)}function cg(a){eg(a,function(b,c){b--;return b<0?c-1:b},a.ma)}function eg(a,b,c){c=c<0?ve(a,a.Qa):c;var d=se(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=te(a,c);if(f&&a.Eh(f)){a.nb(c);return k}e++;c=b.call(a,c,d)}return n}u.Eh=function(a){return a.Xa()&&a.ka()&&!!(a.cb&2)};function fg(){}A(fg,He);fa(fg);fg.prototype.t=s("goog-menuheader");function gg(a,b,c){Me.call(this,a,c||fg.oa(),b);Se(this,1,n);Se(this,2,n);Se(this,4,n);Se(this,32,n);this.Ia=1}A(gg,Me);Ke("goog-menuheader",function(){return new gg(m)});function hg(){}A(hg,Uf);fa(hg);hg.prototype.ec=s("menu");hg.prototype.ad=function(a,b){return Jc(a.f(),b)};hg.prototype.t=s("goog-menu");hg.prototype.rc=function(a){hg.h.rc.call(this,a);a=a.f();Ge(a,"haspopup","true")};function ig(a){Tf.call(this,Sf.oa(),a)}A(ig,Tf);Ke("goog-menuseparator",function(){return new Tf});function jg(a,b){Yf.call(this,Xf,b||hg.oa(),a);this.sc(n)}A(jg,Yf);u=jg.prototype;u.dg=k;u.oj=n;u.t=function(){return this.J.t()};u.ad=function(a){if(this.J.ad(this,a))return k;for(var b=0,c=se(this);b<c;b++){var d=te(this,b);if(typeof d.ad=="function"&&d.ad(a))return k}return n};u.yc=function(a){this.ta(a,k)};u.Ad=function(a,b){this.he(a,b,k)};u.Kd=function(a){return te(this,a)};u.pf=function(){return se(this)};
u.za=function(a,b){var c=jg.h.za.call(this,a,b);c&&a&&this.Z&&this.dg&&this.Ma().focus();return c};u.Dg=function(a){this.dg&&this.Ma().focus();return jg.h.Dg.call(this,a)};u.Eh=function(a){return(this.oj||a.ka())&&a.Xa()&&!!(a.cb&2)};function kg(){}A(kg,Pf);fa(kg);u=kg.prototype;u.i=function(a){var b={"class":"goog-inline-block "+this.Cc(a).join(" "),title:a.Od()||""};return a.X().i("div",b,this.kg(a.Ka,a.X()))};u.ec=s("button");u.wa=function(a){return a&&a.firstChild.firstChild};u.kg=function(a,b){return b.i("div","goog-inline-block "+(this.t()+"-outer-box"),b.i("div","goog-inline-block "+(this.t()+"-inner-box"),a))};u.t=s("goog-custom-button");function lg(){}A(lg,kg);fa(lg);if(F)lg.prototype.ic=function(a,b){var c=lg.h.wa.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,uc(a)),e=c.parentNode;e&&e.replaceChild(d,c)}};u=lg.prototype;u.wa=function(a){a=lg.h.wa.call(this,a&&a.firstChild);if(F&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};u.kg=function(a,b){return lg.h.kg.call(this,[this.createCaption(a,b),this.lg(b)],b)};u.createCaption=function(a,b){return mg(a,this.t(),b)};
function mg(a,b,c){return c.i("div","goog-inline-block "+(b+"-caption"),a)}u.lg=function(a){return a.i("div","goog-inline-block "+(this.t()+"-dropdown"),"")};u.t=s("goog-menu-button");function ng(a,b,c,d){Rf.call(this,a,c||lg.oa(),d);Se(this,64,k);b&&this.Yc(b);this.Xb=new bf(500)}A(ng,Rf);u=ng.prototype;u.zh=k;u.ah=n;u.Kg=n;u.pa=function(){ng.h.pa.call(this);this.G&&og(this,this.G,k);Ge(this.f(),"haspopup","true")};u.ub=function(){ng.h.ub.call(this);if(this.G){this.sa(n);this.G.ub();og(this,this.G,n);var a=this.G.f();a&&Ic(a)}};u.p=function(){ng.h.p.call(this);if(this.G){this.G.aa();delete this.G}delete this.Ak;this.Xb.aa()};
u.fb=function(a){ng.h.fb.call(this,a);if(this.qa()){this.sa(!(this.Ia&64));if(this.G)this.G.Gc=!!(this.Ia&64)}};u.jd=function(a){ng.h.jd.call(this,a);if(this.G&&!this.qa())this.G.Gc=n};u.Hc=function(){this.setActive(n);return k};u.Tj=function(a){this.G&&this.G.Xa()&&!this.ad(a.target)&&this.sa(n)};u.ad=function(a){return a&&Jc(this.f(),a)||this.G&&this.G.ad(a)||n};
u.Rd=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!="keyup")return n}else if(a.type!="key")return n;if(this.G&&this.G.Xa()){var b=this.G.qc(a);if(a.keyCode==27){this.sa(n);return k}return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.sa(k);return k}return n};u.te=function(){this.sa(n)};u.Yj=function(){this.qa()||this.sa(n)};u.Qc=function(a){this.Kg||this.sa(n);ng.h.Qc.call(this,a)};function pg(a){a.G||a.Yc(new jg(a.X()));return a.G||m}
u.Yc=function(a){var b=this.G;if(a!=b){if(b){this.sa(n);this.Z&&og(this,b,n);delete this.G}if(a){this.G=a;oe(a,this);a.za(n);var c=this.Kg;(a.dg=c)&&a.sc(k);this.Z&&og(this,a,k)}}return b};u.yc=function(a){pg(this).ta(a,k)};u.Ad=function(a,b){pg(this).he(a,b,k)};u.Kd=function(a){return this.G?te(this.G,a):m};u.pf=function(){return this.G?se(this.G):0};u.za=function(a,b){var c=ng.h.za.call(this,a,b);c&&!this.Xa()&&this.sa(n);return c};u.Jc=function(a){ng.h.Jc.call(this,a);this.ka()||this.sa(n)};
u.sa=function(a){ng.h.sa.call(this,a);if(this.G&&!!(this.Ia&64)==a){if(a){this.G.Z||this.G.R();this.$i=Wd(this.f());this.Ch=ae(this.f());qg(this);this.G.nb(-1)}else{this.setActive(n);this.G.Gc=n;if(this.Of!=m){this.Of=undefined;var b=this.G.f();b&&Zd(b,"","")}}this.G.za(a);b=this.ab();var c=a?b.u:b.jb;c.call(b,Qc(this.X()),"mousedown",this.Tj,k);this.Kg&&c.call(b,this.G,"blur",this.Yj);c.call(b,this.Xb,df,this.vk);a?this.Xb.start():this.Xb.stop()}};
function qg(a){if(a.G.Z){var b=a.Ak||a.f();b=new Of(b,a.zh?5:7,!a.ah,a.ah);var c=a.G.f();if(!a.G.Xa()){c.style.visibility="hidden";ee(c,k)}if(!a.Of&&a.ah)a.Of=$d(c);b.rd(c,a.zh?4:6,m,a.Of);if(!a.G.Xa()){ee(c,n);c.style.visibility="visible"}}}
u.vk=function(){var a=ae(this.f()),b=Wd(this.f()),c;c=this.Ch;c=c==a?k:!c||!a?n:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c)){c=this.$i;c=c==b?k:!c||!b?n:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left;c=!c}if(c){this.Ch=a;this.$i=b;qg(this)}};function og(a,b,c){var d=a.ab();c=c?d.u:d.jb;c.call(d,b,"action",a.te);c.call(d,b,"highlight",a.Eg);c.call(d,b,"unhighlight",a.Gg)}u.Eg=function(a){Ge(this.f(),"activedescendant",a.target.f().id)};
u.Gg=function(){te(this.G,this.G.ma)||Ge(this.f(),"activedescendant","")};Ke("goog-menu-button",function(){return new ng(m)});function rg(a){this.ld=[];sg(this,a)}A(rg,Kd);u=rg.prototype;u.Xc=m;u.bh=m;u.pf=function(){return this.ld.length};u.Kd=function(a){return this.ld[a]||m};function sg(a,b){if(b){B(b,function(c){this.ae(c,n)},a);Ra(a.ld,b)}}u.yc=function(a){this.Ad(a,this.pf())};u.Ad=function(a,b){if(a){this.ae(a,n);Sa(this.ld,b,0,a)}};u.ed=r("Xc");u.uc=function(a){if(a!=this.Xc){this.ae(this.Xc,n);this.Xc=a;this.ae(a,k)}this.dispatchEvent("select")};u.Ld=function(){return this.Xc?Ha(this.ld,this.Xc):-1};u.Le=function(a){this.uc(this.Kd(a))};
u.clear=function(){var a=this.ld;if(!ha(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.Xc=m};u.p=function(){rg.h.p.call(this);delete this.ld;this.Xc=m};u.ae=function(a,b){if(a)if(typeof this.bh=="function")this.bh(a,b);else typeof a.lh=="function"&&a.lh(b)};function tg(a,b,c,d){ng.call(this,a,b,c,d);this.ef=a;ug(this)}A(tg,ng);u=tg.prototype;u.A=m;u.ef=m;u.pa=function(){tg.h.pa.call(this);ug(this);vg(this)};u.p=function(){tg.h.p.call(this);if(this.A){this.A.aa();this.A=m}this.ef=m};u.te=function(a){this.uc(a.target);tg.h.te.call(this,a);a.stopPropagation();this.dispatchEvent("action")};u.uf=function(){var a=this.ed();tg.h.Ea.call(this,a&&a.Oa());ug(this)};
u.Yc=function(a){var b=tg.h.Yc.call(this,a);if(a!=b){this.A&&this.A.clear();if(a)this.A?re(a,function(c){this.A.yc(c)},this):wg(this,a)}return b};u.yc=function(a){tg.h.yc.call(this,a);this.A?this.A.yc(a):wg(this,pg(this))};u.Ad=function(a,b){tg.h.Ad.call(this,a,b);this.A?this.A.Ad(a,b):wg(this,pg(this))};u.uc=function(a){this.A&&this.A.uc(a)};u.Le=function(a){this.A&&this.uc(this.A.Kd(a))};
u.Ea=function(a){if(a!=m&&this.A)for(var b=0,c;c=this.A.Kd(b);b++)if(c&&typeof c.Oa=="function"&&c.Oa()==a){this.uc(c);return}this.uc(m)};u.ed=function(){return this.A?this.A.ed():m};u.Ld=function(){return this.A?this.A.Ld():-1};function wg(a,b){a.A=new rg;b&&re(b,function(c){this.A.yc(c)},a);vg(a)}function vg(a){a.A&&a.ab().u(a.A,"select",a.uf)}function ug(a){var b=a.ed();a.ic(b?b.pe():a.ef)}u.sa=function(a){tg.h.sa.call(this,a);this.Ia&64&&pg(this).nb(this.Ld())};Ke("goog-select",function(){return new tg(m)});function xg(){}A(xg,Sf);fa(xg);xg.prototype.i=function(a){return a.X().i("div",this.t()+" goog-inline-block","")};xg.prototype.t=s("goog-toolbar-separator");function yg(a,b){Tf.call(this,a||xg.oa(),b)}A(yg,Tf);Ke("goog-toolbar-separator",function(){return new yg});var zg={};function Ag(){}A(Ag,Pf);fa(Ag);Ag.prototype.i=function(a){var b={"class":"goog-inline-block "+this.Cc(a).join(" "),title:a.Od()||""};return a.X().i("div",b,a.Ka)};Ag.prototype.ec=s("button");Ag.prototype.Oa=s(m);Ag.prototype.t=s("goog-flat-button");Ke("goog-flat-button",function(){return new Rf(m,Ag.oa())});function Bg(){}A(Bg,Ag);fa(Bg);u=Bg.prototype;u.i=function(a){var b={"class":"goog-inline-block "+this.Cc(a).join(" "),title:a.Od()||""};return a.X().i("div",b,[this.createCaption(a.Ka,a.X()),this.lg(a.X())])};u.wa=function(a){return a&&a.firstChild};u.createCaption=function(a,b){return b.i("div","goog-inline-block "+(this.t()+"-caption"),a)};u.lg=function(a){return a.i("div","goog-inline-block "+(this.t()+"-dropdown"),"")};u.t=s("goog-flat-menu-button");
Ke("goog-flat-menu-button",function(){return new ng(m,m,Bg.oa())});function Cg(a,b,c){af.call(this,a,b,c);this.kh(k)}A(Cg,af);Cg.prototype.Hc=function(){return this.dispatchEvent("action")};Ke("goog-option",function(){return new Cg(m)});function Dg(){}A(Dg,Uf);fa(Dg);Dg.prototype.ec=s("toolbar");Dg.prototype.t=s("goog-toolbar");Dg.prototype.Qh=function(){return Wf};function Eg(a,b,c){Yf.call(this,b,a||Dg.oa(),c)}A(Eg,Yf);function Fg(){}A(Fg,kg);fa(Fg);Fg.prototype.t=s("goog-toolbar-button");function Gg(a,b,c){Rf.call(this,a,b||Fg.oa(),c)}A(Gg,Rf);Ke("goog-toolbar-button",function(){return new Gg(m)});var Hg={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ig(a){a=a%360;return a*360<0?a+360:a}function N(a){return a*Math.PI/180}function Jg(a,b,c,d){return Ig(Math.atan2(d-b,c-a)*180/Math.PI)}function Kg(a,b){var c=Ig(b)-Ig(a);if(c>180)c-=360;else if(c<=-180)c=360+c;return c};function Lg(a){var b={};a=String(a);var c=a.charAt(0)=="#"?a:"#"+a;if(Mg.test(c)){b.wf=Ng(c);b.type="hex";return b}else{a:{var d=a.match(Og);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(c>=0&&c<=255&&e>=0&&e<=255&&d>=0&&d<=255){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||e<0||e>255||isNaN(a)||a<0||a>255||isNaN(c)||c<0||c>255)g(Error('"('+e+","+a+","+c+'") is not a valid RGB color'));e=Pg(e.toString(16));a=Pg(a.toString(16));
c=Pg(c.toString(16));b.wf="#"+e+a+c;b.type="rgb";return b}else if(Hg)if(c=Hg[a.toLowerCase()]){b.wf=c;b.type="named";return b}}g(Error(a+" is not a valid color string"))}var Qg=/#(.)(.)(.)/;function Ng(a){if(!Mg.test(a))g(Error("'"+a+"' is not a valid hex color"));if(a.length==4)a=a.replace(Qg,"#$1$1$2$2$3$3");return a.toLowerCase()}var Mg=/^#(?:[0-9a-f]{3}){1,2}$/i,Og=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Pg(a){return a.length==1?"0"+a:a};function Rg(){}A(Rg,lg);fa(Rg);Rg.prototype.createCaption=function(a,b){return Rg.h.createCaption.call(this,Sg(a,b),b)};function Sg(a,b){return b.i("div","goog-color-menu-button-indicator",a)}Rg.prototype.Ea=function(a,b){a&&Tg(this.wa(a),b)};function Tg(a,b){if(a&&a.firstChild){var c;try{c=Lg(b).wf}catch(d){c=m}a.firstChild.style.borderBottomColor=c||(E?"":"transparent")}}Rg.prototype.rc=function(a){this.Ea(a.f(),a.Oa());qc(a.f(),"goog-color-menu-button");Rg.h.rc.call(this,a)};function Ug(){}A(Ug,He);fa(Ug);var Vg=0;Ug.prototype.i=function(a){var b=this.Cc(a);return a.X().i("div",b?b.join(" "):m,Wg(this,a.Ka,a.fd(),a.X()))};function Wg(a,b,c,d){for(var e=[],f=0,h=0;f<c.height;f++){for(var i=[],j=0;j<c.width;j++){var l=b&&b[h++];i.push(Xg(a,l,d))}e.push(d.i("tr",a.t()+"-row",i))}return a.Ih(e,d)}Ug.prototype.Ih=function(a,b){var c=b.i("table",this.t()+"-table",b.i("tbody",this.t()+"-body",a));c.cellSpacing=0;c.cellPadding=0;Fe(c,"grid");return c};
function Xg(a,b,c){a=c.i("td",{"class":a.t()+"-cell",id:a.t()+"-cell-"+Vg++},b);Fe(a,"gridcell");return a}
Ug.prototype.ic=function(a,b){if(a){var c=xc(document,"tbody",this.t()+"-body",a)[0];if(c){var d=0;B(c.rows,function(j){B(j.cells,function(l){Hc(l);if(b){var o=b[d++];o&&l.appendChild(o)}})});if(d<b.length){for(var e=[],f=uc(a),h=c.rows[0].cells.length;d<b.length;){var i=b[d++];e.push(Xg(this,i,f));if(e.length==h){i=f.i("tr",this.t()+"-row",e);c.appendChild(i);e.length=0}}if(e.length>0){for(;e.length<h;)e.push(Xg(this,"",f));i=f.i("tr",this.t()+"-row",e);c.appendChild(i)}}}he(a,k,F)}};
function Yg(a,b,c){for(b=b.f();c&&c.nodeType==1&&c!=b;){if(c.tagName=="TD"&&D(pc(c),a.t()+"-cell"))return c.firstChild;c=c.parentNode}return m}function Zg(a,b,c,d){if(c){c=c.parentNode;a=a.t()+"-cell-hover";d?qc(c,a):rc(c,a);b=b.f().firstChild;Ge(b,"activedescendent",c.id)}}Ug.prototype.t=s("goog-palette");function $g(a,b,c){Me.call(this,a,b||Ug.oa(),c)}A($g,Me);u=$g.prototype;u.Wb=m;u.ma=-1;u.A=m;u.p=function(){$g.h.p.call(this);if(this.A){this.A.aa();this.A=m}this.Wb=m};u.Tf=function(a){$g.h.Tf.call(this,a);ah(this);if(this.A){this.A.clear();sg(this.A,a)}else{this.A=new rg(a);this.A.bh=sa(this.ae,this);this.ab().u(this.A,"select",this.uf)}this.ma=-1};u.pe=s(m);
u.Td=function(a){$g.h.Td.call(this,a);var b=Yg(this.J,this,a.target);if(!(b&&a.relatedTarget&&Jc(b,a.relatedTarget)))if(b!=bh(this)){a=this.Ka;this.nb(a?Ha(a,b):-1)}};u.Sd=function(a){$g.h.Sd.call(this,a);var b=Yg(this.J,this,a.target);b&&a.relatedTarget&&Jc(b,a.relatedTarget)||b==bh(this)&&Zg(this.J,this,b,n)};u.fb=function(a){$g.h.fb.call(this,a);if(this.qa()){a=Yg(this.J,this,a.target);if(a!=bh(this)){var b=this.Ka;this.nb(b?Ha(b,a):-1)}}};u.Hc=function(){var a=bh(this);if(a){this.uc(a);return this.dispatchEvent("action")}return n};
u.qc=function(a){var b=this.Ka;b=b?b.length:0;var c=this.Wb.width;if(b==0||!this.ka())return n;if(a.keyCode==13||a.keyCode==32)return this.Hc(a);if(a.keyCode==36){this.nb(0);return k}else if(a.keyCode==35){this.nb(b-1);return k}var d=this.ma<0?this.Ld():this.ma;switch(a.keyCode){case 37:if(d==-1)d=b;if(d>0){this.nb(d-1);a.preventDefault();return k}break;case 39:if(d<b-1){this.nb(d+1);a.preventDefault();return k}break;case 38:if(d==-1)d=b+c-1;if(d>=c){this.nb(d-c);a.preventDefault();return k}break;
case 40:if(d==-1)d=-c;if(d<b-c){this.nb(d+c);a.preventDefault();return k}}return n};u.uf=aa();u.fd=r("Wb");u.Gb=function(a,b){if(this.f())g(Error("Component already rendered"));this.Wb=ka(a)?new tc(a,b):a;ah(this)};function bh(a){var b=a.Ka;return b&&b[a.ma]}u.nb=function(a){if(a!=this.ma){ch(this,this.ma,n);this.ma=a;ch(this,a,k)}};u.Ld=function(){return this.A?this.A.Ld():-1};u.ed=function(){return this.A?this.A.ed():m};u.Le=function(a){this.A&&this.A.Le(a)};u.uc=function(a){this.A&&this.A.uc(a)};
function ch(a,b,c){if(a.f()){var d=a.Ka;d&&b>=0&&b<d.length&&Zg(a.J,a,d[b],c)}}u.ae=function(a,b){if(this.f())if(a){var c=a.parentNode,d=this.J.t()+"-cell-selected";b?qc(c,d):rc(c,d)}};function ah(a){var b=a.Ka;if(b)if(a.Wb&&a.Wb.width){b=Math.ceil(b.length/a.Wb.width);if(!ka(a.Wb.height)||a.Wb.height<b)a.Wb.height=b}else{b=Math.ceil(Math.sqrt(b.length));a.Wb=new tc(b,b)}else a.Wb=new tc(0,0)};function dh(a,b,c){this.cf=a||[];$g.call(this,m,b||Ug.oa(),c);this.cf=this.cf;this.Mf=m;this.ic(eh(this))}A(dh,$g);dh.prototype.Mf=m;dh.prototype.Bg=function(){var a=this.ed();if(a){a=a.style[ce("background-color")]||"";return fh(a)}else return m};dh.prototype.mh=function(a){a=fh(a);if(!this.Mf)this.Mf=C(this.cf,function(b){return fh(b)});this.Le(a?Ha(this.Mf,a):-1)};
function eh(a){return C(a.cf,function(b){var c=this.X().i("div",{"class":this.J.t()+"-colorswatch",style:"background-color:"+b});if(b.charAt(0)=="#"){b=Ng(b);b="RGB ("+[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16)].join(", ")+")"}else b=b;c.title=b;return c},a)}function fh(a){if(a)try{return Lg(a).wf}catch(b){}return m};function gh(a,b,c,d){ng.call(this,a,b,c||Rg.oa(),d)}A(gh,ng);
var hh={al:["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],gl:["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],dl:["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c",
"#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]};function ih(a,b){var c=new jg(b);a&&B(a,function(d){c.ta(d,k)});Za(hh,function(d){d=new dh(d,m,b);d.Gb(8);c.ta(d,k)});return c}u=gh.prototype;u.Bg=function(){return this.Oa()};u.mh=function(a){this.Ea(a)};u.Ea=function(a){for(var b=0,c;c=this.Kd(b);b++)typeof c.mh=="function"&&c.mh(a);gh.h.Ea.call(this,a)};
u.te=function(a){if(typeof a.target.Bg=="function")this.Ea(a.target.Bg());else a.target.Oa()=="none"&&this.Ea(m);gh.h.te.call(this,a);a.stopPropagation();this.dispatchEvent("action")};u.sa=function(a){if(a&&this.pf()==0){this.Yc(ih(m,this.X()));this.Ea(this.Oa())}gh.h.sa.call(this,a)};Ke("goog-color-menu-button",function(){return new gh(m)});function jh(){}A(jh,lg);fa(jh);jh.prototype.t=s("goog-toolbar-menu-button");function kh(){}A(kh,jh);fa(kh);kh.prototype.createCaption=function(a,b){return mg(Sg(a,b),this.t(),b)};kh.prototype.Ea=function(a,b){a&&Tg(this.wa(a),b)};kh.prototype.rc=function(a){this.Ea(a.f(),a.Oa());qc(a.f(),"goog-toolbar-color-menu-button");kh.h.rc.call(this,a)};function lh(a,b,c,d){gh.call(this,a,b,c||kh.oa(),d)}A(lh,gh);Ke("goog-toolbar-color-menu-button",function(){return new lh(m)});function mh(a,b,c,d){ng.call(this,a,b,c||jh.oa(),d)}A(mh,ng);Ke("goog-toolbar-menu-button",function(){return new mh(m)});function nh(a,b,c,d){tg.call(this,a,b,c||jh.oa(),d)}A(nh,tg);Ke("goog-toolbar-select",function(){return new nh(m)});function oh(a,b,c,d,e,f){c=c;if((!c||c=="")&&F&&!I("1.9a"))c="";d=(f||uc()).i("DIV",d?{"class":d}:m,c);e=new Gg(d,e,f);ne(e,a);e.Me(b);return e}function ph(a,b,c,d,e,f){a=oh(a,b,c,d,e,f);Se(a,16,k);return a}function qh(a,b,c,d,e,f){e=new nh(m,m,e,f);d&&B(d.split(/\s+/),e.cg,e);e.cg("goog-toolbar-select");e.ef=c;ug(e);ne(e,a);e.Me(b);return e};function rh(a){return function(){return a}}var sh=rh(n);/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function O(){this.mb=this.ij()}A(O,Kd);u=O.prototype;u.ij=sh;function th(a,b){a.b=b;B(a.re(),function(c){b.Zg(c.id,c.key)})}u.re=function(){return[]};u.jf=function(a){if(this.b==a)this.mb=k;else this.M.log(yb,"Trying to enable an unregistered field with this plugin.",void 0)};u.pg=function(a){this.M.info("disable");if(this.b==a)this.mb=n;else this.M.log(yb,"Trying to disable an unregistered field with this plugin.",void 0)};u.M=Hb("kemia.controller.Plugin");
u.ka=function(a){return this.b==a?this.mb:n};u.p=function(){if(this.b)if(this.b){this.pg(this.b);this.b=m}O.h.p.call(this)};u.tj=k;var uh={};O.prototype.yh=sh;var vh=db({Ml:1,Nl:2,Pl:3,uf:4,tf:5,execCommand:6,queryCommandValue:7,fb:8,jd:9,Td:10,Sd:11,ue:12,Hl:13,Gl:14,Fl:15,Kl:16,Jl:17,Il:18,El:19,Dl:20,Bl:21,Vl:22,Ul:23,Sl:24,Rl:25,Ll:26});O.prototype.execCommand=function(a){var b=this.ii(a);try{wh(this.b);var c=this.Pc.apply(this,arguments)}finally{if(!b){P(this.b);this.b.dispatchEvent(xh)}}return c};
O.prototype.ii=sh;O.prototype.Qb=s(n);function yh(a,b){this.source=a;this.target=b}function zh(a,b,c){return((a.target.x-a.source.x)*(b.y-a.source.y)-(b.x-a.source.x)*(a.target.y-a.source.y))*((a.target.x-a.source.x)*(c.y-a.source.y)-(c.x-a.source.x)*(a.target.y-a.source.y))>0};function Ah(a,b){this.x=Number(a)||0;this.y=Number(b)||0}A(Ah,K);function Bh(a){return new Ah(a.x,a.y)}u=Ah.prototype;u.la=function(){return new Ah(this.x,this.y)};u.scale=function(a){this.x*=a;this.y*=a;return this};u.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y))};u.add=function(a){this.x+=a.x;this.y+=a.y;return this};u.Pe=function(a){this.x-=a.x;this.y-=a.y;return this};function Ch(a,b,c,d,e){this.source=a!==undefined?a:new K(10,0);this.target=b!==undefined?b:M(this.source,new K(2,0));this.style=c!==undefined?c:Dh;this.Yg=d!==undefined?d:"";this.jg=e!==undefined?e:""}u=Ch.prototype;u.translate=function(a){this.source=M(this.source,a);this.target=M(this.target,a)};u.va=function(){var a=Bh(this.source);return a.add(Bh(this.target).Pe(a).scale(0.5))};
u.rf=function(a){var b=new K((this.source.x+this.target.x)/2,(this.source.y+this.target.y)/2),c=new Bh(L(this.source,this.target));return zh(new yh(b,M(b,new Ah(-c.y,c.x))),a,this.target)?Eh:Fh};u.jh=function(a){this.Yg=a?a:""};u.dh=function(a){this.jg=a?a:""};u.toString=function(){return"kemia.model.Arrow "+this.source.toString()+" "+this.target.toString()};var Dh=1,Eh=1,Fh=2;function Gh(a){this.a=a!==undefined?a:new K(0,0)}Gh.prototype.translate=function(a){this.a=M(this.a,a)};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Hh(){this.yd={};O.call(this)}A(Hh,O);var Ih=db({Zk:"editArrow",$k:"editPlus"});u=Hh.prototype;u.Qb=function(a){return a in Ih};u.Dc=rh("ArrowPlusEdit");u.Pc=function(a,b,c){this.yd[a]=c};u.M=Hb("kemia.controller.plugins.ArrowPlusEdit");
u.fb=function(a){if(this.yd.editArrow){Q(this.b);var b=this.b.k.ca.transform.lb();b=R(b,[new K(a.offsetX,a.offsetY)]);Jh(this.b.r[0],new Ch(b[0]));S(this.b,this.b.r);P(this.b)}else if(this.yd.editPlus){Q(this.b);b=this.b.k.ca.transform.lb();b=R(b,[new K(a.offsetX,a.offsetY)]);a=this.b.r[0];b=new Gh(b[0]);a.Vb.push(b);b.Ha=a;S(this.b,this.b.r);P(this.b)}};u.sd=function(){this.yd.editArrow=n;this.yd.editPlus=n};u.queryCommandValue=function(a){var b=m;if(this.Qb(a))b=this.yd[a];return b};var Kh={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function Lh(a){this.Oe={};this.Fc={ud:[],Ri:0};this.Oj=hb(Mh);this.pj=k;this.mj=this.qj=n;this.ok=k;this.Ec=a;yd(this.Ec,"keydown",this.hd,n,this);Ub&&F&&I("1.8")&&yd(this.Ec,"keyup",this.Uh,n,this);if(Vb&&!F){yd(this.Ec,"keypress",this.Wh,n,this);yd(this.Ec,"keyup",this.Xh,n,this)}}var Nh;A(Lh,Kd);var Mh=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],Oh={ej:"shortcut",dj:"shortcut_"};u=Lh.prototype;
u.Zg=function(a){var b=Ph,c=this.Oe,d=arguments;if(y(d[1])){d=d[1];d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();d=d.split(" ");for(var e=[],f,h=0;f=d[h];h++){var i=f.split("+"),j;f=0;for(var l,o=0;l=i[o];o++){switch(l){case "shift":f|=1;continue;case "ctrl":f|=2;continue;case "alt":f|=4;continue;case "meta":f|=8;continue}j=l;if(!Nh){i={};l=void 0;for(l in Kh)i[Kh[l]]=l;Nh=i}j=Nh[j];break}e.push({keyCode:j,mi:f})}d=e}else{e=d;h=1;if(ha(d[1])){e=d[1];h=0}for(d=[];h<e.length;h+=
2)d.push({keyCode:e[h],mi:e[h+1]})}b(c,d,a)};u.p=function(){Lh.h.p.call(this);this.Oe={};Ad(this.Ec,"keydown",this.hd,n,this);Ub&&F&&I("1.8")&&Ad(this.Ec,"keyup",this.Uh,n,this);if(Vb&&!F){Ad(this.Ec,"keypress",this.Wh,n,this);Ad(this.Ec,"keyup",this.Xh,n,this)}this.Ec=m};u.Uh=function(a){if(a.keyCode==224){this.li=k;ef(function(){this.li=n},400,this)}else{var b=a.metaKey||this.li;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&b){a.metaKey=b;this.hd(a)}}};
function Qh(a,b){return Vb&&!F&&b.ctrlKey&&b.altKey&&!b.shiftKey}u.Wh=function(a){if(a.keyCode>32&&Qh(this,a))this.hi=k};u.Xh=function(a){!this.hi&&Qh(this,a)&&this.hd(a)};function Ph(a,b,c){var d=b.shift();d=d.keyCode&255|d.mi<<8;var e=a[d];if(e&&c&&(b.length==0||y(e)))g(Error("Keyboard shortcut conflicts with existing shortcut"));if(b.length){e||(e=a[d]={});Ph(e,b,c)}else a[d]=c}function Rh(a,b,c,d){c=c||0;if((d=(d||a.Oe)[b[c]])&&!y(d)&&b.length-c>1)return Rh(a,b,c+1,d);return d}
u.hd=function(a){if(Sh(this,a))if(a.type=="keydown"&&Qh(this,a))this.hi=n;else{var b=a.keyCode&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8,c,d,e=ua();if(this.Fc.ud.length&&e-this.Fc.Ri<=1500)c=Rh(this,this.Fc.ud);else this.Fc.ud.length=0;c=c?c[b]:this.Oe[b];if(!c){c=this.Oe[b];this.Fc.ud=[]}if(c&&y(c))d=c;else if(c){this.Fc.ud.push(b);this.Fc.Ri=e;F&&a.preventDefault()}else this.Fc.ud.length=0;if(d){this.pj&&a.preventDefault();this.qj&&a.stopPropagation();b=this.dispatchEvent(new Th(Oh.ej,
d,a.target));b&=this.dispatchEvent(new Th(Oh.dj+d,d,a.target));b||a.preventDefault();this.Fc.ud.length=0}}};
function Sh(a,b){var c=b.keyCode;if(c==16||c==17||c==18)return n;var d=b.target,e=d.tagName=="TEXTAREA"||d.tagName=="INPUT"||d.tagName=="BUTTON"||d.tagName=="SELECT",f=!e&&(d.isContentEditable||d.ownerDocument&&d.ownerDocument.designMode=="on");if(!e&&!f)return k;if(a.Oj[c]||a.mj)return k;if(f)return n;if(a.ok&&(b.altKey||b.ctrlKey||b.metaKey))return k;if(d.tagName=="INPUT"&&(d.type=="text"||d.type=="password"))return c==13;if(d.tagName=="INPUT"||d.tagName=="BUTTON")return c!=32;return n}
function Th(a,b,c){Wc.call(this,a,c);this.identifier=b}A(Th,Wc);/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Uh(){O.call(this)}A(Uh,O);Uh.prototype.Qb=function(a){return a=="selectSymbol"};Uh.prototype.Dc=rh("selectSymbol");var Vh=[{id:"H",key:"h"},{id:"C",key:"c"},{id:"N",key:"n"},{id:"S",key:"s"},{id:"P",key:"p"},{id:"O",key:"o"},{id:"F",key:"f"},{id:"I",key:"i"},{id:"+",key:[187,1]},{id:"-",key:189}];u=Uh.prototype;u.re=function(){return Vh};u.sd=function(){this.T=undefined};u.Pc=function(a,b){this.T=b};u.M=Hb("kemia.controller.plugins.AtomEdit");
u.tf=function(a){try{var b=a.identifier,c=Ma(Vh,function(e){return e.id==b});if(c){B(this.b.selected,function(e){if(e instanceof T)if("+"==c.id){Q(this.b);e.Va++;this.b.Kc(this.b.r);P(this.b)}else if("-"==c.id){Q(this.b);e.Va--;this.b.Kc(this.b.r);P(this.b)}else{var f=c.id;if(f!=e.T){Q(this.b);Wh(this,f,e);this.b.Kc(this.b.r);P(this.b);return k}}},this);return k}}catch(d){this.M.info(d)}};
u.ue=function(a){if(this.T){this.b.selected.length=0;this.b.$.style.cursor="default";var b=Xh(this.b,a);a.currentTarget.l&&a.currentTarget.l.clear();if(b instanceof T){Yh(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.l=a.currentTarget.l?this.wb(b,a.currentTarget.l):this.wb(b);return k}}return n};
u.fb=function(a){if(this.T){var b=this.b.selected;if(b.length)if(b.length==1&&a.shiftKey){a=b[0];Zh(a.v,a,$h,ai,this.T);this.b.Kc(this.b.r);P(this.b);return k}else B(b,function(c){if(c instanceof T)if(this.T&&this.T!=c.T){Q(this.b);Wh(this,this.T,c);this.b.Kc(this.b.r);P(this.b);return k}},this);else{this.le(bi(a));this.b.Kc(this.b.r);P(this.b);return k}}return n};u.wb=function(a,b){return this.b.k.ca.xb.ja(a,"purple",b)};
function Wh(a,b,c){var d=new T(b,c.a.x,c.a.y),e=c.v;B(c.g.L(),function(f){var h=f.la();h.v=undefined;c==h.source?h.source=d:h.target=d;ci(e,h);di(e,f)});ei(e,c);fi(e,d)}u.le=function(a){a=gi(this.b.k.transform.lb(),[a])[0];var b=new T(this.T,a.x,a.y);a=new U;fi(a,b);if(this.b.r.length>0){b=this.b.r[0];hi(b,a)}};u.queryCommandValue=function(a){if(a=="selectSymbol")return this.T};var ii={};var ji={C:4,Si:4,N:3,P:3,O:2,S:2,H:1,Br:1,Cl:1,I:1,F:1};function T(a,b,c,d,e,f){this.T=a!==undefined?a:"C";this.a=new K(b?b:0,c?c:0);this.g=new nb;this.Va=d?d:0;this.Df=f?f:0;this.ac=e!==undefined?e:n;this.Wl=m;this.ea=Array(3)}T.prototype.zb=function(){return this.g.of()};function ki(a){var b=ji[a.T],c=a.g.L();c=Ja(c,function(e,f){return e+f.Da},0);var d=0;if(b)d=b-c+a.Va;return d}function li(a){for(var b=a.g.L(),c=[],d=0,e=b.length;d<e;d++)c.push(V(b[d],a));return c}
function mi(a){var b=a.g.L(),c;if(b.length==0)c=0;else if(b.length==1){var d=V(b[0],a),e=Jg(a.a.x,a.a.y,d.a.x,d.a.y);b=C(d.g.L(),function(f){f=V(f,d);if(f!=a)return Kg(e,Jg(d.a.x,d.a.y,f.a.x,f.a.y))});Va(b);c=b[0]>0?e-120:e+120}else if(b.length==2){b=C(b,function(f){f=V(f,a);return Jg(a.a.x,a.a.y,f.a.x,f.a.y)});c=Kg(b[0],b[1]);if(Math.abs(c)<180)c=180+c/2;else c/=2;c=b[0]+c}else if(b.length==3){Va(b,function(f,h){return Wa(V(f,a).g.L().length,V(h,a).g.L().length)});b=Ta(b,0,2);b=C(b,function(f){f=
V(f,a);return Jg(a.a.x,a.a.y,f.a.x,f.a.y)});c=b[0]+Kg(b[0],b[1])/2}return c}T.prototype.la=function(){return new T(this.T,this.a.x,this.a.y,this.Va,this.ac,this.Df)};T.prototype.ib=function(a,b){this.ea[a]=b};T.prototype.toString=function(){return"kemia.model.Atom ["+this.T+"] "+this.a.toString()};function X(a,b,c,d,e,f){this.source=a;this.target=b;this.Da=c!==undefined?c:$h;this.fa=d!==undefined?d:ai;this.ac=e!==undefined?e:n;this.v=f!==undefined?f:m}function V(a,b){if(b===a.source)return a.target;if(b===a.target)return a.source;return m}X.prototype.la=function(){return new X(this.source,this.target,this.Da,this.fa,this.ac,this.v)};var $h=1,ai=10;
X.prototype.toString=function(){return"kemia.model.Bond["+this.Da+", "+this.fa+"]  "+this.source.toString()+" -- "+this.target.toString()+" mol: "+(this.v?this.v.name:"no molecule")};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function ni(){O.call(this);this.ag=n}A(ni,O);ni.prototype.Qb=function(a){return a=="selectBond"};ni.prototype.Dc=rh("selectBond");ni.prototype.Pc=function(a,b){this.Ua=b};var oi=[{id:"1",key:"1"},{id:"2",key:"2"},{id:"3",key:"3"},{id:"4",key:"4"},{id:"5",key:"5"},{id:"6",key:"6"},{id:"7",key:"7"},{id:"8",key:"8"},{id:"9",key:"9"}];ni.prototype.re=function(){return oi};
var pi=[{caption:"Single",Da:$h,fa:ai},{caption:"Double",Da:2,fa:ai},{caption:"Triple",Da:3,fa:ai},{caption:"Quadruple",Da:4,fa:ai},{caption:"Single Up",Da:$h,fa:11},{caption:"Single Down",Da:$h,fa:13},{caption:"Single Up or Down",Da:$h,fa:12}];u=ni.prototype;u.M=Hb("kemia.controller.plugins.BondEdit");
u.tf=function(a){var b=Ma(oi,function(c){return c.id==a.identifier});b&&B(this.b.selected,function(c){var d=parseInt(b.id);if(c instanceof T){c=c;Q(this.b);for(var e=0;e<d;e++){var f=Zh(c.v,c,$h,ai);if(f)c=V(f,c)}S(this.b,this.b.r);P(this.b);return k}return k},this)};
u.ue=function(a){if(this.Ua&&!this.ag){var b=Xh(this.b,a);this.b.selected.length=0;this.b.$.style.cursor="default";a.currentTarget.l&&a.currentTarget.l.clear();a.currentTarget.l=undefined;if(b instanceof T){Yh(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.l=a.currentTarget.l?this.wb(b,a.currentTarget.l):this.wb(b);return k}else if(b instanceof X){Yh(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.l=a.currentTarget.l?this.fc(b,a.currentTarget.l):this.fc(b);return k}}return n};
u.fb=function(a){try{var b=this.b.selected;if(b.length)B(b,function(d){if(d instanceof T)if(this.Ua){Q(this.b);d=Zh(d.v,d,this.Ua.Da,this.Ua.fa);this.b.selected.length=0;Yh(this.b,d);S(this.b,this.b.r);P(this.b);return k}if(d instanceof X)if(this.Ua)if(this.Ua.Da!=d.Da||this.Ua.fa!=d.fa||d.fa!=ai){Q(this.b);var e=this.Ua.fa!=ai&&d.fa==this.Ua.fa?new X(d.target,d.source,this.Ua.Da,this.Ua.fa):new X(d.source,d.target,this.Ua.Da,this.Ua.fa),f=d.v;di(f,d);ci(f,e);S(this.b,this.b.r);P(this.b);return k}},
this);else if(this.Ua){Q(this.b);this.le(bi(a));S(this.b,this.b.r);P(this.b);return k}}catch(c){this.M.log(yb,c,void 0)}};u.le=function(a){a=gi((this.b.k.transform?this.b.k.transform:this.b.k.ca.transform).lb(),[a])[0];var b=new T("C",a.x,a.y);a=new U;fi(a,b);Zh(a,b,this.Ua.Da,this.Ua.fa);if(this.b.r.length>0){b=this.b.r[0];b instanceof qi&&hi(b,a)}else this.b.Kc([a])};u.wb=function(a,b){return this.b.k.ca.xb.ja(a,"green",b)};u.fc=function(a,b){return this.b.k.ca.Bd.m(a).ja(a,"green",b)};
u.sd=function(){this.Ua=undefined};u.queryCommandValue=function(a){if(a=="selectBond")return this.Ua};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function ri(){O.call(this)}A(ri,O);ri.prototype.Dc=rh("clearEditor");ri.prototype.Qb=function(a){return a=="clearEditor"};ri.prototype.Pc=function(){try{Q(this.b);this.b.clear()}catch(a){this.M.info(a)}};ri.prototype.ii=sh;/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function si(){O.call(this)}A(si,O);u=si.prototype;u.Qb=function(a){return a=="erase"};u.Dc=rh("erase");u.M=Hb("kemia.controller.plugins.Erase");u.Pc=function(a,b,c){this.qa=c};
u.ue=function(a){if(this.qa){var b=Xh(this.b,a);this.b.$.style.cursor="default";a.currentTarget.l&&a.currentTarget.l.clear();if(b instanceof T){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.l=a.currentTarget.l?this.wb(b,a.currentTarget.l):this.wb(b);return k}else if(b instanceof X){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.l=a.currentTarget.l?this.fc(b,a.currentTarget.l):this.fc(b);return k}else if(b instanceof
U){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.l=a.currentTarget.l?this.kd(b,a.currentTarget.l):this.kd(b);return k}else if(b instanceof Gh){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.l=a.currentTarget.l?this.we(b,a.currentTarget.l):this.we(b);return k}else if(b instanceof Ch){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';if(a.currentTarget.dk)a.currentTarget.l=
this.ve(b,a.currentTarget.l);else a.currentTarget.dk=this.ve(b)}else{a.currentTarget.l=undefined;return n}}return n};u.fb=function(a){var b=n;if(this.qa){Q(this.b);a=Xh(this.b,a);if(a instanceof T){ti(this,a);b=k}if(a instanceof X){ui(this,a);b=k}if(a instanceof U){(b=a.Ha)?vi(b,a):Na(this.b.r,a);S(this.b,this.b.r);b=k}if(a instanceof Gh){Na(a.Ha.Vb,a);a.Ha=undefined;S(this.b,this.b.r);b=k}if(a instanceof Ch){Na(a.Ha.ia,a);a.Ha=undefined;S(this.b,this.b.r);b=k}P(this.b)}return b};
function ti(a,b){var c=b.v;B(b.g.L(),function(d){di(c,d)});ei(c,b);c.e.length==0&&vi(c.Ha,c);S(a.b,a.b.r)}function ui(a,b){var c=a.b.r,d=b.v;di(d,b);var e=wi(d);a.M.log(Cb,"fragements.length: "+e.length,void 0);var f=d.Ha;if(f){vi(f,d);B(e,function(h){hi(f,h)})}S(a.b,c)}u.sd=function(){this.qa=n;this.b.$.style.cursor="default"};u.queryCommandValue=function(a){var b=m;if(a=="erase")b=this.qa;return b};u.wb=function(a,b){return this.b.k.ca.xb.ja(a,"#ff6666",b)};
u.fc=function(a,b){return this.b.k.ca.Bd.m(a).ja(a,"#ff6666",b)};u.we=function(a,b){return this.b.k.Qf.ja(a,"#ff6666",b)};u.ve=function(a,b){return this.b.k.af.ja(a,"#ff6666",b)};u.kd=function(a,b){return this.b.k.ca.ja(a,"#ff6666",b)};function xi(a){a=String(a);var b;b=/^\s*$/.test(a)?n:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{return eval("("+a+")")}catch(c){}g(Error("Invalid JSON string: "+a))}function yi(a){return zi(new Ai,a)}function Ai(){}function zi(a,b){var c=[];Bi(a,b,c);return c.join("")}
function Bi(a,b,c){switch(typeof b){case "string":Ci(a,b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==m){c.push("null");break}if(ha(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++){c.push(e);Bi(a,b[f],c);e=","}c.push("]");break}c.push("{");d="";for(e in b)if(b.hasOwnProperty(e)){f=b[e];if(typeof f!="function"){c.push(d);Ci(a,e,c);c.push(":");Bi(a,f,c);d=","}}c.push("}");break;case "function":break;
default:g(Error("Unknown type: "+typeof b))}}var Di={'"':'\\"',"\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","":"\\u000b"},Ei=/\uffff/.test("?")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function Ci(a,b,c){c.push('"',b.replace(Ei,function(d){if(d in Di)return Di[d];var e=d.charCodeAt(0),f="\\u";if(e<16)f+="000";else if(e<256)f+="00";else if(e<4096)f+="0";return Di[d]=f+e.toString(16)}),'"')};function Fi(a,b){this.e=a;this.g=b;this.ea=Array(3);this.ob=m}Fi.prototype.ib=function(a,b){this.ea[a]=b};Fi.prototype.va=function(){if(!this.ob){for(var a=0,b=0,c=0,d=this.e.length;c<d;c++){a+=this.e[c].a.x;b+=this.e[c].a.y}this.ob=new K(a/this.e.length,b/this.e.length)}return this.ob};Fi.prototype.toString=function(){return"kemia.ring.Ring \n\t"+C(this.e,function(a){return" "+a.toString()},this).join("\n\t")+"\n\t"+C(this.g,function(a){return" "+a.toString()},this).join("\n\t")+"\n\t"};function Gi(a){this.e=a}function Hi(a){var b=a.e.length-1;return a.e.length>2&&a.e[0]==a.e[b]}
Gi.prototype.splice=function(a){var b;var c=a.e,d=this.e.length-1,e=c.length-1;if(this.e[d]==c[0]||this.e[d]==c[e])b=this.e[d];else if(this.e[0]==c[0]||this.e[0]==c[e])b=this.e[0];else g("Couldn't splice - no intersection");c=[];d=0;for(e=this.e.length;d<e;d++)c.push(this.e[d]);this.e[0]==b&&c.reverse();if(a.e[0]==b){d=1;for(e=a.e.length;d<e;d++)c.push(a.e[d])}else for(d=a.e.length-2;d>=0;d--)c.push(a.e[d]);a:{a=1;for(b=c.length-1;a<b;a++)for(d=1;d<b;d++)if(a!=d)if(c[a]==c[d]){a=n;break a}a=k}if(!a)return m;
return new Gi(c)};function Ii(a){this.Bc=[];this.e=[];for(var b=0,c=a.zb();b<c;b++){var d=a.g[b];this.Bc.push(new Gi([d.source,d.target]))}b=0;for(c=Y(a);b<c;b++)this.e.push(a.e[b])}
Ii.prototype.remove=function(a,b){for(var c=[],d=0,e=this.Bc.length;d<e;d++){var f=this.Bc[d];if(Hi(f))D(f.e,a)&&c.push(f);else{var h=f.e.length-1;if(f.e[0]==a||f.e[h]==a)c.push(f)}}d=[];f=0;for(h=c.length;f<h;f++)Hi(c[f])&&d.push(c[f]);f=0;for(h=d.length;f<h;f++){D(c,d[f])&&Na(c,d[f]);D(this.Bc,d[f])&&Na(this.Bc,d[f])}e=[];f=0;for(h=c.length;f<h;f++)for(var i=f+1;i<h;i++){var j=c[i].splice(c[f]);j!=m&&e.push(j)}f=0;for(h=c.length;f<h;f++)D(this.Bc,c[f])&&Na(this.Bc,c[f]);f=0;for(h=e.length;f<h;f++)!D(this.Bc,
e[f])&&e[f].e.length<=b+1&&this.Bc.push(e[f]);Na(this.e,a);return d};function Ji(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];e instanceof Array?b.push(Ji(e)):b.push(e)}return b}function Ki(a,b,c){if(a.length)a.push(b[0].concat(c[0]));else a[0]=b[0].concat(c[0])}function Li(a,b){return a.Cnum-b.Cnum}
function Mi(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var h=b[e];if(a.length>=h.length){for(var i=k,j=0,l=h.length;j<l;j++)D(a,h[j])||(i=n);if(i)return k}j=0;for(l=a.length;j<l;j++)D(h,a[j])&&d[j]++}b=n;j=0;for(l=a.length;j<l;j++)if(d[a[j]]<c[a[j]]-1)b=k;if(b){j=0;for(l=a.length;j<l;j++)d[a[j]]++;return n}return k}function Ni(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=b.g[a[d]],h=Oi(b,f.source);f=Oi(b,f.target);D(c,h)||c.push(h);D(c,f)||c.push(f)}return c}
function Pi(a){var b=a.zb()-Y(a)+1;if(!b)return[];var c;c=Y(a);for(var d=[],e=0;e<c;e++){for(var f=[],h=0;h<c;h++)if(e==h)f.push(0);else Qi(a,a.e[e],a.e[h])?f.push(1):f.push(99999999);d.push(f)}e=[];for(f=0;f<c;f++){h=[];for(var i=0;i<c;i++){var j=Qi(a,a.e[f],a.e[i]);j?h.push([[Ha(a.g,j)]]):h.push([])}e.push(h)}f=[];for(h=0;h<c;h++){i=[];for(j=0;j<c;j++)i.push([]);f.push(i)}for(h=0;h<c;h++)for(i=0;i<c;i++)for(j=0;j<c;j++){var l=d[i][j],o=d[i][h]+d[h][j],p=e[i][h],q=e[h][j];if(o!=1E8)if(l>o){f[i][j]=
l==o+1?Ji(e[i][j]):[];d[i][j]=o;e[i][j]=[p[0].concat(q[0])]}else if(l==o)p.length&&q.length&&Ki(e[i][j],p,q);else if(l==o-1)Ki(f[i][j],p,q);else d[i][j]=d[i][j]}c={D:d,Pe1:e,Pe2:f};d=c.D;e=c.Pe1;f=c.Pe2;h=d.length;c=[];for(i=0;i<h;i++)for(j=0;j<h;j++)d[i][j]==0||e[i][j].length==1&&f[i][j].length==0||c.push({Cnum:f[i][j].length?2*(d[i][j]+0.5):2*d[i][j],Pe1:e[i][j],Pe2:f[i][j]});c.sort(Li);a:{d=[];e=[];f=0;for(h=Y(a);f<h;f++)e.push(a.e[f].zb());i=[];for(f=0;f<Y(a);f++)i[f]=0;f=0;for(h=c.length;f<h;f++){j=
c[f];if(j.Cnum%2){l=0;for(o=j.Pe2.length;l<o;l++){p=p=j.Pe1[0].concat(j.Pe2[l]);q=d;var t=e,v=i,x=Ni(p,a);if(p.length===x.length)Mi(x,q,t,v)||q.push(x);if(d.length==b){b=d;break a}}}else{l=0;for(o=j.Pe1.length-1;l<o;l++){p=p=j.Pe1[l].concat(j.Pe1[l+1]);q=d;t=e;v=i;x=Ni(p,a);if(p.length===x.length)Mi(x,q,t,v)||q.push(x);if(d.length==b){b=d;break a}}}}b=d}c=0;for(d=b.length;c<d;c++){e=b;f=c;h=b[c];i=a;j=[h[0]];l=i.e[h[0]];for(o=0;h.length!=j.length;){o++;if(o>1E3)break;p=1;for(q=h.length;p<q;p++){t=
i.e[j[j.length-1]];v=i.e[h[p]];if(!D(j,h[p]))if(Qi(i,t,v))j.push(h[p]);else Qi(i,l,v)&&Sa(j,0,0,h[p])}}e[f]=j}return b};function Ri(a,b){for(var c=[],d=0,e=a.length;d<e;d++)c.push(b.e[a[d]]);e=[];d=0;for(var f=c.length-1;d<f;d++){var h=Qi(b,c[d],c[d+1]);h!=m&&e.push(h)}h=Qi(b,c[0],c[c.length-1]);h!=m&&e.push(h);return new Fi(c,e)};function Si(a,b,c,d,e,f){if(arguments.length==6)this.setTransform(a,b,c,d,e,f);else if(arguments.length!=0)g(Error("Insufficient matrix parameters"));else{this.ha=this.ra=1;this.xa=this.Aa=this.gb=this.hb=0}}u=Si.prototype;u.la=function(){return new Si(this.ha,this.xa,this.Aa,this.ra,this.gb,this.hb)};u.setTransform=function(a,b,c,d,e,f){if(!ka(a)||!ka(b)||!ka(c)||!ka(d)||!ka(e)||!ka(f))g(Error("Invalid transform parameters"));this.ha=a;this.xa=b;this.Aa=c;this.ra=d;this.gb=e;this.hb=f;return this};
u.scale=function(a,b){this.ha*=a;this.xa*=a;this.Aa*=b;this.ra*=b;return this};u.translate=function(a,b){this.gb+=a*this.ha+b*this.Aa;this.hb+=a*this.xa+b*this.ra;return this};u.rotate=function(a,b,c){a=Ti(new Si,a,b,c);b=this.ha;c=this.Aa;this.ha=a.ha*b+a.xa*c;this.Aa=a.Aa*b+a.ra*c;this.gb+=a.gb*b+a.hb*c;b=this.xa;c=this.ra;this.xa=a.ha*b+a.xa*c;this.ra=a.Aa*b+a.ra*c;this.hb+=a.gb*b+a.hb*c;return this};
u.toString=function(){return"matrix("+[this.ha,this.xa,this.Aa,this.ra,this.gb,this.hb].join(",")+")"};u.transform=function(a,b,c,d,e){var f=b;d=d;for(b=b+2*e;f<b;){e=a[f++];var h=a[f++];c[d++]=e*this.ha+h*this.Aa+this.gb;c[d++]=e*this.xa+h*this.ra+this.hb}};u.lb=function(){var a=this.ha*this.ra-this.Aa*this.xa;return new Si(this.ra/a,-this.xa/a,-this.Aa/a,this.ha/a,(this.Aa*this.hb-this.ra*this.gb)/a,(this.xa*this.gb-this.ha*this.hb)/a)};
function Ui(a,b){return(new Si).setTransform(1,0,0,1,a,b)}function Vi(a,b,c){return a.setTransform(b,0,0,c,0,0)}function Ti(a,b,c,d){var e=Math.cos(b);b=Math.sin(b);return a.setTransform(e,b,-b,e,c-c*e+d*b,d-c*b-d*e)};function Wi(a,b,c,d,e,f){Si.call(this);arguments.length==6&&this.setTransform(a,b,c,d,e,f)}A(Wi,Si);function R(a,b){var c=C(b,function(f){return[f.x,f.y]}),d=Ya(c);c=[];a.transform(d,0,c,0,d.length/2);d=[];for(var e=0;e<c.length;e+=2)d.push(new K(c[e],c[e+1]));return d}function gi(a,b){return R(a,b)}Wi.prototype.lb=function(){var a=this.ha*this.ra-this.Aa*this.xa;return new Wi(this.ra/a,-this.xa/a,-this.Aa/a,this.ha/a,(this.Aa*this.hb-this.ra*this.gb)/a,(this.xa*this.gb-this.ha*this.hb)/a)};function U(a){this.g=[];this.e=[];this.name=a?a:"";this.id=undefined;this.Ki=[];this.Lf=k;this.Bb=[];this.Jd=0}function ci(a,b){var c=Oi(a,b.source),d=Oi(a,b.target);if(a.Bb[c]!=a.Bb[d]){var e;if(a.Bb[c]<a.Bb[d]){c=a.Bb[c];e=a.Bb[d]}else{e=a.Bb[c];c=a.Bb[d]}a.Jd--;d=0;for(var f=a.e.length;d<f;d++)if(a.Bb[d]==c)a.Bb[d]=e}a.g.push(b);b.source.g.add(b);b.target.g.add(b);fi(a,b.source);fi(a,b.target);b.v=a}
function Xi(a){var b=1.25;if(a.g.length)b=Ja(a.g,function(c,d){return c+sc(d.source.a,d.target.a)},0)/a.g.length;return b}function Qi(a,b,c){a=b.g.L();for(var d=0,e=a.length;d<e;d++){var f=a[d];if(V(f,b)==c)return f}return m}function Oi(a,b){return Ha(a.e,b)}function ei(a,b){var c;if(b.constructor==Number)c=a.e[b];else if(b.constructor==T)c=b;var d=c.g.L();B(d,function(e){Na(this.g,e)},a);c.g.clear();Na(a.e,c);c.v=undefined}
function di(a,b){var c;c=b.constructor==Number?a.g[b]:b;c.source.g.remove(c);c.target.g.remove(c);if(c.source.g.L().length==0){Na(a.e,c.source);c.source.v=undefined}if(c.target.g.L().length==0){Na(a.e,c.target);c.target.v=undefined}Na(a.g,c);c.v=undefined;c.source=undefined;c.target=undefined}function Y(a){return a.e.length}u=U.prototype;u.zb=function(){return this.g.length};function fi(a,b){if(!D(a.e,b)){var c=a.e.length;a.Jd++;a.Bb[c]=a.Jd;a.e.push(b);b.v=a}}
function Yi(a){if(a.Lf){var b;if(a.zb()-Y(a)+a.Jd){b=0;for(var c=a.e.length;b<c;b++){var d=a.e[b];d.index=b;d.mc=undefined;d.Xd=undefined;a.e[b].index=b}b=0;for(c=a.g.length;b<c;b++)a.g[b].index=b;if(c=Y(a)){b=Xa(n,c);c=Xa(n,c);d=[];var e=a.e[0];e.mc=0;d.push(e);for(b[0]=k;;){if(!d.length)break;e=d[0];Oa(d,0);for(var f=e.g.L(),h=0,i=f.length;h<i;h++){var j=f[h],l=j.index;if(!c[l]){c[l]=k;var o=V(j,e);j=o.index;if(b[j]){j=[];if(e.mc==o.mc){j.push(e);j.push(o)}else{o.Xd=k;var p=li(o);l=0;for(var q=
p.length;l<q;l++){var t=p[l];t.mc==o.mc-1&&j.push(t)}}for(o=e.mc;;){j[0].Xd=k;j[1].Xd=k;o--;p=li(j[0]);l=0;for(q=p.length;l<q;l++)if(p[l].mc==o){j[0]=p[l];break}p=li(j[1]);l=0;for(q=p.length;l<q;l++)if(p[l].mc==o){j[1]=p[l];break}if(j[0]==j[1]){j[0].Xd=k;break}}}else{o.mc=e.mc+1;b[j]=k;d.push(o)}}}}}b=[];e=Y(a);c=Xa(n,e);d=Xa(n,e);e=Xa(-1,e);f=0;for(h=Y(a);f<h;f++){j=a.e[f];if(!c[j.index])if(j.Xd){i=new U;q=[];q.push(j);c[0]=k;t=new T;t.xf=j.index;e[j.index]=0;for(fi(i,t);;){if(!q.length)break;o=
q[0];Oa(q,0);p=o.g.L();j=0;for(l=p.length;j<l;j++){var v=p[j];t=v.index;if(!d[t]){d[t]=k;v=V(v,o);t=v.index;if(v.Xd){if(c[t]){t=Qi(a,o,v);var x=new X(i.e[e[o.index]],i.e[e[v.index]]);x.xf=t.index}else{c[t]=k;q.push(v);t=new T;t.xf=v.index;e[v.index]=i.e.length;fi(i,t);v=Qi(a,o,v);x=new X(i.e[e[o.index]],t);x.xf=v.index}ci(i,x)}}}}j=0;for(l=i.e.length;j<l;j++)i.e[j].index=j;j=0;for(l=i.g.length;j<l;j++)i.g[j].index=j;j=i.g.length-i.e.length+1;l=i;q=[];o=new Ii(l);p=0;for(t=Y(l);p<t;p++){v=o.remove(l.e[p],
6);for(x=0;x<v.length;x++){var H=v[x].e;Oa(H,H.length-1);for(var J=0,ja=H.length;J<ja;J++)H[J]=Oi(l,H[J]);q.push(H)}}Va(q);l=q;if(l.length>=j){l=l;q=j;x=i;o=[];p=[];t=0;for(v=Y(x);t<v;t++)p.push(x.e[t].zb());x=Xa(0,Y(x));t=0;for(v=l.length;t<v;t++){H=l[t];if(!Mi(H,o,p,x)){o.push(H);if(o.length==q)break}}q=o;if(q.length<j)q=Pi(i)}else q=Pi(i);j=0;for(l=q.length;j<l;j++){o=q[j];p=0;for(t=o.length;p<t;p++)o[p]=i.e[o[p]].xf}j=0;for(i=q.length;j<i;j++)b.push(Ri(q[j],a))}}b=b}else b=[];a.Ki=b;a.Lf=n}return a.Ki}
u.la=function(){var a=new U(this.name);B(this.e,function(b){fi(a,b)});B(this.g,function(b){ci(a,b)});return a};function wi(a){var b=a.la();if(b.Jd==1)return[b];var c=new kb;B(b.e,function(d){var e=b.Bb[Oi(b,d)];mb(c.Ya,e)==n&&c.hc(e,new U);fi(c.m(e),d)});B(b.g,function(d){var e=b.Bb[Oi(b,d.source)];ci(c.m(e),d)});return c.L()}function Zi(a,b){for(var c=[],d=a.g.length,e=0;e<d;e++)if(a.g[e].source==b||a.g[e].target==b)c.push(a.g[e]);return c}
u.toString=function(){return"kemia.model.Molecule - name: "+this.name+"\n\t"+C(this.e,function(a){return" "+Oi(this,a)+": "+a.toString()},this).join("\n\t")+"\n\t"+C(this.g,function(a){return" "+Oi(this,a.source)+", "+Oi(this,a.target)+":  "+a.toString()},this).join("\n\t")+"\n\t"+C(Yi(this),function(a){return a.toString()}).join("\n\t")};u.va=function(){var a=$i(this);return new K((a.left+a.right)/2,(a.top+a.bottom)/2)};function $i(a){return Md.apply(m,C(a.e,function(b){return b.a}))}
u.rotate=function(a,b){b!==undefined||(b=this.va());var c=Ti(new Wi,N(a),b.x,b.y);B(this.e,function(d){d.a=R(c,[d.a])[0]})};u.scale=function(a){var b=Vi(new Wi,a,a);B(this.e,function(c){c.a=R(b,[c.a])[0]})};u.translate=function(a){B(this.e,function(b){b.a=M(b.a,a)})};
function aj(a,b,c,d,e,f){Fa(D(b.g,c));Fa(D(a.g,d));Fa(D(e.g.L(),c));Fa(D(f.g.L(),d));var h=Xi(a)/Xi(b);b.scale(h);h=Bh(L(f.a,e.a));var i=V(d,f),j=V(c,e);b.rotate(180+Kg(Jg(e.a.x,e.a.y,j.a.x,j.a.y),Jg(i.a.x,i.a.y,f.a.x,f.a.y)),e.a);b.translate(h);var l=[c];B(e.g.L(),function(o){if(!D(l,o)){e==o.source?o.source=f:o.target=f;l.push(o);ci(this,o)}},a);j=V(c,e);i=V(d,f);B(j.g.L(),function(o){if(!D(l,o)){j==o.source?o.source=i:o.target=i;ci(this,o);l.push(o)}},a);c=Ia(b.g,function(o){return!D(l,o)});B(c,
function(o){ci(this,o)},a);b.g.length=0;b.e.length=0;b.Ha&&vi(b.Ha,b);delete b;a.Lf=k;return a}function Zh(a,b,c,d,e){var f=1.25,h=b.g.L();if(h.length)f=Ja(h,function(j,l){return j+sc(l.source.a,l.target.a)},0)/h.length;h=mi(b);if(h!=undefined){var i="C";if(e)i=e;e=new T(i,b.a.x+f*Math.cos(N(h)),b.a.y+f*Math.sin(N(h)));b=new X(b,e,c,d);fi(a,e);ci(a,b);return b}}u.M=Hb("kemia.model.Molecule");/*
 Copyright 2010 Paul Novak (paul@wingu.com)

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function qi(){this.Zh="";this.nd=[];this.ia=[];this.Vb=[]}u=qi.prototype;u.M=Hb("kemia.model.Reaction");
function bj(a,b){var c=cj(a),d=new Ah(0,0),e=$i(b);if(c.length>0){c=dj(c);if(e.left<=c.right&&c.left<=e.right&&e.top<=c.bottom&&c.top<=e.bottom)d=new Ah(c.right-e.left+3,0)}b.translate(d);if(!a.Ng(b)){d=ej(a);e=$i(b).right+3;if(a.ia.length>0)e-=a.ia[0].source.x;var f=new Ah(e,0);B(a.ia,function(h){h.translate(f)});B(a.Vb,function(h){h.translate(f)});B(d,function(h){h.translate(f)})}Fa(a.Ng(b));a.Vb.length=0;hi(a,b)}function cj(a){return Ia(a.nd,a.Ng,a)}function ej(a){return Ia(a.nd,a.Lg,a)}
function hi(a,b){a.nd.push(b);b.Ha=a}u.Ng=function(a){return this.ia.length>0?this.ia[0].rf(a.va())==Fh:k};u.Lg=function(a){return this.ia.length>0?this.ia[0].rf(a.va())==Eh:n};function vi(a,b){Na(a.nd,b);b.Ha=undefined}function Jh(a,b){if(a.ia.length)a.ia[0].Ha=undefined;a.ia.length=0;a.ia[0]=b;b.Ha=a}u.jh=function(a){this.ia.length>0&&this.ia[0].jh(a)};u.dh=function(a){this.ia.length>0&&this.ia[0].dh(a)};
function fj(a,b){var c;Va(b,function(d,e){return Wa($i(d).left,$i(e).left)});B(b,function(d){if(c){var e,f=$i(c);e=$i(d);f=new Ah(f.right,f.top);e=f.add((new Ah(e.left,e.bottom)).Pe(f).scale(0.5));e=new Gh(e);this.Vb.push(e);e.Ha=this}c=d},a)}function dj(a){a=Ya(C(a,function(b){return b.e}));a=C(a,function(b){return b.a});return a.length>0?Md.apply(m,a):m}
function gj(a){if(a.ia.length>0){var b=a.ia[0],c=dj(cj(a));a=dj(ej(a));if(c||a){c||(c=new Ld(a.top,a.left-1,a.bottom,a.left-1));a||(a=new Ld(c.top,c.right+1,c.bottom,c.right+1));c=new Ah(c.right,c.top);c=c.add((new Ah(a.left,a.bottom)).Pe(c).scale(0.5));c=Bh(c).Pe(Bh(b.va()));b.translate(c)}}}u.translate=function(a){B(this.nd,function(b){b.translate(a)});B(this.Vb,function(b){b.translate(a)});B(this.ia,function(b){b.translate(a)})};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function hj(a){if(a.Da==$h)return"SINGLE_BOND";if(a.Da==2)return"DOUBLE_BOND";if(a.Da==3)return"TRIPLE_BOND";if(a.Da==4)return"QUADRUPLE_BOND";g(Error("Invalid bond type ["+a.toString()+"]"))}function ij(a){if(a.fa==11)return"SINGLE_BOND_UP";if(a.fa==13)return"SINGLE_BOND_DOWN";if(a.fa==12)return"SINGLE_BOND_UP_OR_DOWN";return"NOT_STEREO"}
function jj(a,b,c,d){switch(a){case "SINGLE_BOND":switch(b){case "NOT_STEREO":return new X(c,d);case "SINGLE_BOND_UP":return new X(c,d,$h,11);case "SINGLE_BOND_UP_OR_DOWN":return new X(c,d,$h,12);case "SINGLE_BOND_DOWN":return new X(c,d,$h,13);default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}case "DOUBLE_BOND":return new X(c,d,2);case "TRIPLE_BOND":return new X(c,d,3);case "QUADRUPLE_BOND":return new X(c,d,4);case "AROMATIC":return new X(c,d,undefined,undefined,k);default:g(Error("invalid bond type/stereo ["+
a+"]/["+b+"]"))}}function kj(a){a=a.constructor==String?xi(a):a;var b=new U;b.name=a.name;b.id=a.id;B(a.atoms,function(c){fi(b,new T(c.symbol,c.coord.x,c.coord.y,c.charge))});B(a.bondindex,function(c){ci(b,jj(c.type,c.stereo,b.e[c.source],b.e[c.target]))});return b}
function lj(a){var b=C(a.e,function(d){return{symbol:d.T,coord:{x:d.a.x,y:d.a.y},charge:d.Va}}),c=C(a.g,function(d){var e=hj(d),f=ij(d);Oi(a,d.source);Oi(a,d.target);return{source:Oi(a,d.source),target:Oi(a,d.target),type:e,stereo:f}});return{name:a.name,id:a.id,atoms:b,bondindex:c}}function mj(a){return{source:{x:a.source.x,y:a.source.y},target:{x:a.target.x,y:a.target.y}}}function nj(a){return{x:a.a.x,y:a.a.y}}
function oj(a,b){var c;c=a.constructor==String?xi(a):a;var d=new qi,e=[];if(c.reactants)e=C(c.reactants,kj);var f=[];if(c.products)f=C(c.products,kj);d.Zh=c.header;if(c.arrows)B(c.arrows,function(h){Jh(d,new Ch(new K(h.source.x,h.source.y),new K(h.target.x,h.target.y)))});else f.length>0&&Jh(d,new Ch);d.jh(c.reagents_text);d.dh(c.conditions_text);c.pluses&&B(c.pluses,function(h){h=new Gh(new K(h.x,h.y));d.Vb.push(h);h.Ha=d});B(e,function(h){bj(d,h)});B(f,function(h){if(d.ia.length==0){var i=cj(d);
if(i.length>0){i=dj(i);i=new Ch(new K(i.right+3,(i.top+i.bottom)/2))}else i=new Ch(new K(3,0));Jh(d,i)}i=$i(h);var j=ej(d),l=0;if(j.length==0||b)l+=d.ia[0].target.x;else{j=dj(j);l+=j.right}l+=3;l-=i.left;if(l!=0){h.translate(new Ah(l,0));d.Vb.length=0}Fa(d.Lg(h));hi(d,h)});c.arrows||gj(d);if(d.Vb.length==0){fj(d,cj(d));fj(d,ej(d))}return d}
function pj(a){var b=a.Zh,c=C(cj(a),lj),d=C(ej(a),lj),e=C(a.ia,mj),f=C(a.Vb,nj),h;if(a.ia.length>0)h=a.ia[0].Yg;var i;if(a.ia.length>0)i=a.ia[0].jg;return{header:b,reactants:c,products:d,reagents_text:h,conditions_text:i,arrows:e,pluses:f}}Hb("kemia.io.json");/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function qj(){O.call(this)}A(qj,O);qj.prototype.M=Hb("kemia.controller.plugins.MoleculeEdit");qj.prototype.Qb=function(a){return a=="selectMoleculeTemplate"};qj.prototype.Dc=rh("selectMoleculeTemplate");var rj=[{id:"benzene",key:"a"}];u=qj.prototype;u.re=function(){return rj};
u.tf=function(a){var b=Ma(rj,function(e){return e.id==a.identifier});if(b){var c=Ma(sj,function(e){return e.name==b.id}),d=this.b.selected;if(d.length)B(d,function(e){if(e instanceof T){Q(this.b);tj(this,e,c);S(this.b,this.b.r);P(this.b);return k}if(e instanceof X){Q(this.b);uj(this,e,c);S(this.b,this.b.r);P(this.b);return k}},this);else return n}};u.Pc=function(a,b){this.$c=b};
u.fb=function(a){var b=this.b.selected;if(b.length&&this.$c)B(b,function(c){if(c instanceof T){Q(this.b);var d=Qa(c.v.e),e=tj(this,c,this.$c);e=Ia(e.e,function(f){return!D(d,f)});vj(this,a,e,c);S(this.b,this.b.r);P(this.b);return k}if(c instanceof X){Q(this.b);uj(this,c,this.$c);S(this.b,this.b.r);P(this.b);return k}},this);else if(this.$c){Q(this.b);this.le(gi(this.b.k.transform?this.b.k.transform.lb():this.b.k.ca.transform.lb(),[bi(a)])[0],this.$c);S(this.b,this.b.r);P(this.b);return k}};
u.ue=function(a){if(this.$c){var b=Xh(this.b,a);this.b.selected.length=0;this.b.$.style.cursor="default";a.currentTarget.l&&a.currentTarget.l.clear();a.currentTarget.l=undefined;if(b instanceof T){Yh(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.l=a.currentTarget.l?this.wb(b,a.currentTarget.l):this.wb(b);return k}else if(b instanceof X){Yh(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.l=a.currentTarget.l?this.fc(b,a.currentTarget.l):this.fc(b);return k}}return n};
u.wb=function(a,b){return this.b.k.ca.xb.ja(a,"yellow",b)};u.fc=function(a,b){return this.b.k.ca.Bd.m(a).ja(a,"yellow",b)};
function vj(a,b,c,d){var e=d.a,f=new gf(a.b.$);f.fj=d.v;f.ob=e;f.xc=R(a.b.k.transform?a.b.k.transform:a.b.k.ca.transform,[e])[0];f.eb=bi(b);f.ge=Jg(f.xc.x,f.xc.y,f.eb.x,f.eb.y);f.w=a.b;f.addEventListener("drag",function(){f.fj.bb.clear();f.qb=f.qb||f.sb;f.rb=f.rb||f.tb;var h=Jg(f.xc.x,f.xc.y,f.eb.x+(f.sb-f.qb),f.eb.y+(f.tb-f.rb))-f.ge;h-=h%30;f.ge+=h;var i=Ti(new Wi,-N(h),f.ob.x,f.ob.y);B(c,function(j){j.a=R(i,[j.a])[0]});S(f.w,f.w.r)});f.addEventListener("end",function(){f.aa()});f.vc(b)}
u.le=function(a,b){if(b)var c=kj(b);var d=L(a,c.va());c.translate(d);if(this.b.r.length>0){d=this.b.r;var e=d[0];if(e instanceof qi)hi(e,c);else e instanceof U&&d.push(c)}else hi(new qi,c)};function uj(a,b,c){a=kj(c);aj(b.v,a,a.g[0],b,a.g[0].target,b.source)}function tj(a,b,c){a=Zh(b.v,b,$h,ai);var d=V(a,b);c=kj(c);var e=c.e[0],f=Zh(c,e,$h,ai);return aj(b.v,c,f,a,e,d)}u.M=Hb("kemia.controller.plugins.MoleculeEdit");u.sd=function(){this.$c=undefined};u.queryCommandValue=function(a){if(a=="selectMoleculeTemplate")return this.$c};
u.wg=function(a){return Ia(C(a.e,function(b){var c=wj(this.b.ye,{x:b.a.x,y:b.a.y},this);c=Ia(c,function(d){if(d instanceof T)if(!D(a.e,d))return k;return n});return c.length>0?[b,c[0]]:n},this),function(b){return b!=n},this)};
var sj=[{name:"benzene",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:3,
target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclohexane",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,
type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopentane",atoms:[{symbol:"C",coord:{x:-2.3083,y:0.4635,z:0},charge:0},{symbol:"C",coord:{x:-2.3083,y:1.9635,z:0},charge:0},{symbol:"C",coord:{x:-0.8817,y:2.427,
z:0},charge:0},{symbol:"C",coord:{x:0,y:1.2135,z:0},charge:0},{symbol:"C",coord:{x:-0.8817,y:0,z:0},charge:0}],bondindex:[{source:1,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopentane-house",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},
{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"naphthalene",
atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.2991,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.2991,y:0,z:0},charge:0},{symbol:"C",coord:{x:3.8971,y:3,z:0},charge:0},{symbol:"C",coord:{x:5.1962,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:5.1962,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:3.8971,y:0,z:0},charge:0}],bondindex:[{source:0,
target:1,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:6,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:6,target:7,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:7,target:8,type:"SINGLE_BOND",stereo:"NOT_STEREO"},
{source:8,target:9,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:9,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclobutane",atoms:[{symbol:"C",coord:{x:0,y:0},charge:0},{symbol:"C",coord:{x:0,y:1.5},charge:0},{symbol:"C",coord:{x:-1.5,y:1.5000000000000002},charge:0},{symbol:"C",coord:{x:-1.5000000000000002,y:1.1102230246251565E-16},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,
type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopropane",atoms:[{symbol:"C",coord:{x:0,y:0},charge:0},{symbol:"C",coord:{x:0,y:1.5},charge:0},{symbol:"C",coord:{x:-1.2990381056766582,y:0.7500000000000001},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]}];/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function xj(){O.call(this);this.qa={};this.qa[yj]=k;this.Jg=n}A(xj,O);var yj="move",zj=db({cl:yj,fl:"rotate"});u=xj.prototype;u.Qb=function(a){return a in zj};u.Dc=rh("move");u.sd=function(){this.qa[yj]=n;this.qa.rotate=n};u.Pc=function(a,b,c){this.qa[a]=c};
u.ue=function(a){if((this.qa[yj]||this.qa.rotate)&&!this.Jg){var b=Xh(this.b,a);this.b.selected.length=0;this.b.$.style.cursor="default";a.currentTarget.l&&a.currentTarget.l.clear();if(this.qa.rotate){if(b instanceof U){Yh(this.b,b);this.b.$.style.cursor='url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';a.currentTarget.l=a.currentTarget.l?this.kd(b,a.currentTarget.l):this.kd(b);return k}}else if(b instanceof T){Yh(this.b,b);this.b.$.style.cursor="move";a.currentTarget.l=a.currentTarget.l?
this.wb(b,a.currentTarget.l):this.wb(b);return k}else if(b instanceof X){if(b.source.g.L().length==1||b.target.g.L().length==1){Yh(this.b,b);this.b.$.style.cursor="move";a.currentTarget.l=a.currentTarget.l?this.fc(b,a.currentTarget.l):this.fc(b)}return k}else if(b instanceof U){Yh(this.b,b);this.b.$.style.cursor="move";a.currentTarget.l=a.currentTarget.l?this.kd(b,a.currentTarget.l):this.kd(b);return k}else if(b instanceof Ch){Yh(this.b,b);if(!a.shiftKey){this.b.$.style.cursor="move";a.currentTarget.l=
a.currentTarget.l?this.ve(b,a.currentTarget.l):this.ve(b);return k}}else if(b instanceof Gh){Yh(this.b,b);if(!a.shiftKey){this.b.$.style.cursor="move";a.currentTarget.l=a.currentTarget.l?this.we(b,a.currentTarget.l):this.we(b);return k}}else if(!b){this.b.$.style.cursor="all-scroll";return k}return n}};
u.fb=function(a){if(this.qa[yj]||this.qa.rotate){a.currentTarget.l&&a.currentTarget.l.clear();a.currentTarget.l=undefined;this.Jg=k;var b=Xh(this.b,a);if(this.qa.rotate)if(b instanceof U){Q(this.b);this.b.$.style.cursor='url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';Aj(this,a,b);P(this.b);return k}if(this.qa[yj]){if(b instanceof T){Q(this.b);Bj(this,a,b);P(this.b);return k}if(b instanceof X){Q(this.b);Cj(this,a,b);P(this.b);return k}if(b instanceof U){Q(this.b);if(a.shiftKey){this.b.$.style.cursor=
'url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';Aj(this,a,b)}else Dj(this,a,b);P(this.b);return k}if(b instanceof Gh){Q(this.b);Ej(this,a,b);P(this.b);return k}if(b instanceof Ch){Q(this.b);Fj(this,a,b);P(this.b);return k}if(!b){Q(this.b);Gj(this,a);P(this.b);return k}}}return n};
u.jd=function(a){try{this.Jg=n;var b=Ia(Hj(this.b,a),function(e){return e instanceof T&&e!==this.rg},this),c=b.length>0?b[0]:undefined;if(this.rg&&c instanceof T){Q(this.b);U.$l(this.rg,c);this.rg=undefined;S(this.b,this.b.r);P(this.b);return k}}catch(d){this.M.log(yb,d,void 0)}};u.wb=function(a,b){return this.b.k.ca.xb.ja(a,"#3366ff",b)};u.fc=function(a,b){return this.b.k.ca.Bd.m(a).ja(a,"#3366ff",b)};u.kd=function(a,b){var c="#3366ff";if(a.Ha&&a.Ha.Lg(a))c="purple";return this.b.k.ca.ja(a,c,b)};
u.ve=function(a,b){return this.b.k.af.ja(a,"#3366ff",b)};u.we=function(a,b){return this.b.k.Qf.ja(a,"#3366ff",b)};u.queryCommandValue=function(a){return this.qa[a]};
function Ij(a,b){var c=a.v,d=b.v;B(b.g.L(),function(h){var i=h.la();b==i.source?i.source=a:i.target=a;ci(d,i);di(d,h)});ei(d,b);if(c!==d){B(c.e,function(h){fi(d,h)});B(c.g,function(h){h=h.la();h.v=undefined;ci(d,h)});B(c.e,function(h){ei(c,h)});B(c.g,function(h){di(c,h)});vi(c.Ha,c);delete c}var e=d.la(),f=d.Ha;vi(f,d);hi(f,e);return e}
function Jj(a,b){var c=b.v;B(b.g.L(),function(f){var h=f.la();b==h.source?h.source=a:h.target=a;ci(c,h);di(c,f)});ei(c,b);var d=c.la();B(d.g,aa());var e=c.Ha;vi(e,c);hi(e,d);return d}
function Bj(a,b,c){var d=new gf(a.b.$);d.Zb=b.clientX;d.$b=b.clientY;d.fg=c;d.w=a.b;d.addEventListener("drag",function(e){d.pb&&B(d.pb,function(h){h.clear()});d.pb=[];d.fg.v.bb&&d.fg.v.bb.clear();new Ui(e.clientX-d.Zb,e.clientY-d.$b);var f=gi(d.w.k.transform?d.w.k.transform.lb():d.w.k.ca.transform.lb(),[new K(e.clientX,e.clientY),new K(d.Zb,d.$b)]);c.a=M(c.a,L(f[0],f[1]));d.Zb=e.clientX;d.$b=e.clientY;d.bg=Pa(c,C(c.g.L(),function(h){var i=V(h,c);return Pa(i,C(i.g.L(),function(j){return V(j,i)}))}));
e=this.b.wg([c],d.bg);d.db=Ta(e,0,1);B(e,function(h){d.pb.push(d.w.k.ca.xb.ja(h[0]));d.pb.push(d.w.k.ca.xb.ja(h[1]))});d.w.k.ca.R(d.fg.v,d.w.k.ca.transform)},undefined,a);d.addEventListener("end",function(){try{B(d.db,function(f){f[0].v==f[1].v?Jj(f[0],f[1]):Ij(f[0],f[1])},this);S(d.w,d.w.r);d.db=[];d.aa()}catch(e){this.M.log(yb,e,void 0)}},undefined,a);d.vc(b)}
function Cj(a,b,c){var d,e;if(c.source.g.L().length==1){d=c.target;e=c.source}else if(c.target.g.L().length==1){d=c.source;e=c.target}if(d){var f=new gf(a.b.$),h=d.a;f.xc=R(a.b.k.transform?a.b.k.transform:a.b.k.ca.transform,[h])[0];f.eb=bi(b);f.ge=Jg(f.xc.x,f.xc.y,f.eb.x,f.eb.y);f.db=[];f.bf=c;f.w=a.b;f.addEventListener("drag",function(i){try{f.pb&&B(f.pb,function(x){x.clear()});f.pb=[];f.qb=f.qb||f.sb;f.rb=f.rb||f.tb;var j=f.sb-f.qb,l=f.tb-f.rb,o=Jg(f.xc.x,f.xc.y,f.eb.x+j,f.eb.y+l)-f.ge;o-=o%30;
f.ge+=o;var p=gi(Ti(new Wi,-N(o),h.x,h.y),[f.bf.source.a,f.bf.target.a]);f.bf.source.a=p[0];f.bf.target.a=p[1];S(f.w,f.w.r);var q=Xh(f.w,i,new K(f.eb.x+j,f.eb.y+l));if(q instanceof T&&q.v==e.v){var t=Pa(d,C(d.g.L(),function(x){return V(x,d)}));if(!D(t,q)){f.db=[[q,e]];f.pb.push(f.w.k.ca.xb.ja(e));f.pb.push(f.w.k.ca.xb.ja(q))}}}catch(v){this.M.log(yb,v,void 0)}},undefined,a);f.addEventListener("end",function(){try{B(f.db,function(j){j[0].v==j[1].v&&Jj(j[0],j[1])},this);S(f.w,f.w.r);f.db=[];f.aa()}catch(i){this.M.log(yb,
i,void 0)}finally{this.ag=n}},undefined,a);a.ag=k;f.vc(b)}}function Ej(a,b,c){var d=new gf(a.b.$);d.Zb=b.clientX;d.$b=b.clientY;d.Wg=c;d.w=a.b;d.addEventListener("drag",function(e){new Ui(e.clientX-d.Zb,e.clientY-d.$b);var f=gi(d.w.k.transform.lb(),[new K(e.clientX,e.clientY),new K(d.Zb,d.$b)]);d.Wg.a=M(c.a,L(f[0],f[1]));d.Wg.bb.clear();d.w.k.Qf.R(d.Wg,d.w.k.transform);d.Zb=e.clientX;d.$b=e.clientY});d.addEventListener("end",function(){S(d.w,d.w.r);d.aa()});d.vc(b)}
function Fj(a,b,c){var d=new gf(a.b.$);d.Zb=b.clientX;d.$b=b.clientY;d.kl=c;d.w=a.b;d.addEventListener("drag",function(e){new Ui(e.clientX-d.Zb,e.clientY-d.$b);var f=gi(d.w.k.transform.lb(),[new K(e.clientX,e.clientY),new K(d.Zb,d.$b)]);f=L(f[0],f[1]);c.source=M(c.source,f);c.target=M(c.target,f);c.bb.clear();d.w.k.af.R(c,d.w.k.transform);d.Zb=e.clientX;d.$b=e.clientY});d.addEventListener("end",function(){S(d.w,d.w.r);d.aa()});d.vc(b)}
function Dj(a,b,c){var d=new gf(a.b.$);d.ob=Kj(a.b,c.va());d.qb=m;d.rb=m;d.wh=0;d.xh=0;d.db=[];d.v=c;d.w=a.b;d.addEventListener("drag",function(){d.pb&&B(d.pb,function(j){j.clear()});d.pb=[];d.db=[];d.qb=d.qb||d.sb;d.rb=d.rb||d.tb;var e=d.sb-d.qb,f=d.tb-d.rb,h=e-d.wh,i=f-d.xh;Lj(d.v.bb,e,f,0,0,0);e=d.w.k.transform?d.w.k.transform:d.w.k.ca.transform;d.v.translate(new Ah(h/e.ha,i/e.ra));d.wh=d.sb-d.qb;d.xh=d.tb-d.rb;d.bg=c.e;h=this.b.wg(c.e,d.bg);if(h.length>1)d.db=Ta(h,0,2);B(d.db,function(j){d.pb.push(d.w.k.ca.xb.ja(j[0]));
d.pb.push(d.w.k.ca.xb.ja(j[1]))})},undefined,a);d.addEventListener("end",function(){try{if(d.db.length==2){var e=d.db[0][1],f=d.db[1][1],h=Ma(e.g.L(),function(p){return V(p,e)==f}),i=d.db[0][0],j=d.db[1][0],l=Ma(i.g.L(),function(p){return V(p,i)==j});h&&l&&aj(i.v,e.v,h,l,e,i)}S(d.w,d.w.r);d.db=[];d.aa()}catch(o){this.M.log(yb,o,void 0)}},undefined,a);d.vc(b)}
function Gj(a,b){var c=new gf(a.b.$);c.addEventListener("drag",function(){var d=this.b.k.transform,e=c.screenX-c.hk,f=c.screenY-c.ik;if(e||f){var h=new Ah(e/d.ha,f/d.ra);B(this.b.r,function(i){i instanceof qi&&i.translate(h)});S(this.b,this.b.r)}c.hk=c.screenX;c.ik=c.screenY},undefined,a);c.addEventListener("end",function(){S(this.b,this.b.r);c.aa()},undefined,a);c.vc(b)}
function Aj(a,b,c){var d=new gf(a.b.$);d.ob=gi(a.b.k.transform?a.b.k.transform:a.b.k.ca.transform,[c.va()])[0];d.eb=bi(b);d.hj=Jg(d.ob.x,d.ob.y,d.eb.x,d.eb.y);d.qb=m;d.rb=m;d.bb=c.bb;d.v=c;d.w=a.b;d.addEventListener("drag",function(){d.qb=d.qb||d.sb;d.rb=d.rb||d.tb;d.vh=Jg(d.ob.x,d.ob.y,d.eb.x+(d.sb-d.qb),d.eb.y+(d.tb-d.rb))-d.hj;Lj(d.bb,0,0,d.vh,d.ob.x,d.ob.y)});d.addEventListener("end",function(){d.v.rotate(-d.vh,d.v.va());S(d.w,d.w.r);d.aa()});d.vc(b)}u.M=Hb("kemia.controller.plugins.Move");/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Mj(){O.call(this);this.nk=100;this.wd=[];this.De=[];this.mg=[]}A(Mj,O);var Nj=[{id:"undo",key:27}];Mj.prototype.re=function(){return Nj};Mj.prototype.tf=aa();var Oj=db({hl:"undo",el:"redo"});u=Mj.prototype;u.Dc=s("UndoRedo");u.Qb=function(a){return a in Oj};u.Pc=function(a){try{if(a=="undo")Pj(this,this.wd,this.De);else a=="redo"&&Pj(this,this.De,this.wd)}catch(b){this.M.info(b)}};
u.Qj=function(a){try{var b=Qj(this,a.target);if(this.mg!=b){this.wd.push(b);if(this.wd.length>this.nk){this.wd.shift();var c=this.De.length;this.De.length=0;this.dispatchEvent({type:Rj,state:b});if(this.wd.length==1||c)this.dispatchEvent(Sj)}}this.mg=b}catch(d){this.M.info(d)}};function Qj(a,b){var c=b.r,d="[]";if(c)d=C(c,function(e){if(e instanceof qi)return pj(e);else if(e instanceof U)return lj(e)});return d}
function Pj(a,b,c){if(b.length){var d=b.pop();c.push(d);S(a.b,C(d,function(e){return e.e?kj(e):oj(e,k)}));if(b.length==0||c.length==1)a.dispatchEvent(Sj)}}u.jf=function(a){Mj.h.jf.call(this,a);this.lf=new Id(this);this.lf.u(a,Tj,this.Qj)};u.pg=function(a){a.nl();this.lf.aa();this.mg=this.lf=m};u.p=function(){Mj.h.p.call(this);this.lf.aa();this.b=m};var Sj="state_change",Rj="state_added";Mj.prototype.M=Hb("kemia.controller.plugins.UndoRedo");
Mj.prototype.queryCommandValue=function(a){var b=n;if(a=="undo")b=this.wd.length>0;else if(a=="redo")b=this.De.length>0;return b};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Uj(){O.call(this)}A(Uj,O);var Vj={il:"zoomIn",jl:"zoomOut"},Wj=db(Vj);Uj.prototype.Dc=rh(Vj);Uj.prototype.Qb=function(a){return a in Wj};Uj.prototype.execCommand=function(a){try{var b=this.b.k.Ke;if(a=="zoomIn")this.b.be(b*1.1);else a=="zoomOut"&&this.b.be(b*0.9);S(this.b,this.b.r)}catch(c){this.M.info(c)}};Uj.prototype.M=Hb("kemia.controller.plugins.Zoom");function Xj(a){var b=new jg,c=new ng("File",b),d=oh("clearEditor","Clear all","New");b.yc(d);c.Fb=k;a.push(c);a.push(new yg);b=Yj("undo","Undo","","tr-icon tr-undo");b.Fb=k;a.push(b);b=Yj("redo","Redo","","tr-icon tr-redo");b.Fb=k;a.push(b);a.push(new yg);b=ph(yj,"Move","","tr-icon tr-move");b.Fb=k;a.push(b);b=ph("rotate","Rotate","","tr-icon tr-rotate");b.Fb=k;a.push(b);b=ph("erase","Erase","","tr-icon tr-erase");b.Fb=k;a.push(b);a.push(new yg);return a}
function Zj(a){a.push(oh("zoomIn","Zoom In","","tr-icon tr-zoom-in"));a.push(oh("zoomOut","Zoom Out","","tr-icon tr-zoom-out"));a.push(new yg);return a}
function $j(a){var b=qh("selectSymbol","Atomic Symbol","Symbol");b.Fb=k;b.We=function(i){i=i&&i.length>0?i:m;i!=b.Oa()&&b.Ea(i)};var c=new jg;c.ta(new Cg(Dc("DIV",{style:"color:grey"},"H")),k);c.ta(new Cg(Dc("DIV",{style:"color:black"},"C")),k);c.ta(new Cg(Dc("DIV",{style:"color:blue"},"N")),k);c.ta(new Cg(Dc("DIV",{style:"color:red"},"O")),k);c.ta(new Cg(Dc("DIV",{style:"color:yellow"},"S")),k);c.ta(new Cg(Dc("DIV",{style:"color:orange"},"P")),k);c.ta(new Cg(Dc("DIV",{style:"color:green"},"F")),
k);c.ta(new Cg(Dc("DIV",{style:"color:green"},"Cl")),k);c.ta(new Cg(Dc("DIV",{style:"color:DarkRed"},"Br")),k);c.ta(new Cg(Dc("DIV",{style:"color:purple"},"I")),k);c.ta(new ig,k);c.ta(new Cg(Dc("DIV",{style:"color:black"},"R1")),k);c.ta(new Cg(Dc("DIV",{style:"color:black"},"R2")),k);b.Yc(c);a.push(b);var d=qh("selectBond","Bond Type","Bond");d.Fb=k;d.We=function(i){i!=d.Oa()&&d.Ea(i)};var e=new jg;B(pi,function(i){e.ta(new Cg(i.caption,i),k)});d.Yc(e);a.push(d);var f=qh("selectMoleculeTemplate",
"Template","Template");f.Fb=k;f.We=function(i){i!=f.Oa()&&f.Ea(i)};var h=new jg;B(sj,function(i){h.ta(new Cg(i.name,i),k)});f.Yc(h);a.push(f);return a}function ak(a,b){for(var c=uc(b),d=[],e=0,f;f=a[e];e++){if(y(f)){var h=void 0;if(f=bk[f]){h=f.factory||ph;var i=f.vj,j=f.hm,l=f.caption,o=f.ml,p=c||uc();h=h(i,j,l,o,m,p);if(f.Fb)h.Fb=k}f=h}f&&d.push(f)}c=uc(b);c=new Eg(Dg.oa(),Wf,c);e=Yd(b);c.Zc(e);c.sc(n);for(f=0;h=d[f];f++){Se(h,32,n);h.Zc(e);c.ta(h,k)}c.R(b);return c}
function Yj(a,b,c,d,e,f){var h=oh(a,b,c,d,e,f);h.We=function(i){h.Jc(i)};return h}z("Format");z("Format");z("Undo");z("Redo");z("Font");z("Font size");z("Text color");z("Bold");z("Italic");z("Underline");z("Text background color");z("Add or remove link");z("Numbered list");z("Bullet list");z("Decrease indent");z("Increase indent");z("Align left");z("Align center");z("Align right");z("Justify");z("Remove formatting");z("Insert image");z("Strikethrough");z("Left-to-right");z("Right-to-left");z("Quote");
z("Edit HTML source");z("Link");z("Subscript");z("Superscript");z("Edit HTML");for(var bk={},ck=[],dk=0,ek;ek=ck[dk];dk++)bk[ek.vj]=ek;delete ck;var fk,gk,hk,ik,jk,kk,lk;lk=kk=jk=ik=hk=gk=fk=n;var mk=Wb();if(mk)if(mk.indexOf("Firefox")!=-1)fk=k;else if(mk.indexOf("Camino")!=-1)gk=k;else if(mk.indexOf("iPhone")!=-1||mk.indexOf("iPod")!=-1)hk=k;else if(mk.indexOf("iPad")!=-1)ik=k;else if(mk.indexOf("Android")!=-1)jk=k;else if(mk.indexOf("Chrome")!=-1)kk=k;else if(mk.indexOf("Safari")!=-1)lk=k;var nk=gk,ok=hk,pk=ik,qk=jk,rk=kk,sk=lk;var tk;a:{var uk="",vk,wk;if(fk)vk=/Firefox\/([0-9.]+)/;else if(E||$b){tk=ec;break a}else if(rk)vk=/Chrome\/([0-9.]+)/;else if(sk)vk=/Safari\/([0-9.]+)/;else if(ok||pk){vk=/Version\/(\S+).*Mobile\/(\S+)/;wk=k}else if(qk)vk=/Android\s+([0-9.]+)(?:.*Version\/([0-9.]+))?/;else if(nk)vk=/Camino\/([0-9.]+)/;if(vk){var xk=vk.exec(Wb());uk=xk?wk?xk[1]+"."+xk[2]:xk[2]||xk[1]:""}tk=uk};E&&I("7.0");F&&I("1.8");E||$b||F&&I("1.9");E||G&&I("525");G&&I("531");G&&I("528");F&&I("1.9")||E||$b||G&&I("531");F||G&&I("526");rk&&Ca(tk,"4")>=0||sk&&Ca(tk,"533");function yk(){this.Za=[];this.da=[];this.Kb=[]}yk.prototype.kc=m;yk.prototype.$a=m;yk.prototype.td=k;var zk=[];zk[0]=2;zk[1]=2;zk[2]=6;zk[3]=6;zk[4]=0;u=yk.prototype;u.clear=function(){this.Za.length=0;this.da.length=0;this.Kb.length=0;delete this.kc;delete this.$a;delete this.td;return this};u.moveTo=function(a,b){if(this.Za[this.Za.length-1]==0)this.Kb.length-=2;else{this.Za.push(0);this.da.push(1)}this.Kb.push(a,b);this.$a=this.kc=[a,b];return this};
u.lineTo=function(){var a=this.Za[this.Za.length-1];if(a==m)g(Error("Path cannot start with lineTo"));if(a!=1){this.Za.push(1);this.da.push(0)}for(a=0;a<arguments.length;a+=2){var b=arguments[a],c=arguments[a+1];this.Kb.push(b,c)}this.da[this.da.length-1]+=a/2;this.$a=[b,c];return this};
u.Jh=function(){var a=this.Za[this.Za.length-1];if(a==m)g(Error("Path cannot start with curve"));if(a!=2){this.Za.push(2);this.da.push(0)}for(a=0;a<arguments.length;a+=6){var b=arguments[a+4],c=arguments[a+5];this.Kb.push(arguments[a],arguments[a+1],arguments[a+2],arguments[a+3],b,c)}this.da[this.da.length-1]+=a/6;this.$a=[b,c];return this};u.close=function(){var a=this.Za[this.Za.length-1];if(a==m)g(Error("Path cannot start with close"));if(a!=4){this.Za.push(4);this.da.push(1);this.$a=this.kc}return this};
u.arcTo=function(a,b,c,d){var e=this.$a[0]-a*Math.cos(N(c))+a*Math.cos(N(c+d)),f=this.$a[1]-b*Math.sin(N(c))+b*Math.sin(N(c+d));this.Za.push(3);this.da.push(1);this.Kb.push(a,b,c,d,e,f);this.td=n;this.$a=[e,f];return this};
u.rj=function(a,b,c,d){var e=this.$a[0]-a*Math.cos(N(c)),f=this.$a[1]-b*Math.sin(N(c)),h=N(d);d=Math.ceil(Math.abs(h)/Math.PI*2);h=h/d;c=N(c);for(var i=0;i<d;i++){var j=Math.cos(c),l=Math.sin(c),o=4/3*Math.sin(h/2)/(1+Math.cos(h/2)),p=e+(j-o*l)*a,q=f+(l+o*j)*b;c+=h;j=Math.cos(c);l=Math.sin(c);this.Jh(p,q,e+(j+o*l)*a,f+(l-o*j)*b,e+j*a,f+l*b)}return this};function Ak(a,b){for(var c=a.Kb,d=0,e=0,f=a.Za.length;e<f;e++){var h=a.Za[e],i=zk[h]*a.da[e];b(h,c.slice(d,d+i));d+=i}}
u.la=function(){var a=new this.constructor;a.Za=this.Za.concat();a.da=this.da.concat();a.Kb=this.Kb.concat();a.kc=this.kc&&this.kc.concat();a.$a=this.$a&&this.$a.concat();a.td=this.td;return a};var Bk={};Bk[0]=yk.prototype.moveTo;Bk[1]=yk.prototype.lineTo;Bk[4]=yk.prototype.close;Bk[2]=yk.prototype.Jh;Bk[3]=yk.prototype.rj;function Ck(a){if(a.td)return a.la();var b=new yk;Ak(a,function(c,d){Bk[c].apply(b,d)});return b}
yk.prototype.transform=function(a){if(!this.td)g(Error("Non-simple path"));a.transform(this.Kb,0,this.Kb,0,this.Kb.length/2);this.kc&&a.transform(this.kc,0,this.kc,0,1);this.$a&&this.kc!=this.$a&&a.transform(this.$a,0,this.$a,0,1);return this};function Dk(a,b,c,d,e){je.call(this,e);this.width=a;this.height=b;this.cc=c||m;this.ke=d||m}A(Dk,je);u=Dk.prototype;u.ua=m;u.Mc=0;u.bd=0;function Ek(a){return a.cc?new tc(a.cc,a.ke):a.vb()}u.fd=function(){return this.vb()};u.vb=function(){if(this.Z)return $d(this.f());if(ka(this.width)&&ka(this.height))return new tc(this.width,this.height);return m};function Fk(a){var b=a.vb();return b?b.width/Ek(a).width:0}
function Gk(a,b,c,d,e,f,h,i,j,l,o,p){var q=j.size/2;d=i=="bottom"?d+f-q:i=="center"?d+f/2:d+q;return a.ne(b,c,d,c+e,d,h,j,l,o,p)};function Hk(a,b){this.q=a;this.Wa=b;this.ng=n}A(Hk,Kd);u=Hk.prototype;u.Wa=m;u.q=m;u.ph=m;u.f=r("q");function Lj(a,b,c,d,e,f){a.ph=Ti(new Si,N(d),e,f).translate(b,c);a.Wa.gh(a,b,c,d,e,f)}u.addEventListener=function(a,b,c,d){yd(this.q,a,b,c,d)};u.removeEventListener=function(a,b,c,d){Ad(this.q,a,b,c,d)};u.p=function(){Hk.h.p.call(this);Ed(this.q)};function Ik(a,b,c,d){Hk.call(this,a,b);this.Ci(c);this.zi(d)}A(Ik,Hk);u=Ik.prototype;u.fill=m;u.oh=m;u.zi=function(a){this.fill=a;this.Wa.eh(this,a)};u.Ej=r("fill");u.Ci=function(a){this.oh=a;this.Wa.fh(this,a)};u.Mj=r("oh");function Jk(a,b,c,d){Ik.call(this,a,b,c,d)}A(Jk,Ik);function Kk(a,b){Hk.call(this,a,b)}A(Kk,Hk);function Lk(a,b){Hk.call(this,a,b)}A(Lk,Hk);function Mk(a,b,c,d){Ik.call(this,a,b,c,d)}A(Mk,Ik);function Nk(a,b,c,d){Ik.call(this,a,b,c,d)}A(Nk,Ik);function Ok(a,b,c,d){Ik.call(this,a,b,c,d)}A(Ok,Ik);function Pk(a){Hk.call(this,m,a);this.na=[]}A(Pk,Kk);Pk.prototype.clear=function(){if(this.na.length){this.na.length=0;Qk(this.Wa)}};Pk.prototype.Gb=aa();Pk.prototype.appendChild=function(a){this.na.push(a)};Pk.prototype.dc=function(){for(var a=0,b=this.na.length;a<b;a++)Rk(this.Wa,this.na[a])};
function Sk(a,b,c,d,e,f,h,i){Ik.call(this,a,b,h,i);this.xj=c;this.yj=d;this.xi=e;this.yi=f;this.pd=new yk;this.pd.clear();this.pd.moveTo(this.xj+this.xi*Math.cos(N(0)),this.yj+this.yi*Math.sin(N(0)));this.pd.arcTo(this.xi,this.yi,0,360);this.pd.close();this.yk=new Tk(m,b,this.pd,h,i)}A(Sk,Jk);Sk.prototype.dc=function(a){this.yk.dc(a)};function Uk(a,b,c,d,e,f,h,i){Ik.call(this,a,b,h,i);this.de=c;this.fe=d;this.xd=e;this.gd=f}A(Uk,Nk);Uk.prototype.Oc=n;
Uk.prototype.Gb=function(a,b){this.xd=a;this.gd=b;this.Oc&&Qk(this.Wa)};Uk.prototype.dc=function(a){this.Oc=k;a.beginPath();a.moveTo(this.de,this.fe);a.lineTo(this.de,this.fe+this.gd);a.lineTo(this.de+this.xd,this.fe+this.gd);a.lineTo(this.de+this.xd,this.fe);a.closePath()};function Tk(a,b,c,d,e){Ik.call(this,a,b,d,e);this.ih(c)}A(Tk,Mk);Tk.prototype.Oc=n;Tk.prototype.ih=function(a){this.pd=a.td?a:Ck(a);this.Oc&&Qk(this.Wa)};
Tk.prototype.dc=function(a){this.Oc=k;a.beginPath();Ak(this.pd,function(b,c){switch(b){case 0:a.moveTo(c[0],c[1]);break;case 1:for(var d=0;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);break;case 2:for(d=0;d<c.length;d+=6)a.bezierCurveTo(c[d],c[d+1],c[d+2],c[d+3],c[d+4],c[d+5]);break;case 3:g(Error("Canvas paths cannot contain arcs"));case 4:a.closePath()}})};
function Vk(a,b,c,d,e,f,h,i,j,l){Ik.call(this,m,a,j,l);this.Qi=b;this.bj=c;this.Uk=d;this.cj=e;this.Vk=f;this.lj=h||"left";this.Cj=i;this.q=Dc("DIV",{style:"display:table;position:absolute;padding:0;margin:0;border:0"});this.yf=Dc("DIV",{style:"display:table-cell;padding: 0;margin: 0;border: 0"});c=this.bj;i=this.cj;d=this.Uk;e=this.Vk;j=this.lj;f=this.Cj;b=this.q.style;h=Fk(this.Wa);l=this.Wa;var o=l.vb();l=o?o.height/Ek(l).height:0;if(c==i){b.lineHeight="90%";this.yf.style.verticalAlign=j=="center"?
"middle":j=="left"?d<e?"top":"bottom":d<e?"bottom":"top";b.textAlign="center";i=f.size*h;b.top=Math.round(Math.min(d,e)*l)+"px";b.left=Math.round((c-i/2)*h)+"px";b.width=Math.round(i)+"px";b.height=Math.abs(d-e)*l+"px";b.fontSize=f.size*0.6*l+"pt"}else{b.lineHeight="100%";this.yf.style.verticalAlign="top";b.textAlign=j;b.top=Math.round(((d+e)/2-f.size*2/3)*l)+"px";b.left=Math.round(c*h)+"px";b.width=Math.round(Math.abs(i-c)*h)+"px";b.height="auto";b.fontSize=f.size*l+"pt"}b.fontWeight=f.bold?"bold":
"normal";b.fontStyle=f.Og?"italic":"normal";b.fontFamily=f.vg;c=this.fill;b.color=c.yb||c.Ph();this.yf.innerHTML=this.bj==this.cj?C(this.Qi.split(""),wa).join("<br>"):wa(this.Qi);a.f().appendChild(this.q);this.q.appendChild(this.yf)}A(Vk,Ok);Vk.prototype.zi=function(a){this.fill=a;if(this.q)this.q.style.color=a.yb||a.Ph()};Vk.prototype.Ci=aa();Vk.prototype.dc=aa();function Wk(a,b,c,d,e,f,h){Hk.call(this,a,b);this.de=c;this.fe=d;this.xd=e;this.gd=f;this.Nk=h}A(Wk,Lk);Wk.prototype.Oc=n;
Wk.prototype.Gb=function(a,b){this.xd=a;this.gd=b;this.Oc&&Qk(this.Wa)};Wk.prototype.dc=function(a){if(this.ai){this.xd&&this.gd&&a.drawImage(this.ai,this.de,this.fe,this.xd,this.gd);this.Oc=k}else{a=new Image;a.onload=sa(this.Vj,this,a);a.src=this.Nk}};Wk.prototype.Vj=function(a){this.ai=a;Qk(this.Wa)};function Xk(a,b){this.size=a;this.vg=b}Xk.prototype.bold=n;Xk.prototype.Og=n;function Yk(){};function Zk(a,b){this.yb=a;this.ze=b||1}A(Zk,Yk);function $k(a,b){this.th=a;this.yb=b};function al(a,b,c,d,e){Dk.call(this,a,b,c,d,e)}A(al,Dk);u=al.prototype;u.eh=function(){Qk(this)};u.fh=function(){Qk(this)};u.gh=function(){Qk(this)};function bl(a,b){var c=a.getContext();c.save();var d=b.ph?b.ph.la():new Si,e=d.gb,f=d.hb;if(e||f)c.translate(e,f);(d=d.xa)&&c.rotate(Math.asin(d))}u.i=function(){var a=this.Ab.i("div",{style:"position:relative;overflow:hidden"});this.q=a;this.ie=this.Ab.i("canvas");a.appendChild(this.ie);this.Qg=this.ua=new Pk(this);this.Dk=0;cl(this)};
u.getContext=function(){this.f()||this.i();if(!this.Ed){this.Ed=this.ie.getContext("2d");this.Ed.save()}return this.Ed};u.Gb=function(a,b){this.width=a;this.height=b;cl(this);Qk(this)};u.vb=function(){var a=this.width,b=this.height,c=y(a)&&a.indexOf("%")!=-1,d=y(b)&&b.indexOf("%")!=-1;if(!this.Z&&(c||d))return m;var e,f;if(c){e=this.f().parentNode;f=$d(e);a=parseFloat(a)*f.width/100}if(d){e=e||this.f().parentNode;f=f||$d(e);b=parseFloat(b)*f.height/100}return new tc(a,b)};
function cl(a){Zd(a.f(),a.width,a.height);var b=a.vb();if(b){Zd(a.ie,b.width,b.height);a.ie.width=b.width;a.ie.height=b.height;a.Ed=m}}u.reset=function(){var a=this.getContext();a.restore();var b=this.vb();b.width&&b.height&&a.clearRect(0,0,b.width,b.height);a.save()};u.clear=function(){this.reset();this.ua.clear();for(var a=this.f();a.childNodes.length>1;)a.removeChild(a.lastChild)};
function Qk(a){if(a.cm)a.am=k;else if(a.Z){a.reset();if(a.cc){var b=a.vb();a.getContext().scale(b.width/a.cc,b.height/a.ke)}if(a.Mc||a.bd)a.getContext().translate(-a.Mc,-a.bd);bl(a,a.ua);a.ua.dc(a.Ed);a.getContext().restore()}}
function Rk(a,b){if(!(b instanceof Vk)){var c=a.getContext();bl(a,b);if(!b.Ej||!b.Mj)b.dc(c);else{var d=b.fill;if(d)if(d instanceof Zk){if(d.ze!=0){c.globalAlpha=d.ze;c.fillStyle=d.yb;b.dc(c);c.fill();c.globalAlpha=1}}else{var e=c.createLinearGradient(d.wl(),d.yl(),d.xl(),d.zl());e.addColorStop(0,d.Ph());e.addColorStop(1,d.vl());c.fillStyle=e;b.dc(c);c.fill()}if(d=b.oh){b.dc(c);c.strokeStyle=d.yb;d=d.th;if(y(d)&&d.indexOf("px")!=-1)d=parseFloat(d)/Fk(a);c.lineWidth=d;c.stroke()}}a.getContext().restore()}}
u.Sa=function(a,b){b=b||this.ua;b.appendChild(a);this.Z&&!this.Dk&&!(b!=this.ua&&b!=this.Qg)&&Rk(this,a)};u.gf=function(a,b,c,d,e,f,h){a=new Sk(m,this,a,b,c,d,e,f);this.Sa(a,h);return a};u.sg=function(a,b,c,d,e,f,h){a=new Uk(m,this,a,b,c,d,e,f);this.Sa(a,h);return a};u.drawImage=function(a,b,c,d,e,f){a=new Wk(m,this,a,b,c,d,e);this.Sa(a,f);return a};u.ne=function(a,b,c,d,e,f,h,i,j,l){a=new Vk(this,a,b,c,d,e,f,h,i,j);this.Sa(a,l);return a};
u.Ob=function(a,b,c,d){a=new Tk(m,this,a,b,c);this.Sa(a,d);return a};u.lc=function(a){var b=new Pk(this);a=a||this.ua;if(a==this.ua||a==this.Qg)this.Qg=b;this.Sa(b,a);return b};u.p=function(){this.Ed=m;al.h.p.call(this)};u.pa=function(){var a=this.vb();al.h.pa.call(this);if(!a){cl(this);this.dispatchEvent("resize")}Qk(this)};function dl(a,b){Hk.call(this,a,b)}A(dl,Kk);dl.prototype.clear=function(){Hc(this.f())};dl.prototype.Gb=function(a,b){el(this.Wa,this.f(),{width:a,height:b})};function fl(a,b,c,d){Ik.call(this,a,b,c,d)}A(fl,Jk);function gl(a,b,c,d){Ik.call(this,a,b,c,d)}A(gl,Nk);gl.prototype.Gb=function(a,b){el(this.Wa,this.f(),{width:a,height:b})};function hl(a,b,c,d){Ik.call(this,a,b,c,d)}A(hl,Mk);hl.prototype.ih=function(a){el(this.Wa,this.f(),{d:il(a)})};function jl(a,b,c,d){Ik.call(this,a,b,c,d)}A(jl,Ok);
function kl(a,b){Hk.call(this,a,b)}A(kl,Lk);kl.prototype.Gb=function(a,b){el(this.Wa,this.f(),{width:a,height:b})};function ll(a,b,c,d,e){Dk.call(this,a,b,c,d,e);this.Kh={};this.rh=G&&!I(526);this.Cb=new Id(this)}var ml;A(ll,Dk);function nl(a,b,c){b=a.Ab.ba.createElementNS("http://www.w3.org/2000/svg",b);c&&el(a,b,c);return b}function el(a,b,c){for(var d in c)b.setAttribute(d,c[d])}u=ll.prototype;u.Sa=function(a,b){(b||this.ua).f().appendChild(a.f())};u.eh=function(a,b){var c=a.f();if(b instanceof Zk){c.setAttribute("fill",b.yb);c.setAttribute("fill-opacity",b.ze)}else c.setAttribute("fill","none")};
u.fh=function(a,b){var c=a.f();if(b){c.setAttribute("stroke",b.yb);var d=b.th;y(d)&&d.indexOf("px")!=-1?c.setAttribute("stroke-width",parseFloat(d)/Fk(this)):c.setAttribute("stroke-width",d)}else c.setAttribute("stroke","none")};u.gh=function(a,b,c,d,e,f){a.f().setAttribute("transform","translate("+b+","+c+") rotate("+d+" "+e+" "+f+")")};
u.i=function(){var a=nl(this,"svg",{width:this.width,height:this.height,overflow:"hidden"}),b=nl(this,"g");this.og=nl(this,"defs");this.ua=new dl(b,this);a.appendChild(this.og);a.appendChild(b);this.q=a;if(this.cc||this.Mc||this.bd){this.f().setAttribute("preserveAspectRatio","none");this.rh?this.Wf():this.f().setAttribute("viewBox",this.Mc+" "+this.bd+" "+(this.cc?this.cc+" "+this.ke:""))}};
u.Wf=function(){if(this.Z&&(this.cc||this.Mc||!this.bd)){var a=this.vb();if(a.width==0)this.f().style.visibility="hidden";else{this.f().style.visibility="";var b=-this.Mc,c=-this.bd,d=a.width/this.cc;a=a.height/this.ke;this.ua.f().setAttribute("transform","scale("+d+" "+a+") translate("+b+" "+c+")")}}};u.Gb=aa();
u.vb=function(){if(!F)return this.Z?$d(this.f()):ll.h.vb.call(this);var a=this.width,b=this.height,c=y(a)&&a.indexOf("%")!=-1,d=y(b)&&b.indexOf("%")!=-1;if(!this.Z&&(c||d))return m;var e,f;if(c){e=this.f().parentNode;f=$d(e);a=parseFloat(a)*f.width/100}if(d){e=e||this.f().parentNode;f=f||$d(e);b=parseFloat(b)*f.height/100}return new tc(a,b)};u.clear=function(){this.ua.clear();Hc(this.og);this.Kh={}};
u.gf=function(a,b,c,d,e,f,h){a=nl(this,"ellipse",{cx:a,cy:b,rx:c,ry:d});e=new fl(a,this,e,f);this.Sa(e,h);return e};u.sg=function(a,b,c,d,e,f,h){a=nl(this,"rect",{x:a,y:b,width:c,height:d});e=new gl(a,this,e,f);this.Sa(e,h);return e};u.drawImage=function(a,b,c,d,e,f){a=nl(this,"image",{x:a,y:b,width:c,height:d,"image-rendering":"optimizeQuality",preserveAspectRatio:"none"});a.setAttributeNS("http://www.w3.org/1999/xlink","href",e);e=new kl(a,this);this.Sa(e,f);return e};
u.ne=function(a,b,c,d,e,f,h,i,j,l){var o=Math.round(Jg(b,c,d,e));d=d-b;e=e-c;e=Math.round(Math.sqrt(d*d+e*e));var p=h.size;d={"font-family":h.vg,"font-size":p};p=Math.round(c-p/2+Math.round(p*0.85));var q=b;if(f=="center"){q+=Math.round(e/2);d["text-anchor"]="middle"}else if(f=="right"){q+=e;d["text-anchor"]="end"}d.x=q;d.y=p;if(h.bold)d["font-weight"]="bold";if(h.Og)d["font-style"]="italic";if(o!=0)d.transform="rotate("+o+" "+b+" "+c+")";b=nl(this,"text",d);b.appendChild(this.Ab.ba.createTextNode(a));
if(i==m&&F&&Ub){a="black";if(j instanceof Zk)a=j.yb;i=new $k(1,a)}j=new jl(b,this,i,j);this.Sa(j,l);return j};u.Ob=function(a,b,c,d){a=nl(this,"path",{d:il(a)});b=new hl(a,this,b,c);this.Sa(b,d);return b};
function il(a){var b=[];Ak(a,function(c,d){switch(c){case 0:b.push("M");Array.prototype.push.apply(b,d);break;case 1:b.push("L");Array.prototype.push.apply(b,d);break;case 2:b.push("C");Array.prototype.push.apply(b,d);break;case 3:var e=d[3];b.push("A",d[0],d[1],0,Math.abs(e)>180?1:0,e>0?1:0,d[4],d[5]);break;case 4:b.push("Z")}});return b.join(" ")}u.lc=function(a){var b=nl(this,"g");(a||this.ua).f().appendChild(b);return new dl(b,this)};
u.pa=function(){var a=this.vb();ll.h.pa.call(this);a||this.dispatchEvent("resize");if(this.rh){a=this.width;var b=this.height;typeof a=="string"&&a.indexOf("%")!=-1&&typeof b=="string"&&b.indexOf("%")!=-1&&this.Cb.u(ol(),df,this.Wf);this.Wf()}};u.ub=function(){ll.h.ub.call(this);this.rh&&this.Cb.jb(ol(),df,this.Wf)};u.p=function(){delete this.Kh;delete this.og;delete this.ua;ll.h.p.call(this)};function ol(){if(!ml){ml=new bf(400);ml.start()}return ml};function pl(){return this.q=this.Wa.Ab.f(this.Eb)||this.q}function ql(a,b){this.Eb=a.id;Hk.call(this,a,b)}A(ql,Kk);ql.prototype.f=pl;ql.prototype.clear=function(){Hc(this.f())};ql.prototype.Gb=function(a,b){var c=this.f(),d=c.style;d.width=Z(a)+"px";d.height=Z(b)+"px";c.coordsize=Z(a)+" "+Z(b);if(this.Wa.ua!=this)c.coordorigin="0 0"};function rl(a,b,c,d,e,f,h,i){this.Eb=a.id;Ik.call(this,a,b,h,i);this.pl=c;this.ql=d;this.em=e;this.fm=f}A(rl,Jk);rl.prototype.f=pl;
function sl(a,b,c,d){this.Eb=a.id;Ik.call(this,a,b,c,d)}A(sl,Nk);sl.prototype.f=pl;sl.prototype.Gb=function(a,b){var c=this.f().style;c.width=Z(a)+"px";c.height=Z(b)+"px"};function tl(a,b,c,d){this.Eb=a.id;Ik.call(this,a,b,c,d)}A(tl,Mk);tl.prototype.f=pl;tl.prototype.ih=function(a){ul(this.f(),"path",vl(a))};function wl(a,b,c,d){this.Eb=a.id;Ik.call(this,a,b,c,d)}A(wl,Ok);wl.prototype.f=pl;function xl(a,b){this.Eb=a.id;Hk.call(this,a,b)}A(xl,Lk);xl.prototype.f=pl;
xl.prototype.Gb=function(a,b){var c=this.f().style;c.width=yl(a)+"px";c.height=yl(b)+"px"};function zl(a,b,c,d,e){Dk.call(this,a,b,c,d,e);this.Cb=new Id(this)}A(zl,Dk);var Al=document.documentMode&&document.documentMode>=8;function Bl(a){var b;if(b=y(a)){b=a.length-1;b=b>=0&&a.indexOf("%",b)==b}return b?a:parseFloat(a.toString())+"px"}function yl(a){return Math.round((parseFloat(a.toString())-0.5)*100)}function Z(a){return Math.round(parseFloat(a.toString())*100)}function ul(a,b,c){if(Al)a[b]=c;else a.setAttribute(b,c)}
function Cl(a,b){var c=a.Ab.createElement("g_vml_:"+b);c.id="goog_"+Ea++;return c}function Dl(a){if(Al&&a.Z)a.f().innerHTML=a.f().innerHTML}zl.prototype.Sa=function(a,b){(b||this.ua).f().appendChild(a.f());Dl(this)};
zl.prototype.eh=function(a,b){var c=a.f();c.fillcolor="";for(var d=0;d<c.childNodes.length;d++){var e=c.childNodes[d];e.tagName=="fill"&&c.removeChild(e)}if(b instanceof Zk)if(b.yb=="transparent")c.filled=n;else if(b.ze!=1){c.filled=k;d=Cl(this,"fill");d.opacity=Math.round(b.ze*100)+"%";d.color=b.yb;c.appendChild(d)}else{c.filled=k;c.fillcolor=b.yb}else c.filled=n;Dl(this)};
zl.prototype.fh=function(a,b){var c=a.f();if(b){c.stroked=k;var d=b.th;if(y(d)&&d.indexOf("px")==-1)d=parseFloat(d);else d*=Fk(this);var e=c.getElementsByTagName("stroke")[0];if(d<1){e=e||Cl(this,"stroke");e.opacity=d;e.im="1px";e.color=b.yb;c.appendChild(e)}else{e&&c.removeChild(e);c.strokecolor=b.yb;c.strokeweight=d+"px"}}else c.stroked=n;Dl(this)};
zl.prototype.gh=function(a,b,c,d,e,f){a=a.f();a.style.left=yl(b)+"px";a.style.top=yl(c)+"px";if(d||a.rotation){a.rotation=d;a.coordsize=Z(e*2)+" "+Z(f*2)}};function El(a,b,c,d,e){var f=a.style;f.position="absolute";f.left=yl(b)+"px";f.top=yl(c)+"px";f.width=Z(d)+"px";f.height=Z(e)+"px";if(a.tagName=="shape")a.coordsize=Z(d)+" "+Z(e)}function Fl(a,b){var c=Cl(a,b),d=Ek(a);El(c,0,0,d.width,d.height);return c}try{eval("document.namespaces")}catch(Gl){}u=zl.prototype;
u.i=function(){var a=this.Ab.ba;if(!a.namespaces.g_vml_){Al?a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"):a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml");a.createStyleSheet().cssText="g_vml_\\:*{behavior:url(#default#VML)}"}a=this.width;var b=this.height,c=this.Ab.i("div",{style:"overflow:hidden;position:relative;width:"+Bl(a)+";height:"+Bl(b)});this.q=c;var d=Cl(this,"group"),e=d.style;e.position="absolute";e.left=e.top=0;e.width=this.width;e.height=this.height;
d.coordsize=this.cc?Z(this.cc)+" "+Z(this.ke):Z(a)+" "+Z(b);d.coordorigin=this.Mc!==undefined?Z(this.Mc)+" "+Z(this.bd):"0 0";c.appendChild(d);this.ua=new ql(d,this);yd(c,"resize",sa(this.Cg,this))};u.Cg=function(){var a=$d(this.f()),b=this.ua.f().style;if(a.width){b.width=a.width+"px";b.height=a.height+"px"}else{for(a=this.f();a&&a.currentStyle&&a.currentStyle.display!="none";)a=a.parentNode;a&&a.currentStyle&&this.Cb.u(a,"propertychange",this.Cg)}this.dispatchEvent("resize")};u.Gb=aa();
u.vb=function(){var a=this.f();return new tc(a.style.pixelWidth||a.offsetWidth||1,a.style.pixelHeight||a.offsetHeight||1)};u.clear=function(){this.ua.clear()};u.gf=function(a,b,c,d,e,f,h){var i=Cl(this,"oval");El(i,a-c,b-d,c*2,d*2);a=new rl(i,this,a,b,c,d,e,f);this.Sa(a,h);return a};u.sg=function(a,b,c,d,e,f,h){var i=Cl(this,"rect");El(i,a,b,c,d);a=new sl(i,this,e,f);this.Sa(a,h);return a};
u.drawImage=function(a,b,c,d,e,f){var h=Cl(this,"image");El(h,a,b,c,d);ul(h,"src",e);a=new xl(h,this);this.Sa(a,f);return a};
u.ne=function(a,b,c,d,e,f,h,i,j,l){var o=Fl(this,"shape"),p=Cl(this,"path");ul(p,"v","M"+yl(b)+","+yl(c)+"L"+yl(d)+","+yl(e)+"E");ul(p,"textpathok","true");b=Cl(this,"textpath");b.setAttribute("on","true");c=b.style;c.fontSize=h.size*Fk(this);c.fontFamily=h.vg;if(f!=m)c["v-text-align"]=f;if(h.bold)c.fontWeight="bold";if(h.Og)c.fontStyle="italic";ul(b,"string",a);o.appendChild(p);o.appendChild(b);a=new wl(o,this,i,j);this.Sa(a,l);return a};
u.Ob=function(a,b,c,d){var e=Fl(this,"shape");ul(e,"path",vl(a));a=new tl(e,this,b,c);this.Sa(a,d);return a};
function vl(a){var b=[];Ak(a,function(c,d){switch(c){case 0:b.push("m");Array.prototype.push.apply(b,C(d,Z));break;case 1:b.push("l");Array.prototype.push.apply(b,C(d,Z));break;case 2:b.push("c");Array.prototype.push.apply(b,C(d,Z));break;case 4:b.push("x");break;case 3:var e=d[2]+d[3];b.push("ae",Z(d[4]-d[0]*Math.cos(N(e))),Z(d[5]-d[1]*Math.sin(N(e))),Z(d[0]),Z(d[1]),Math.round(d[2]*-65536),Math.round(d[3]*-65536))}});return b.join(" ")}
u.lc=function(a){var b=Fl(this,"group");(a||this.ua).f().appendChild(b);return new ql(b,this)};u.pa=function(){zl.h.pa.call(this);this.Cg();Dl(this)};u.p=function(){this.ua=m;zl.h.p.call(this)};function Hl(a,b,c,d){this.Ye=a;this.Ze=b;this.Xf=c;this.Zf=d}Hl.prototype.la=function(){return new Hl(this.Ye,this.Ze,this.Xf,this.Zf)};function Il(a,b,c){if(b instanceof K){c=b.y;b=b.x}else c=c;var d=a.Ye,e=a.Ze,f=a.Xf-a.Ye,h=a.Zf-a.Ze;return((b-d)*(a.Xf-d)+(c-e)*(a.Zf-e))/(f*f+h*h)}function Jl(a,b){return new K(a.Ye+b*(a.Xf-a.Ye),a.Ze+b*(a.Zf-a.Ze))};function Kl(a,b,c){this.cells={};this.Dd=b?b:2;this.Qk=c?c:0.3;this.ee=this.ce=1E5;this.$f=this.Yf=-1E5;b=0;for(c=a.length;b<c;b++){var d=a[b].va();if(d.x<this.ce)this.ce=d.x;if(d.x>this.Yf)this.Yf=d.x;if(d.y<this.ee)this.ee=d.y;if(d.y>this.$f)this.$f=d.y}this.ce-=1;this.ee-=1;this.Yf+=1;this.$f+=1;this.width=this.Yf-this.ce;this.height=this.$f-this.ee;this.uh=Math.ceil(this.width/this.Dd);this.Wk=Math.ceil(this.height/this.Dd);B(a,function(e){var f=e.va();f=Math.floor((f.y-this.ee)/this.Dd)*this.uh+
Math.floor((f.x-this.ce)/this.Dd);this.cells[f]||(this.cells[f]=[]);this.cells[f].push(e)},this)}function Ll(a,b){var c=[],d=Math.floor((b.x-a.ce)/a.Dd),e=Math.floor((b.y-a.ee)/a.Dd),f=d-1;for(d=d+2;f<d;f++)if(!(f<0||f>=a.uh))for(var h=e-1,i=e+2;h<i;h++)h<0||h>=a.Wk||c.push(h*a.uh+f);return c}
function wj(a,b){for(var c=[],d=Ll(a,b),e=0,f=d.length;e<f;e++){var h=a.cells[d[e]];if(h)for(var i=0,j=h.length;i<j;i++){var l=h[i],o=l.qe(b);o<a.Qk&&c.push({od:l.od,Mh:o})}}c.sort(function(p,q){return p.Mh-q.Mh});return C(c,function(p){return p.od})}
function Ml(a){return Ya(C(a,function(b){return Pa(Nl(b.nd),C(b.Vb,function(c){return{od:c,va:function(){return c.a},qe:function(d){return sc(c.a,d)}}}),C(b.ia,function(c){return{od:c,va:function(){return c.va()},qe:function(d){var e=new Hl(c.source.x,c.source.y,c.target.x,c.target.y);return sc(Jl(e,Math.min(Math.max(Il(e,d.x,d.y),0),1)),d)}}}))}))}
function Nl(a){var b=C(a,function(c){return{od:c,va:function(){return c.va()},qe:function(d){return sc(c.va(),d)/4}}});B(a,function(c){b=Pa(b,C(c.e,function(d){return{od:d,va:function(){return d.a},qe:function(e){return sc(d.a,e)}}}));b=Pa(b,C(c.g,function(d){return{od:d,va:function(){return Bh(M(d.source.a,d.target.a)).scale(0.5)},qe:function(e){var f=new Hl(d.source.a.x,d.source.a.y,d.target.a.x,d.target.a.y);return sc(Jl(f,Math.min(Math.max(Il(f,e.x,e.y),0),1)),e)}}}))});return b};function Ol(a,b,c){this.Q=a;this.j=new kb(b!==undefined?b:{});c!==undefined&&this.j.zd(c)}Ol.prototype.M=Hb("kemia.view.Renderer");function Pl(a,b){var c=Od(b).fd(),d=c.width,e=a.Q.fd();c.scale(c.width/c.height>e.width/e.height?e.width/c.width:e.height/c.height);c=a.Ke*c.width/d;return new Wi(c,0,0,-c,-Math.min(b.left,b.right)*c,Math.max(b.top,b.bottom)*c)}Ol.prototype.setTransform=ba("transform");function Ql(a,b){Ol.call(this,a,Rl,b)}A(Ql,Ol);
Ql.prototype.ja=function(a,b,c){b||(b=this.j.m("highlight").color);c||(c=this.Q.lc());var d=Jg(a.source.a.x,a.source.a.y,a.target.a.x,a.target.a.y),e=N(Ig(d+90));d=N(Ig(d-90));var f=this.transform.ha,h=this.j.m("highlight").radius*f;a=R(this.transform,[a.source.a,a.target.a]);f=M(new K(h*Math.cos(e),-h*Math.sin(e)),a[0]);var i=M(new K(h*Math.cos(e),-h*Math.sin(e)),a[1]);e=M(new K(h*Math.cos(d),-h*Math.sin(d)),a[0]);d=M(new K(h*Math.cos(d),-h*Math.sin(d)),a[1]);h=new yk;h.moveTo(a[0].x,a[0].y);h.lineTo(f.x,
f.y);h.lineTo(i.x,i.y);h.lineTo(a[1].x,a[1].y);h.close();b=new Zk(b,0.15);this.Q.Ob(h,m,b,c);f=new yk;f.moveTo(a[0].x,a[0].y);f.lineTo(e.x,e.y);f.lineTo(d.x,d.y);f.lineTo(a[1].x,a[1].y);f.close();this.Q.Ob(f,m,b,c);return c};function Sl(a){a=new yh(a.source.a,a.target.a);a=L(a.target,a.source);return Math.atan2(a.y,a.x)}function Tl(a){return a.T!="C"||a.zb()==1}
var Rl={bond:{stroke:{width:1.5,color:"black"},fill:{color:"black"},"width-ratio":6,"symbol-space":0.3,"triple-dist":0.15,"quad-dist":0.13},highlight:{radius:0.3,color:"blue"}};function Ul(a,b){Ql.call(this,a,Ul.cd,b)}A(Ul,Ql);Ul.prototype.R=function(a,b,c){this.setTransform(b);var d=[a.source.a,a.target.a],e=Bh(L(d[1],d[0]));e.normalize();e.scale(this.j.m("bond")["symbol-space"]);if(Tl(a.source))d[0]=M(d[0],e);if(Tl(a.target))d[1]=L(d[1],e);d=R(b,[d[0],d[1]]);c.moveTo(d[0].x,d[0].y);c.lineTo(d[1].x,d[1].y)};function Vl(a,b){Ql.call(this,a,Vl.cd,b)}A(Vl,Ql);
Vl.prototype.R=function(a,b,c){this.setTransform(b);var d=Wl(a),e=Bh(L(a.target.a,a.source.a));e.scale(1/this.j.m("bond")["width-ratio"]);var f=new Ah(-e.y,e.x),h=e.la().normalize().scale(this.j.m("bond")["symbol-space"]);if(d){var i=M(a.source.a,f);if(!zh(new yh(a.source.a,a.target.a),d.va(),i)){d=f;d.x=-d.x;d.y=-d.y}d=M(a.source.a,f);i=M(a.target.a,f);var j=a.source.a;f=a.target.a;if(Tl(a.source)){d=M(d,h);j=M(j,h)}else d=M(d,e);if(Tl(a.target)){i=L(i,h);f=L(f,h)}else i=L(i,e)}else{f.scale(0.5);
e=f;if(Math.abs(e.x)>0.08){f=e.x/0.08;e.x/=f;e.y/=f}if(Math.abs(e.y)>0.08){f=e.y/0.08;e.x/=f;e.y/=f}f=e;d=M(a.source.a,f);i=M(a.target.a,f);j=L(a.source.a,f);f=L(a.target.a,f);if(Tl(a.source)){d=M(d,h);j=M(j,h)}if(Tl(a.target)){i=L(i,h);f=L(f,h)}}a=R(b,[d,i,j,f]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.moveTo(a[2].x,a[2].y);c.lineTo(a[3].x,a[3].y)};function Wl(a){return Ma(Yi(a.v),function(b){return D(b.g,a)})};function Xl(a,b){Ql.call(this,a,Xl.cd,b)}A(Xl,Ql);
Xl.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.m("bond").stroke.width;d=new $k(d,this.j.m("bond").stroke.color);var e=Sl(a),f=e+Math.PI/2;e=e-Math.PI/2;var h=this.j.m("bond")["triple-dist"];f=new Wi(1,0,0,1,Math.cos(f)*h,Math.sin(f)*h);e=new Wi(1,0,0,1,Math.cos(e)*h,Math.sin(e)*h);f=R(f,[a.source.a,a.target.a]);e=R(e,[a.source.a,a.target.a]);a=R(b,[a.source.a,a.target.a,f[0],f[1],e[0],e[1]]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.moveTo(a[2].x,a[2].y);c.lineTo(a[3].x,
a[3].y);c.moveTo(a[4].x,a[4].y);c.lineTo(a[5].x,a[5].y);this.Q.Ob(c,d,m)};function Yl(a,b){Ql.call(this,a,Yl.cd,b)}A(Yl,Ql);
Yl.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.m("bond").stroke.width;d=new $k(d,this.j.m("bond").stroke.color);var e=Sl(a),f=e+Math.PI/2,h=e-Math.PI/2,i=this.j.m("bond")["quad-dist"],j=new Wi(1,0,0,1,Math.cos(f)*i/3,Math.sin(f)*i/3);e=new Wi(1,0,0,1,Math.cos(h)*i/3,Math.sin(h)*i/3);f=new Wi(1,0,0,1,Math.cos(f)*i,Math.sin(f)*i);h=new Wi(1,0,0,1,Math.cos(h)*i,Math.sin(h)*i);j=R(j,[a.source.a,a.target.a]);e=R(e,[a.source.a,a.target.a]);f=R(f,[a.source.a,a.target.a]);a=R(h,[a.source.a,
a.target.a]);b=R(b,[j[0],j[1],e[0],e[1],f[0],f[1],a[0],a[1]]);c.moveTo(b[0].x,b[0].y);c.lineTo(b[1].x,b[1].y);c.moveTo(b[2].x,b[2].y);c.lineTo(b[3].x,b[3].y);c.moveTo(b[4].x,b[4].y);c.lineTo(b[5].x,b[5].y);c.moveTo(b[6].x,b[6].y);c.lineTo(b[7].x,b[7].y);this.Q.Ob(c,d,m)};function Zl(a,b){Ql.call(this,a,Zl.cd,b)}A(Zl,Ql);
Zl.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.m("bond").stroke.width/10,e=Sl(a),f=e+Math.PI/2;e=e-Math.PI/2;f=gi(new Wi(1,0,0,1,Math.cos(f)*d,Math.sin(f)*d),[a.target.a])[0];d=gi(new Wi(1,0,0,1,Math.cos(e)*d,Math.sin(e)*d),[a.target.a])[0];if(a.target.T!="C"){e=3*sc(f,a.source.a);f.x=(f.x*(e-1)+a.source.a.x)/e;f.y=(f.y*(e-1)+a.source.a.y)/e;d.x=(d.x*(e-1)+a.source.a.x)/e;d.y=(d.y*(e-1)+a.source.a.y)/e}a=R(b,[a.source.a,f,d]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.lineTo(a[2].x,
a[2].y)};function $l(a,b){Ql.call(this,a,$l.cd,b)}A($l,Ql);
$l.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.m("bond").stroke.width/10,e=Sl(a),f=e+Math.PI/2;e=e-Math.PI/2;f=new Wi(1,0,0,1,Math.cos(f)*d,Math.sin(f)*d);d=new Wi(1,0,0,1,Math.cos(e)*d,Math.sin(e)*d);f=R(f,[a.source.a,a.target.a]);d=R(d,[a.source.a,a.target.a]);b=R(b,[f[0],f[1],d[0],d[1],a.source.a]);d=0;if(a.target.T!="C")d=1;for(a=0;a<7-d;a++){c.moveTo(((7-a)*b[4].x+a*b[1].x)/7,((7-a)*b[4].y+a*b[1].y)/7);c.lineTo(((7-a)*b[4].x+a*b[3].x)/7,((7-a)*b[4].y+a*b[3].y)/7)}};function am(a,b){Ql.call(this,a,am.cd,b)}A(am,Ql);
am.prototype.R=function(a,b,c){this.setTransform(b);var d=Math.round(sc(a.source.a,a.target.a)*12);if(d<8)d=8;this.M.log(Cb,"# zigZags "+d,void 0);var e=this.j.m("bond").stroke.width/10,f=Sl(a),h=f+Math.PI/2;f=f-Math.PI/2;var i=[];i.push(a.source.a);this.M.log(Cb,"# coords "+i.length,void 0);for(var j=m,l=1/d,o=0,p=1;p<=d;p++){o+=l;j=p%2==0?new Wi(1,0,0,1,Math.cos(h)*e*o,Math.sin(h)*e*o):new Wi(1,0,0,1,Math.cos(f)*e*o,Math.sin(f)*e*o);j=R(j,[new K(((d-p)*a.source.a.x+a.target.a.x*p)/d,((d-p)*a.source.a.y+
a.target.a.y*p)/d)])[0];i.push(j)}a=R(b,i);c.moveTo(a[1].x,a[1].y);b=2;for(d=a.length-1;b<d;b++){c.lineTo(a[b].x,a[b].y);c.moveTo(a[b].x,a[b].y)}};function bm(a,b){this.Q=a;this.j=new kb;b&&this.j.zd(b)}bm.prototype.M=Hb("kemia.view.BondRendererFactory");var cm=db({Jj:$h,Dj:2,Nj:3,Gj:4}),dm=db({Ij:ai,Lj:11,Hj:13,Kj:12});u=bm.prototype;u.m=function(a){return this[cm[a.Da]].apply(this,[a.fa])};u.Jj=function(a){return this[dm[a]].apply(this)};u.Ij=function(){if(!this.Hi)this.Hi=new Ul(this.Q,this.j);return this.Hi};u.Lj=function(){if(!this.Ii)this.Ii=new Zl(this.Q,this.j);return this.Ii};
u.Hj=function(){if(!this.Gi)this.Gi=new $l(this.Q,this.j);return this.Gi};u.Kj=function(){if(!this.Ji)this.Ji=new am(this.Q,this.j);return this.Ji};u.Dj=function(){if(!this.Nh)this.Nh=new Vl(this.Q,this.j);return this.Nh};u.Nj=function(){if(!this.Yi)this.Yi=new Xl(this.Q,this.j);return this.Yi};u.Gj=function(){if(!this.vi)this.vi=new Yl(this.Q,this.j);return this.vi};function em(a,b){Ol.call(this,a,fm,b)}A(em,Ol);
em.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.m("atom"),e=this.j.m(a.T)?this.j.m(a.T).color:d.color,f=b.ha;f=new Xk(f/1.8>12?15:f/1.8,d.fontName);d=new $k(d.stroke.width,"black");e=new Zk(e);b=R(b,[a.a])[0];var h={text:"",Ef:"center",wc:"",vd:""};if(a.T!="C"||a.zb()<1||a.Va||a.zb()==1&&this.j.m("showTerminalCarbons")){var i=ki(a);if(i==0)h.text=a.T;else{var j,l=a.g.of();j=gm(a,0);if(l>1){for(var o=1;o<l;++o)j+=gm(a,o);j=j/l%360}j=j>350||j<=10?"E":j>10&&j<=80?"SE":j>80&&j<=100?"S":
j>100&&j<=170?"SW":j>170&&j<=190?"W":j>190&&j<=260?"NW":j>260&&j<=280?"N":"NE";l="center";if(j=="SW"||j=="W"||j=="NW"){l="right";if(i==1)h.text="H";h.text+=a.T}else{l="left";h.text=a.T+"H"}if(i>1)h.vd=String(i)}if(a.Va)if(a.Va>1)h.wc+="+"+a.Va;else if(a.Va<-1)h.wc+=a.Va;else if(a.Va==-1)h.wc="-";else if(a.Va==1)h.wc="+"}else h.text="";h.Ef=l;a=this.Q;l=h.text.length*0.55*f.size;i=f.size;if(h.text){Gk(a,h.text,b.x-l/2,b.y-i/2,l,i,h.Ef,m,f,d,e,c);if(h.Ef=="left"){if(h.vd||h.wc){j=this.j.m("subscriptSize");
h.vd&&Gk(a,h.vd,b.x+l*0.9,b.y,j,j,"center",m,f,d,e,c);h.wc&&Gk(a,h.wc,b.x+l,b.y-i*0.8,j,j,"center",m,f,d,e,c)}}else if(h.Ef=="right")if(h.vd||h.wc){j=this.j.m("subscriptSize");if(h.vd){Gk(a,"H",b.x-l*3,b.y-i/2,l,i,"center",m,f,d,e,c);Gk(a,h.vd,b.x-l*1.8,b.y,j,j,"center",m,f,d,e,c)}h.wc&&Gk(a,h.wc,b.x+l,b.y-i*0.8,j,j,"center",m,f,d,e,c)}}};
em.prototype.ja=function(a,b,c){var d=this.j.m("atom");b||(b=this.j.m(a.T)?this.j.m(a.T).color:d.color);b=new Zk(b,0.3);d=d.highlight.radius*this.transform.ha;a=R(this.transform,[a.a])[0];c||(c=this.Q.lc());this.Q.gf(a.x,a.y,d,d,m,b,c);return c};function gm(a,b){if(a.g.L().length==0)return 0;var c=a.g.L()[b],d=c.target.a,e=c.source.a,f=d.y-e.y;d=d.x-e.x;if(a==c.source){d=-d;f=-f}c=Math.atan2(f,d)*180/Math.PI;if(c<0)c=360+c;return c}em.prototype.M=Hb("kemia.view.AtomRenderer");
var fm={atom:{color:"#FF9999",diameter:0.05,highlight:{radius:0.3},stroke:{width:0.15},fontName:"Arial"},showTerminalCarbons:k,margin:20,subscriptSize:5,N:{color:"blue"},O:{color:"red"},S:{color:"yellow"},P:{color:"orange"},Cl:{color:"green"},F:{color:"green"},Br:{color:"DarkRed"},I:{color:"purple"},C:{color:"black"},R1:{color:"black"},R2:{color:"black"},H:{color:"white"}};function hm(a,b){Ql.call(this,a,hm.cd,b)}A(hm,Ql);hm.prototype.R=function(a,b){this.setTransform(b);var c=this.j.m("bond").stroke.width;c=new $k(c,this.j.m("bond").stroke.color);var d=new yk,e=gi(this.transform,[a.va()])[0],f=R(this.transform,[a.e[0].a])[0];f=sc(e,f)*0.5;d.moveTo(e.x+f,e.y);d.arcTo(f,f,0,180);d.moveTo(e.x+f,e.y);d.arcTo(f,f,0,-180);this.Q.Ob(d,c,m)};function im(a,b){Ol.call(this,a,jm,b);this.Ke=1;this.Bd=new bm(a,this.j);this.xb=new em(a,this.j);this.sj=new hm(a,this.j)}A(im,Ol);im.prototype.M=Hb("kemia.view.MoleculeRenderer");im.prototype.be=ba("Ke");
im.prototype.R=function(a,b){a.Lf=k;a.bb=this.Q.lc();var c=C(a.e,function(h){return h.a});c=Md.apply(m,c);if(!b){var d=this.j.m("margin");b=Pl(this,c.expand(d,d,d,d))}this.setTransform(b);R(this.transform,[new K((c.left+c.right)/2,(c.top+c.bottom)/2)]);c=new $k(this.j.m("bond").stroke.width,this.j.m("bond").stroke.color);d=new Zk(this.j.m("bond").fill.color);if(a.g.length){var e=new yk;B(a.g,function(h){this.Bd.m(h).R(h,b,e)},this);this.Q.Ob(e,c,d,a.bb);var f=this.sj;B(Yi(a),function(h){Ia(h.g,function(i){return i.ac}).length==
h.g.length&&f.R(h,b)})}B(a.e,function(h){this.xb.R(h,b,a.bb)},this)};im.prototype.ja=function(a,b,c){b||(b=this.j.m("highlight").color);c||(c=this.Q.lc());B(a.g,function(d){this.Bd.m(d).ja(d,b,c)},this);B(a.e,function(d){this.xb.ja(d,b,c)},this);return c};var jm={bond:{stroke:{width:2,color:"black"},fill:{color:"black"}},highlight:{radius:0.3,color:"blue"}};function km(a,b){Ol.call(this,a,lm,b)}A(km,Ol);
km.prototype.R=function(a,b){this.setTransform(b);a.bb=this.Q.lc();var c=this.j.m("arrow").height,d=sc(a.target,a.source),e=Jg(a.source.x,a.source.y,a.target.x,a.target.y),f=Ig(e+90),h=Ig(e-90),i=new K((a.source.x+a.target.x)/2,(a.source.y+a.target.y)/2),j=new K(i.x,i.y+c),l=new K(i.x,i.y-c),o=new K(i.x-d/2,i.y),p=new K(i.x+d/2,i.y),q=new K(p.x-c,p.y+c/2),t=new K(p.x-c,p.y-c/2);c=new yk;d=new $k(this.j.m("arrow").stroke.width,this.j.m("arrow").stroke.color);var v=new $k(this.j.m("arrow").font.stroke.width,
this.j.m("arrow").font.stroke.color),x=new Zk(this.j.m("arrow").font.stroke.color),H=b.ha,J=H/1.8>12?15:H/1.8;H=new Xk(J,this.j.m("arrow").font.name);e=Ti(new Wi,N(e),i.x,i.y);i=e.ha;var ja=e.xa;e.ha=b.ha*i+b.Aa*ja;e.xa=b.xa*i+b.ra*ja;i=e.Aa;ja=e.ra;e.Aa=b.ha*i+b.Aa*ja;e.ra=b.xa*i+b.ra*ja;i=e.gb;ja=e.hb;e.gb=b.ha*i+b.Aa*ja+b.gb;e.hb=b.xa*i+b.ra*ja+b.hb;j=R(e,[o,p,q,t,j,l]);c.moveTo(j[0].x,j[0].y);c.lineTo(j[1].x,j[1].y);c.lineTo(j[2].x,j[2].y);c.moveTo(j[1].x,j[1].y);c.lineTo(j[3].x,j[3].y);l=N(f);
f=N(h);h=M(new K(J*Math.cos(l),-J*Math.sin(l)),j[0]);l=M(new K(J*Math.cos(l),-J*Math.sin(l)),j[1]);o=M(new K(J*Math.cos(f),-J*Math.sin(f)),j[0]);J=M(new K(J*Math.cos(f),-J*Math.sin(f)),j[1]);this.Q.ne(a.Yg,h.x,h.y,l.x,l.y,"center",H,v,x,a.bb);this.Q.ne(a.jg,o.x,o.y,J.x,J.y,"center",H,v,x,a.bb);this.Q.Ob(c,d,m,a.bb)};
km.prototype.ja=function(a,b,c){b||(b=this.j.m("arrow").highlight.color);c||(c=this.Q.lc());var d=Jg(a.source.x,a.source.y,a.target.x,a.target.y),e=N(Ig(d+90));d=N(Ig(d-90));var f=this.transform.ha,h=this.j.m("arrow").highlight.radius*f;a=R(this.transform,[a.source,a.target]);f=M(new K(h*Math.cos(e),-h*Math.sin(e)),a[0]);var i=M(new K(h*Math.cos(e),-h*Math.sin(e)),a[1]);e=M(new K(h*Math.cos(d),-h*Math.sin(d)),a[0]);d=M(new K(h*Math.cos(d),-h*Math.sin(d)),a[1]);h=new yk;h.moveTo(a[0].x,a[0].y);h.lineTo(f.x,
f.y);h.lineTo(i.x,i.y);h.lineTo(a[1].x,a[1].y);h.close();b=new Zk(b,0.15);this.Q.Ob(h,m,b,c);f=new yk;f.moveTo(a[0].x,a[0].y);f.lineTo(e.x,e.y);f.lineTo(d.x,d.y);f.lineTo(a[1].x,a[1].y);f.close();this.Q.Ob(f,m,b,c);return c};km.prototype.M=Hb("kemia.view.ArrowRenderer");var lm={arrow:{height:0.5,stroke:{width:2,color:"black"},fill:{color:"black"},font:{name:"Arial",stroke:{width:0.1,color:"grey"}},highlight:{radius:0.75,color:"grey"}}};function mm(a,b){Ol.call(this,a,nm,b)}A(mm,Ol);mm.prototype.R=function(a,b){this.setTransform(b);a.bb=this.Q.lc();var c=a.a,d=this.j.m("plus").size,e=new K(c.x,c.y-d),f=new K(c.x,c.y+d),h=new K(c.x-d,c.y),i=new K(c.x+d,c.y);c=new yk;d=new $k(this.j.m("plus").stroke.width,this.j.m("plus").stroke.color);e=R(b,[e,f,h,i]);c.moveTo(e[0].x,e[0].y);c.lineTo(e[1].x,e[1].y);c.moveTo(e[2].x,e[2].y);c.lineTo(e[3].x,e[3].y);this.Q.Ob(c,d,m,a.bb)};
mm.prototype.ja=function(a,b,c){b||(b=this.j.m("plus").highlight.color);c||(c=this.Q.lc());b=new Zk(b,0.3);var d=this.j.m("plus").highlight.radius*this.transform.ha;a=R(this.transform,[a.a])[0];this.Q.gf(a.x,a.y,d,d,m,b,c);return c};var nm={plus:{highlight:{color:"blue",radius:0.4},size:0.25,stroke:{width:2,color:"black"}}};function om(a,b){Ol.call(this,a,pm,b);this.Ke=1;this.ca=new im(a,this.j);this.af=new km(a,this.j);this.Qf=new mm(a,this.j)}A(om,Ol);om.prototype.R=function(a){var b=a.nd;if(!this.transform)if(b.length>0){var c=qm(this,b),d=this.j.m("margin");c.expand(d,d,d,d);this.setTransform(Pl(this,c))}else this.setTransform(new Wi(25,0,0,-25,100,100));B(b,function(e){this.ca.R(e,this.transform)},this);B(a.Vb,function(e){this.Qf.R(e,this.transform)},this);B(a.ia,function(e){this.af.R(e,this.transform)},this)};
function qm(a,b){var c=Ya(C(b,function(d){return d.e}));c=C(c,function(d){return d.a});if(c.length>0)return Md.apply(m,c)}om.prototype.M=Hb("kemia.view.ReactionRenderer");om.prototype.be=function(a){this.Ke=a;this.ca.be(a)};var pm={margin:4};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function rm(a,b){this.id=a.id;this.ul=uc(a);this.$=a;var c=a.clientWidth,d=a.clientHeight;c=E?new zl(c,d,void 0,void 0,void 0):G&&(!I("420")||ac)?new al(c,d,void 0,void 0,void 0):new ll(c,d,void 0,void 0,void 0);c.i();this.Q=c;this.Q.R(a);this.r=[];this.Ic={};this.Vd={};for(var e in vh)this.Vd[e]=[];this.j=new kb(sm);b&&this.j.zd(b);this.k=new om(this.Q,this.j);this.di=this.fi=n;this.Id=new Id(this);this.Di=new Lh(document);this.Tk=[];tm(this,"keydown",this.hd);tm(this,"keypress",this.Ol);tm(this,
"keyup",this.Ql);tm(this,"mousedown",this.Zj);tm(this,"mousemove",this.$j);tm(this,"mouseup",this.Vh);tm(this,"paste",this.bk);yd(this.Di,"shortcut",this.Wj,undefined,this);if(this.wj&&this.gm()){e=this.wj;c=this.f();c=uc(c);var f=m;if(E){f=c.ba.createStyleSheet();fe(f,e)}else{d=xc(c.ba,"head",void 0,void 0)[0];if(!d){f=xc(c.ba,"body",void 0,void 0)[0];d=c.i("head");f.parentNode.insertBefore(d,f)}f=c.i("style");fe(f,e);c.appendChild(d,f)}}this.dispatchEvent(um);for(var h in this.Ic)this.Ic[h].jf(this);
this.If=vm;this.di=this.fi=n;this.selected=[];this.ye=[]}var wm;A(rm,Kd);function Yh(a,b){a.selected.push(b)}u=rm.prototype;u.clear=function(){xm(this);this.dispatchEvent(ym)};function xm(a){a.Q.clear();a.r=[new qi];a.ye=new Kl([],1,0.5);var b=new Zk(a.j.m("background").color);a.Q.sg(0,0,a.Q.fd().width,a.Q.fd().height,m,b)}u.be=function(a){this.k.transform=undefined;this.k.be(a)};
function S(a,b){xm(a);a.r=[];B(b,function(d){var e;if(d instanceof qi)e=d;if(d instanceof U){e=new qi;bj(e,d)}this.r.push(e)},a);var c=Ya(C(b,function(d){if(d instanceof U)return Nl([d]);if(d instanceof qi)return Ml([d])}));if(c.length>0)a.ye=new Kl(c,1,0.5);a.R()}u.Kc=function(a){Q(this);S(this,a)};u.R=function(){B(this.r,function(a){a instanceof qi&&this.k.R(a);a instanceof U&&this.k.ca.R(a)},this)};
function Q(a){a.gj=yi(C(a.r,function(b){if(b instanceof qi)return pj(b);else if(b instanceof U)return lj(b)}));a.dispatchEvent(Tj)}u.Wd=function(a){for(var b=this.Vd[a],c=Ta(arguments,1),d=0;d<b.length;++d){var e=b[d];if((e.ka(this)||uh[a])&&e[vh[a]].apply(e,c))return k}return n};function P(a){a.fi=k;a.di=k}
function Xh(a,b,c){b=Hj(a,b,c);a=Ia(b,function(d){return d instanceof T},a);if(a.length>0)return a[0];a=Ia(b,function(d){return d instanceof X});if(a.length>0)return a[0];a=Ia(b,function(d){return d instanceof U});if(a.length>0)return a[0];a=Ia(b,function(d){return d instanceof Ch});if(a.length>0)return a[0];b=Ia(b,function(d){return d instanceof Gh});if(b.length>0)return b[0]}function Kj(a,b){return gi(a.k.transform?a.k.transform.lb():a.k.ca.transform.lb(),[b])[0]}
function bi(a){var b=a.currentTarget,c=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;c-=b.offsetLeft;for(a-=b.offsetTop;b=b.offsetParent;){c-=b.offsetLeft;a-=b.offsetTop}return new K(c,a)}function Hj(a,b,c){c!==undefined||(c=bi(b));b=gi(a.k.transform?a.k.transform.lb():a.k.ca.transform.lb(),[c])[0];return wj(a.ye,{x:b.x,y:b.y})}
u.wg=function(a,b){b!==undefined||(b=[]);return Ia(C(a,function(c){var d=wj(this.ye,{x:c.a.x,y:c.a.y},this);d=Ia(d,function(e){if(e instanceof T)return!D(b,e)});return d.length>0?[c,d[0]]:n},this),function(c){return c!=n},this)};u.$j=function(a){try{this.Wd(12,a)}catch(b){this.M.info(b)}};u.Vh=function(a){this.Wd(9,a)};u.Zj=function(a){try{this.Wd(8,a)}catch(b){this.M.info(b);this.M.info("reverting state");this.Kc(C(eval("("+this.gj+")"),oj))}};u.Vh=function(a){this.Wd(9,a)};
u.Wj=function(a){this.Wd(5,a)};u.bk=function(a){this.Wd(25,a)};function zm(a,b,c){for(var d=a.Vd[7],e=0;e<d.length;++e){var f=d[e];if(f.ka(a)&&f.Qb(b)&&(c||f.yh()))return f.queryCommandValue(b)}return c?m:n}function wh(a){B(a.Vd[7],function(b){b.sd&&b.sd()})}u.queryCommandValue=function(a){var b=this.Bf();if(y(a))return zm(this,a,b);else{for(var c={},d=0;d<a.length;d++)c[a[d]]=zm(this,a[d],b);return c}};
u.execCommand=function(a){for(var b=arguments,c,d=this.Vd[6],e=0;e<d.length;++e){var f=d[e];if(f.ka(this)&&f.Qb(a)){c=f.execCommand.apply(f,b);break}}return c};u.Ek=function(a){var b=a.Dc();this.Ic[b]&&this.M.log(yb,"Cannot register the same class of plugin twice ["+b+"]",void 0);this.Ic[b]=a;for(var c in vh)a[vh[c]]&&this.Vd[c].push(a);th(a,this);this.Bf()&&a.jf(this)};u.Bf=function(){return this.If==vm};var vm=2;rm.prototype.M=Hb("kemia.controller.ReactionEditor");
var xh="cvc_"+Hd++,um="load_"+Hd++;Hd++;var Tj="beforechange_"+Hd++;Hd++;var ym="clear_"+Hd++;rm.prototype.p=function(){if(this.If==1||this.Bf())this.M.log(zb,"Disposing an editor that is in use.",void 0);this.$&&this.execCommand(zg.Xk);for(var a in this.Ic){var b=this.Ic[a];b.yh()||b.pg(this)}this.If=0;this.Id&&this.Id.Ee();this.bm=m;if(this.Id){this.Id.aa();this.Id=m}for(;a=this.Tk.pop();)a.aa();if(wm==this.id)wm=m;for(var c in this.Ic){a=this.Ic[c];a.tj&&a.aa()}delete this.Ic;rm.h.p.call(this)};
rm.prototype.Bf=function(){return this.If==vm};function tm(a,b,c,d,e){a.Id.u(a.$,b,c,d,e)}rm.prototype.Zg=function(a,b){this.Di.Zg(a,b)};var sm={background:{color:"#F0FFF0"},margin:{left:1,right:1,top:1,bottom:1}};function Am(a,b){this.Cb=new Id(this);this.hf=a;this.Ib=b;this.Xg=[];re(this.Ib,function(c){c.Fb&&this.Xg.push(Bm(this,me(c)))},this);this.Ib.sc(n);this.Cb.u(this.hf,xh,this.Rk).u(this.Ib,"action",this.Pj)}A(Am,Kd);function Bm(a,b){return b}u=Am.prototype;u.ab=r("Cb");u.Xa=function(){return this.Ib.Xa()};u.za=function(a){this.Ib.za(a)};u.ka=function(){return this.Ib.ka()};u.Jc=function(a){this.Ib.Jc(a)};u.blur=function(){this.Ib.Qc(m)};
u.p=function(){Am.h.p.call(this);if(this.Cb){this.Cb.aa();delete this.Cb}if(this.Ib){this.Ib.aa();delete this.Ib}delete this.hf;delete this.Xg};u.Rk=function(a){if(this.Ib.ka()&&this.dispatchEvent("change")){var b;try{b=this.hf.queryCommandValue(a.ol||this.Xg)}catch(c){b={}}a=b;for(var d in a)if(b=pe(this.Ib,d)){var e=a[d];b.We?b.We(e):Re(b,!!e)}}};u.Pj=function(a){var b;b=me(a.target);var c=a.target.Oa(),d;if(a.target.Af)d=a.target.Af();this.hf.execCommand(b,c,d,a)};u.M=Hb("kemia.controller.ToolbarController");var Cm=3;Cm=3;
function Dm(a,b,c,d){switch(a){case 1:switch(b){case 0:return new X(c,d);case 1:return new X(c,d,$h,11);case 4:return new X(c,d,$h,12);case 6:return new X(c,d,$h,13);default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}case 2:return new X(c,d,2);case Cm:return new X(c,d,3);case 4:a=new X(c,d);a.ac=k;return a;case 5:g(Error("type not implemented ["+a+"]"));case 6:g(Error("type not implemented ["+a+"]"));case 7:g(Error("type not implemented ["+a+"]"));case 8:g(Error("type not implemented ["+a+
"]"));default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}};var Em=RegExp(/\[[^[]+\]|Br|B|Cl|C|N|F|O|P]|S|c|n|o|s|-|=[0-9]|=[0-9]|=|#[0-9]|#[0-9][0-9]|#|\$|%[0-9][0-9]|[0-9]|\(|\)|./g),Fm=RegExp(/^\[([0-9]*)([A-Z][a-z]?|c|n|o|se|s|as)(@|@@)?(H)?([0-9])?([+-][\d]?)?\]$/),Gm=["C","c","N","n","O","o","S","s","P","F","Br","Cl","I","B"],Hm=["c","n","o","s","as","se"];
function Im(a,b,c){var d=a;if(a=="NONE")d=b.ac&&c.ac?":":"-";switch(d){case "-":return new X(b,c,$h);case "=":return new X(b,c,2);case "#":return new X(b,c,3);case ":":a=new X(b,c);a.ac=k;return a;default:g(Error("invalid bond type ["+a+"]"))}}
function Jm(a,b){for(var c=0,d=b.length;c<d;c++){var e=a.e[b[c]];if(e!=undefined){var f=b[++c];++c;var h=[],i=0,j=m;B(a.e,function(o){var p=Qi(a,e,o);if(p!=m&&p!=undefined){if(p.source!=e){p.source=e;p.target=o}i++;a:{o=Yi(a);for(var q=0,t=o.length;q<t;q++)for(var v=0,x=o[q].g.length;v<x;v++)if(p==o[q].g[v]){o=k;break a}o=n}o||h.push(p)}});var l=h.length;if((i==3||i==4)&&l>0){j=0;if(i==3&&l>1||i==4&&l>2)j=1;j=h[j];j.fa=f=="@"?11:13}if(i==4&&l>1){j=1;if(l==4)j=3;else if(l==4)j=2;j=h[j];j.fa=f=="@"?
13:11}}}}
var Km={H:{number:1,name:"Hydrogen"},He:{number:2,name:"Helium"},Li:{number:3,name:"Lithium"},Be:{number:4,name:"Beryllium"},B:{number:5,name:"Boron"},C:{number:6,name:"Carbon"},c:{number:6,name:"Carbon"},N:{number:7,name:"Nitrogen"},n:{number:7,name:"Nitrogen"},O:{number:8,name:"Oxygen"},o:{number:8,name:"Oxygen"},F:{number:9,name:"Fluorine"},Ne:{number:10,name:"Neon"},Na:{number:11,name:"Sodium"},Mg:{number:12,name:"Magnesium"},Al:{number:13,name:"Aluminium"},Si:{number:14,name:"Silicon"},P:{number:15,
name:"Phosphorus"},S:{number:16,name:"Sulfur"},s:{number:16,name:"Sulfur"},Cl:{number:17,name:"Chlorine"},Ar:{number:18,name:"Argon"},K:{number:19,name:"Potassium"},Ca:{number:20,name:"Calcium"},Sc:{number:21,name:"Scandium"},Ti:{number:22,name:"Titanium"},V:{number:23,name:"Vanadium"},Cr:{number:24,name:"Chromium"},Mn:{number:25,name:"Manganese"},Fe:{number:26,name:"Iron"},Co:{number:27,name:"Cobalt"},Ni:{number:28,name:"Nickel"},Cu:{number:29,name:"Copper"},Zn:{number:30,name:"Zinc"},Ga:{number:31,
name:"Gallium"},Ge:{number:32,name:"Germanium"},As:{number:33,name:"Arsenic"},as:{number:33,name:"Arsenic"},Se:{number:34,name:"Selenium"},se:{number:34,name:"Selenium"},Br:{number:35,name:"Bromine"},Kr:{number:36,name:"Krypton"},Rb:{number:37,name:"Rubidium"},Sr:{number:38,name:"Strontium"},Y:{number:39,name:"Yttrium"},Zr:{number:40,name:"Zirconium"},Nb:{number:41,name:"Niobium"},Mo:{number:42,name:"Molybdenum"},Tc:{number:43,name:"Technetium"},Ru:{number:44,name:"Ruthenium"},Rh:{number:45,name:"Rhodium"},
Pd:{number:46,name:"Palladium"},Ag:{number:47,name:"Silver"},Cd:{number:48,name:"Cadmium"},In:{number:49,name:"Indium"},Sn:{number:50,name:"Tin"},Sb:{number:51,name:"Antimony"},Te:{number:52,name:"Tellurium"},I:{number:53,name:"Iodine"},Xe:{number:54,name:"Xenon"},Cs:{number:55,name:"Caesium"},Ba:{number:56,name:"Barium"},La:{number:57,name:"Lanthanum"},Ce:{number:58,name:"Cerium"},Pr:{number:59,name:"Praseodymium"},Nd:{number:60,name:"Neodymium"},Pm:{number:61,name:"Promethium"},Sm:{number:62,name:"Samarium"},
Eu:{number:63,name:"Europium"},Gd:{number:64,name:"Gadolinium"},Tb:{number:65,name:"Terbium"},Dy:{number:66,name:"Dysprosium"},Ho:{number:67,name:"Holmium"},Er:{number:68,name:"Erbium"},Tm:{number:69,name:"Thulium"},Yb:{number:70,name:"Ytterbium"},Lu:{number:71,name:"Lutetium"},Hf:{number:72,name:"Hafnium"},Ta:{number:73,name:"Tantalum"},W:{number:74,name:"Tungsten"},Re:{number:75,name:"Rhenium"},Os:{number:76,name:"Osmium"},Ir:{number:77,name:"Iridium"},Pt:{number:78,name:"Platinum"},Au:{number:79,
name:"Gold"},Hg:{number:80,name:"Mercury"},Tl:{number:81,name:"Thallium"},Pb:{number:82,name:"Lead"},Bi:{number:83,name:"Bismuth"},Po:{number:84,name:"Polonium"},At:{number:85,name:"Astatine"},Rn:{number:86,name:"Radon"},Fr:{number:87,name:"Francium"},Ra:{number:88,name:"Radium"},Ac:{number:89,name:"Actinium"},Th:{number:90,name:"Thorium"},Pa:{number:91,name:"Protactinium"},U:{number:92,name:"Uranium"},Np:{number:93,name:"Neptunium"},Pu:{number:94,name:"Plutonium"},Am:{number:95,name:"Americium"},
Cm:{number:96,name:"Curium"},Bk:{number:97,name:"Berkelium"},Cf:{number:98,name:"Californium"},Es:{number:99,name:"Einsteinium"},Fm:{number:100,name:"Fermium"},Md:{number:101,name:"Mendelevium"},No:{number:102,name:"Nobelium"},Lr:{number:103,name:"Lawrencium"},Rf:{number:104,name:"Rutherfordium"},Db:{number:105,name:"Dubnium"},Sg:{number:106,name:"Seaborgium"},Bh:{number:107,name:"Bohrium"},Hs:{number:108,name:"Hassium"},Mt:{number:109,name:"Meitnerium"},Ds:{number:110,name:"Darmstadtium"},Rg:{number:111,
name:"Roentgenium"},Cn:{number:112,name:"Copernicium"}};function $(a,b){if(arguments.length>0){this.x=a;this.y=b}}u=$.prototype;u.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};u.add=function(a){return new $(this.x+a.x,this.y+a.y)};u.Pe=function(a){return new $(this.x-a.x,this.y-a.y)};u.toString=function(){return this.x+","+this.y};u.scale=function(a){this.x*=a;this.y*=a};u.normalize=function(){var a=1/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=a;this.y*=a};u.sub=function(a){this.x-=a.x;this.y-=a.y};
u.pi=function(a){this.x=-a.x;this.y=-a.y};u.pi=function(){this.x=-this.x;this.y=-this.y};u.$e=function(a){a=(this.x*a.x+this.y*a.y)/(this.length()*a.length());if(a<-1)a=-1;if(a>1)a=1;return Math.acos(a)};function Lm(a){var b,c;b=Y(a);for(var d=Array(b),e=0;e<b;++e){d[e]=Array(b);for(var f=0;f<b;f++)d[e][f]=0}e=a.zb();for(f=0;f<e;f++){c=a.g[f];b=Oi(a,c.source);c=Oi(a,c.target);d[b][c]=1;d[c][b]=1}e=d.length;b=Array(e);for(f=0;f<e;++f)b[f]=Array(e);for(f=0;f<e;f++)for(c=0;c<e;c++)b[f][c]=d[f][c]==0?999999:1;for(f=0;f<e;f++)b[f][f]=0;for(d=0;d<e;d++)for(f=0;f<e;f++)for(c=0;c<e;c++)if(b[f][d]+b[d][c]<b[f][c])b[f][c]=b[f][d]+b[d][c];d=0;e=-1;f=a.zb();c=b.length;for(var h=0;h<c;h++)if(Mm(a.e[h],a,f)==1)for(var i=
0;i<c;i++)if(b[h][i]>d){d=b[h][i];e=h}return Nm(a,a.e[e])}function Nm(a,b){for(var c=0,d=0,e=0,f=0,h=[],i=Y(a),j=a.zb(),l=0;l<i;l++){a.e[l].ib(1,n);h[l]=new U;fi(h[l],b)}l=[];l.push(b);b.ea[1]=k;Om(a,l,h,j);for(l=0;l<i;l++)if(Y(h[l])>=d){f=h[l];for(var o=0,p=Y(f),q=0;q<p;q++)o+=Mm(f.e[q],a,j);f=o;if(f>e){e=f;c=l;d=Y(h[l])}}return h[c]}function Mm(a,b,c){for(var d=0,e=0;e<c;e++)if(b.g[e].source==a||b.g[e].target==a)d++;return d}
function Om(a,b,c,d){for(var e=[],f=b.length,h=0;h<f;h++){var i=b[h];if(!i.ea[2])for(var j=Oi(a,i),l=Zi(a,i),o=0;o<l.length;o++){var p=l[o],q=V(p,i);if(!q.ea[1]&&!q.ea[0]){for(var t=Oi(a,q),v=c,x=t,H=c[j],J=new U,ja=0,W=Y(H);ja<W;ja++)fi(J,H.e[ja]);v[x]=J;fi(c[t],q);ci(c[t],p);Mm(q,a,d)>1&&e.push(q)}}}if(e.length>0){for(b=0;b<e.length;b++)e[b].ib(1,k);Om(a,e,c,d)}}
function Pm(a,b,c){var d=b;for(b=0;b<Y(a)-1;b++){var e=a.e[b],f=a.e[b+1],h=new K(e.a.x,e.a.y);d.normalize();d.scale(c);h.x+=d.x;h.y+=d.y;f.a=h;f.ib(0,k);d=k;if(Qm(a)==2)d=n;d=Rm(f,e,Sm(a),d)}}function Qm(a){if(a==m)return 0;var b=n,c=n;B(a.e,function(d){if(d.a==m||d.a.x==0&&d.a.y==0)b=k;else c=k});return!b&&c?2:b&&c?1:0}function Sm(a){for(var b=0,c=0,d=0,e=0,f=Y(a);e<f;e++){var h=a.e[e];if(h.ea[0]==k){b+=h.a.x;c+=h.a.y;d++}}return new K(b/d,c/d)}
function Tm(a){for(var b=0,c=0,d=0,e=0,f=a.length;e<f;e++){var h=a[e];if(h.ea[0]==k){b+=h.a.x;c+=h.a.y;d++}}return new K(b/d,c/d)}function Um(a,b){var c=0;if(a>=0&&b>=0)c=Math.atan(b/a);else if(a<0&&b>=0)c=Math.PI+Math.atan(b/a);else if(a<0&&b<0)c=Math.PI+Math.atan(b/a);else if(a>=0&&b<0)c=2*Math.PI+Math.atan(b/a);return c}
function Rm(a,b,c,d){b=Um(b.a.x-a.a.x,b.a.y-a.a.y);var e=Math.PI*(120/180);d||(e=Math.PI*(60/180));b+=e;d=new $(Math.cos(b),Math.sin(b));var f=sc(new K(a.a.x+d.x,a.a.y+d.y),c);b+=e;b=new $(Math.cos(b),Math.sin(b));return sc(new K(a.a.x+b.x,a.a.y+b.y),c)>f?b:d}function Vm(a,b){for(var c=0;c<b;c++)if(!a.e[c].ea[0])return n;return k}
function Wm(a,b,c,d,e){var f=0,h=0,i=0;i=0;var j=new $(c.x,c.y);f=new $(a.a.x,a.a.y);var l=new $(c.x,c.y);l.sub(f);c=[];var o=Y(b);h=Y(d);if(o==1){for(f=0;f<h;f++)c.push(d.e[f]);i=Math.PI*2/(h+o);d=b.e[0];h=Um(d.a.x-a.a.x,d.a.y-a.a.y);Xm(c,new K(a.a.x,a.a.y),h,i,e)}else if(o==0){for(f=0;f<h;f++)c.push(d.e[f]);i=Math.PI*2/h;Xm(c,new K(a.a.x,a.a.y),0,i,e)}else{i=[];j.sub(f);f=j;f.normalize();f.scale(e);f.pi();j=new K(a.a.x,a.a.y);j.x+=f.x;j.y+=f.y;for(f=0;f<o;f++)i.push(b.e[f]);do{b=n;f=0;for(o=i.length;f<
o-1;f++){var p=i[f],q=i[f+1];if(sc(j,q.a)<sc(j,p.a)){i[f]=q;i[f+1]=p;b=k}}}while(b);f=new $(i[0].a.x,i[0].a.y);b=new $(i[1].a.x,i[1].a.y);f.sub(new $(a.a.x,a.a.y));b.sub(new $(a.a.x,a.a.y));f=f.$e(l);f+=b.$e(l);b=Um(i[0].a.x-a.a.x,i[0].a.y-a.a.y);j=Um(j.x-a.a.x,j.y-a.a.y);l=m;l=b>j?b-j<Math.PI?i[1]:i[0]:j-b<Math.PI?i[0]:i[1];i=2*Math.PI-f;i=i/(h+1);for(j=0;j<h;j++)c.push(d.e[j]);h=Um(l.a.x-a.a.x,l.a.y-a.a.y);Xm(c,new K(a.a.x,a.a.y),h,i,e)}}
function Xm(a,b,c,d,e){var f=[];c=c;for(var h=0,i=a.length;h<i;h++){c+=d;if(c>=2*Math.PI)c-=2*Math.PI;var j=a[h];if(j.T=="H")e*=0.6;f.push(new K(Math.cos(c)*e+b.x,Math.sin(c)*e+b.y))}h=0;for(i=a.length;h<i;h++){j=a[h];j.a=f[h];j.ea[0]=k}}function Ym(a,b,c,d){var e=0;B(b.g.L(),function(f){e++;f=V(f,b);f.ea[0]?fi(d,f):fi(c,f)});return e}function Zm(a){B(a,function(b){b.ib(0,n)})}function $m(a){B(a,function(b){b.ib(0,k)})};function an(a,b,c){a=Math.sqrt(Math.pow(c/(2*Math.sin(Math.PI/a.e.length)),2)-Math.pow(c/2,2));b=Um(b.x,b.y);b+=Math.PI/2;return new $(Math.cos(b)*a,Math.sin(b)*a)}
function bn(a,b,c,d,e){var f=b.e.length;if(f>2){f=e/(2*Math.sin(Math.PI/a.e.length));d.normalize();d.scale(f);c=new K(c.x+d.x,c.y+d.y);var h=cn(b);e=h[0];h=h[1];var i=new $(e.a.x,e.a.y),j=new $(h.a.x,h.a.y);i.sub(d);j.sub(d);i=i.$e(j);i=(2*Math.PI-i)/(a.e.length-b.e.length+1);var l;a:{if(L(e.a,h.a).x==0){if(e.a.y>h.a.y){l=e;break a}}else if(e.a.x>h.a.x){l=e;break a}l=h}j=N(Jg(l.a.x,l.a.y,d.x,d.y));a=dn(l,b.g[0],a.g);b=1;h=L(e.a,h.a);if(h.x==0){if(d.x>e.a.x)b=-1}else if(d.y-e.a.y<(d.x-e.a.x)*h.y/h.x)b=
-1;i*=b;Xm(a,c,j,i,f)}else if(f==2){f=e/(2*Math.sin(Math.PI/a.e.length));e=Math.sqrt(Math.pow(f,2)-Math.pow(e/2,2));d.normalize();d.scale(e);d=new K(c.x+d.x,c.y+d.y);h=b.e[0];i=b.e[1];c=new $(h.a.x,h.a.y);e=new $(i.a.x,i.a.y);j=new $(d.x,d.y);c.sub(j);e.sub(j);c=c.$e(e);c=(2*Math.PI-c)/(a.e.length-1);j=d.x;l=d.y;var o=h.a.x-i.a.x,p=h.a.y-i.a.y;e=1;if(o==0){i=h.a.y>i.a.y?h:i;e=j<h.a.x?1:-1}else{i=h.a.x>i.a.x?h:i;e=l-h.a.y>(j-h.a.x)*p/o?1:-1}h=Um(i.a.x-d.x,i.a.y-d.y);i=i;b=b.g[0];j=[];l=0;for(o=a.g.length-
2;l<o;l++){a:{for(p=0;p<a.g.length;p++)if(a.g[p]!=b&&(a.g[p].source==i||a.g[p].target==i)){b=a.g[p];break a}b=m}i=V(b,i);j.push(i)}c*=e;Xm(j,d,h,c,f)}else if(f==1){f=e/(2*Math.sin(Math.PI/a.e.length));d.normalize();d.scale(f);d=new K(c.x+d.x,c.y+d.y);c=2*Math.PI/a.e.length;h=b.e[0];e=Um(h.a.x-d.x,h.a.y-d.y);a=dn(h,b.g[0],a.g);Xm(a,d,e,c,f)}}
function en(a,b,c){var d=new U,e=0;B(b,function(f){B(f.e,function(h){var i=new U,j=new U,l=Ia(b,function(o){return D(o.e,h)});l=Ya(C(l,function(o){return o.e}));l=fn(l);e+=Ym(a,h,i,j);Zm(i.e);B(i.e,function(o){fi(d,o)});i.e.length>0&&Wm(h,j,l,i,c)})});return d}function dn(a,b,c){var d=Ma(c,function(e){return V(e,a)});b=Ia(c,function(e){return e!==d});if(b.length>0){c=V(d,a);return Pa(c,dn(c,d,b))}else return[]}
function cn(a){var b=[];B(a.e,function(c){B(c.g.L(),function(d){D(a.g,d)&&b.push(V(d,c))})});return b}function gn(a,b){var c=[];B(b.e,function(d){D(a.e,d)&&c.push(d)});return c}function hn(a,b){var c=[];B(b.g,function(d){D(a.g,d)&&c.push(d)});return c}function fn(a){var b=Ja(a,function(c,d){return M(c,d.a)},new K(0,0));return new K(b.x/a.length,b.y/a.length)}
function jn(a,b,c,d){for(var e=kn(b,a),f=0,h=e.length;f<h;f++){var i=e[f];if(!i.ea[0]){var j={e:gn(b,i),g:hn(b,i)},l=j.e.length;if(l==2&&c=="FUSED"||l==1&&c=="SPIRO"||l>2&&c=="BRIDGED"){l="";for(var o=0;o<j.e.length;o++)l+="\n         "+j.e[o].a+" "+j.e[o].ea[0];l=Tm(j.e);o=Tm(b.e);var p=new $(l.x,l.y);p=new $(p.x,p.y);p.sub(new $(o.x,o.y));bn(i,j,l,p,d);i.ib(0,k);jn(a,i,c,d)}}}}function ln(a){B(a,function(b){b.gi||B(b.e,function(c){c.ib(0,n)})})}
function mn(a){return Ma(a,function(b){return Ka([b.source,b.target],function(c){return c.ea[2]&&!c.ea[0]&&V(b,c).ea[0]})})}
function nn(a,b,c,d){ln(c);c=Ia(b.e,function(p){return p.ea[0]});var e=mn(b.g);if(e){var f=Ma([e.source,e.target],function(p){return p.ea[2]&&!p.ea[0]});e=V(e,f);d=Ma(d,function(p){return Ma(p,function(q){return D(q.e,f)})});var h=f.a.la(),i=e.a.la();on(a,d);Zm(c);a=en(b,d,pn);$m(c);c=Pa(a.e,Ya(C(d,function(p){return p.e})));Ua(c);a=f.a;b=e.a;a=Um(h.x-i.x,h.y-i.y)-Um(a.x-b.x,a.y-b.y);var j=new $(i.x,i.y);j.sub(new $(b.x,b.y));B(c,function(p){p.a.x+=j.x;p.a.y+=j.y});var l=Math.cos(a),o=Math.sin(a);
B(c,function(p){p=p.a;var q=p.x-i.x,t=p.y-i.y;p.x=q*l-t*o+i.x;p.y=q*o+t*l+i.y});B(d,function(p){p.gi=k})}};function qn(a){for(var b=[],c=Array(a.length),d=0,e=a.length;d<e;d++)c[d]=n;d=0;for(e=a.length;d<e;d++)if(!c[d]){var f=[];f.push(a[d]);c[d]=k;for(var h=a[d].e.length,i=d+1;i<a.length;i++)if(!c[i]){var j=a[i].e.length,l=0;a:for(;l<f.length;l++){h=f[l].e.length;for(var o=0;o<h;o++)for(var p=0;p<j;p++)if(f[l].e[o]==a[i].e[p]){f.push(a[i]);c[i]=k;i=d;break a}}}b.push(f)}return b}
function kn(a,b){for(var c=[],d=a.e.length,e=0,f=b.length;e<f;e++)if(a!=b[e]){var h=b[e].e.length,i=0;a:for(;i<d;i++)for(var j=0;j<h;j++)if(a.e[i]==b[e].e[j]){c.push(b[e]);break a}}return c}qn=function(a){var b=[],c=a;B(a,function(d){if(!D(Ya(b),d)){var e=Ma(b,function(h){return D(h,d)});if(e==m){e=[d];c=Ia(c,function(h){return h!==d})}var f=kn(d,c);e=Pa(e,f);c=Ia(c,function(h){D(f,h)});b.push(e)}});return b};
kn=function(a,b){var c=[];B(b,function(d){Ka(d.e,function(e){return d===a?n:D(a.e,e)})&&c.push(d)});return c};function rn(a){var b=[],c=sn(a,b);if(c>0){c=0;do{var d=Math.round(Math.random()*b.length);if(d>=b.length)d=b.length-1;var e=b[d];if(e!=undefined){var f=e[0];e=e[1];d=new $(e.a.x-f.a.x,e.a.y-f.a.y);d.normalize();if(isNaN(d.x))d.x=0.01;if(isNaN(d.y))d.y=0.01;d.scale(-1*pn/3);if(Math.random()>0.5){e.a.x+=d.x;e.a.y+=d.y}else{f.a.x-=d.x;f.a.y-=d.y}f=sn(a,b);c++}else alert("problem kemia.layout.OverlapResolver.displace p is "+d+" and len "+b.length+" and "+e)}while(f>0&&!(c>25));c=f}return c}
function sn(a,b){for(var c=0,d=pn/5,e=Y(a),f=0;f<e;f++)for(var h=a.e[f],i=h.a,j=f+1;j<e;j++){var l=a.e[j];if(sc(i,l.a)<d){c+=d;b.push([h,l])}}return c};var pn=1.5;function on(a,b){var c=tn(b);if(!c.ea[0]){var d={e:un(c.g[0],a),g:[c.g[0]]},e=Ja(d.e,function(f,h){return M(f,h.a)},new K(0,0));bn(c,d,new $(e.x/d.e.length,e.y/d.e.length),an(c,a,pn),pn);c.ib(0,k)}d=0;do{if(c.ea[0]){jn(b,c,"FUSED",pn);jn(b,c,"BRIDGED",pn);jn(b,c,"SPIRO",pn)}d++;if(d==b.length)d=0;c=b[d]}while(!vn(b))}function un(a,b){b.normalize();b.scale(pn);a.source.a=new K(0,0);a.source.ib(0,k);a.target.a=new K(b.x,b.y);a.target.ib(0,k);return[a.source,a.target]}
function vn(a){for(var b=0;b<a.length;b++)if(!a[b].ea[0])return n;return k}function wn(a,b,c,d){c=new U;b=Zi(b,a);for(var e=0,f=b.length;e<f;e++){var h=V(b[e],a);if(d&&h.ea[0])fi(c,h);else!d&&!h.ea[0]&&fi(c,h)}return c}
function xn(a,b,c){var d=0,e;do{d++;var f=n;a:{for(var h=0;h<b;h++){e=a.g[h];if(e.source.ea[0]&&!e.target.ea[0]){e=e.source;break a}if(!e.source.ea[0]&&e.target.ea[0]){e=e.target;break a}}e=m}var i=m,j=m;if(e!=m){i=wn(e,a,b,n);j=wn(e,a,b,k);h=Nm(a,e);if(Y(h)>1){if(Y(j)>1){Wm(e,j,Sm(j),i,c);i=new $(h.e[1].a.x,h.e[1].a.y);j=new $(e.a.x,e.a.y);i.sub(j)}else i=Rm(e,j.e[0],Sm(a),k);e=1;for(j=Y(h);e<j;e++)h.e[e].ea[0]=n;Pm(h,i,c)}else f=k}else f=k}while(!f&&d<=Y(a))}
function tn(a){for(var b=Array(a.length),c=0;c<b.length;c++)b[c]=0;var d=0,e=0;for(c=0;c<a.length;c++)for(var f=a[c],h=0;h<f.e.length;h++)for(var i=f[h],j=c+1;j<a.length;j++){var l=a[j];if(f!=l)for(var o=0;o<l.e.length;o++)if(i==l[o]){b[c]++;b[j]++;break}}for(c=0;c<b.length;c++)if(b[c]>d){d=b[c];e=c}return a[e]};w("goog.dom.getElement",function(a){return y(a)?document.getElementById(a):a},void 0);w("goog.dom.setTextContent",Kc,void 0);w("goog.ui.Prompt",Jf,void 0);w("goog.ui.Prompt.prototype.setDefaultValue",Jf.prototype.Jk,void 0);w("goog.ui.Prompt.prototype.setVisible",Jf.prototype.za,void 0);w("goog.now",ua,void 0);w("goog.debug.Console",Ob,void 0);w("goog.debug.Console.prototype.setCapturing",Ob.prototype.Ik,void 0);w("goog.ui.Select",tg,void 0);w("goog.ui.Select.prototype.addItem",tg.prototype.yc,void 0);
w("goog.ui.Select.prototype.setSelectedIndex",tg.prototype.Le,void 0);w("goog.ui.Select.prototype.render",tg.prototype.R,void 0);w("goog.ui.Select.prototype.getValue",tg.prototype.Oa,void 0);w("goog.ui.MenuItem",af,void 0);w("goog.ui.Component.EventType.ACTION","action",void 0);w("goog.events.EventType.LOAD","load",void 0);w("goog.events.listen",yd,void 0);w("kemia.io.json.readMolecule",kj,void 0);w("kemia.io.json.writeMolecule",function(a){return zi(new Ai,lj(a))},void 0);
w("kemia.io.json.readReaction",oj,void 0);w("kemia.io.json.writeReaction",function(a){return zi(new Ai,pj(a))},void 0);
w("kemia.io.mdl.readMolfile",function(a){a=a.split(a.indexOf("\r\n")>0?"\r\n":"\n");var b=new U(a[0]),c=va(a[1].slice(46,52));b.id=c;var d=parseInt(a[3].substr(0,3),10),e=parseInt(a[3].substr(3,3),10);for(c=1;c<=d;c++){var f=a[c+3],h=f.substr(30,4).replace(/(^\s*)|(\s*$)/g,""),i=parseFloat(f.substr(0,10)),j=parseFloat(f.substr(10,10));f=parseInt(f.substr(36,3),10);var l=0;if(f!=0)if(f==1)l=3;else if(f==2)l=2;else if(f==3)l=1;else if(f!=4)if(f==5)l=-1;else if(f==6)l=-2;else if(f==7)l=-3;f=new T(h,
i,j,l);fi(b,f)}for(c=1;c<=e;c++){f=a[c+3+d];f=Dm(parseInt(f.substr(6,3),10),parseInt(f.substr(9,3),10),b.e[parseInt(f.substr(0,3),10)-1],b.e[parseInt(f.substr(3,3),10)-1]);ci(b,f)}c=4+d+e;d=a.length;for(e=n;;){f=a[c++];if(c==d||f.indexOf("M  END")>=0)break;if(f.indexOf("M  CHG")>=0){if(!e){l=0;for(e=Y(b);l<e;l++)b.e[l].Va=0;e=k}h=parseInt(f.substr(6,3),10);for(i=0;i<h;i++){j=parseInt(f.substr(10+8*i,3),10);l=parseInt(f.substr(14+8*i,3),10);b.e[j-1].Va=l}}}return b},void 0);
w("kemia.io.smiles.SmilesParser.parse",function(a){for(var b=a.match(Em),c=new U(a),d=0,e,f="NONE",h=[],i=[],j=[],l="",o=[],p=0;p<b.length;p++){var q=b[p];if(q!=".")if(q=="(")h.push(e);else if(q==")")if(h.length)e=h.pop();else l=" Unbalanced parents";else if(q=="-")f="-";else if(q=="=")f="=";else if(q=="#")f="#";else if(q=="$")f="$";else if(q==":")f=":";else if(q[0]=="%"){var t=parseInt(q[1]+q[2],10),v=i[t];if(v){ci(c,Im(f,e,v));f="NONE";i[t]=m}else i[t]=e}else if(q!="/")if(q!="\\")if(isNaN(t=parseInt(q,
10)))if(q.length>1&&(q.lastIndexOf("=",0)==0||q.lastIndexOf("#",0)==0||q.lastIndexOf("$",0)==0)&&!isNaN(t=parseInt(q.substr(1),10)))if(v=i[t]){ci(c,Im(j[t],e,v));f="NONE";i[t]=m;j[t]=m}else{i[t]=e;j[t]=q.substr(0,1)}else{t=q;v={Df:m,symbol:m,fa:"NONE",ck:m,Va:m,ac:n,Fh:n};var x=Fm.exec(t);if(x){v.Df=x[1];if(Km[x[2]])v.T=x[2];if(x[3]=="@"||x[3]=="@@"){v.fa=x[3];if(x[4]=="H")v.Fh=k}else v.fa="NONE";if(x[4]=="H")v.ck=x[5]?x[5]:1;v.Va=x[6]=="+"?1:x[6]=="-"?-1:parseInt(x[6],10)}else if(D(Gm,t))v.T=t;if(D(Hm,
v.T)){v.ac=k;v.T=v.T.length==1?v.T.toUpperCase():v.T[0].toUpperCase()+v.T[1]}t=v;if(t.T){d+=1;q=new T(t.T,0,0,t.Va,t.ac,t.Df);if(e){ci(c,Im(f,e,q));f="NONE"}fi(c,q);if(t.fa!="NONE"){o.push(Oi(c,q));o.push(t.fa);o.push(t.Fh)}e=q}else l=" unknown atom "+q}else if(v=i[t]){ci(c,Im(f,e,v));f="NONE";i[t]=m}else i[t]=e;if(l)g(Error(a+l))}Jm(c,o);if(h.length)g(Error("unbalanced parens"));for(a=0;a<i.length;++a)if(i[a])g(Error("unclosed rings"));if(f!="NONE")g(Error("unpaired bond "+f));return c},void 0);
w("kemia.layout.CoordinateGenerator.generate",function(a){for(var b=0,c=new $(0,1),d=Y(a),e=0;e<d;e++){var f=a.e[e];f.ib(0,n);f.ib(1,n);f.ib(2,n);f.ib(ii.bl,n)}if(d==1){a.e[0].coords=new K(0,0);return a}if(a.Jd>1)g(Error("Molecule not connected."));e=a.zb();b=e-Y(a)+1;f=Yi(a);var h=new qn(f);if(b>0){B(f,function(i){B(i.e,function(j){j.ib(2,k)})});Va(h,function(i,j){return Wa(i.length,j.length)});b=h[h.length-1];on(c,b);en(a,b,pn);B(b,function(i){i.gi=k})}else{b=Lm(a);b.e[0].a=new K(0,0);b.e[0].ea[0]=
k;Pm(b,c,pn)}b=0;do{b++;xn(a,e,pn);nn(c,a,f,h)}while(!Vm(a,d)&&b<=Y(a));rn(a,f);return a},void 0);w("kemia.controller.ReactionEditor",rm,void 0);w("kemia.controller.ReactionEditor.prototype.setModels",rm.prototype.Kc,void 0);w("kemia.controller.ReactionEditor.prototype.render",rm.prototype.R,void 0);w("kemia.controller.ReactionEditor.prototype.registerPlugin",rm.prototype.Ek,void 0);w("kemia.controller.ReactionEditor.prototype.addEventListener",rm.prototype.addEventListener,void 0);
w("kemia.controller.ReactionEditor.EventType.CLEAR",ym,void 0);w("kemia.controller.ToolbarController",Am,void 0);w("kemia.controller.DefaultToolbar.makeDefaultMoleculeToolbar",function(a){var b=Xj([]);b=Zj(b);b=$j(b);return ak(b,a)},void 0);w("kemia.controller.plugins.ArrowPlusEdit",Hh,void 0);w("kemia.controller.DefaultToolbar.makeDefaultToolbar",{}.Zl,void 0);
w("kemia.controller.DefaultToolbar.makeDefaultReactionToolbar",function(a){var b=Xj([]);b=b;var c=ph("editPlus","Plus","","tr-icon tr-plus");c.Fb=k;b.push(c);c=ph("editArrow","Arrow","","tr-icon tr-arrow");c.Fb=k;b.push(c);b.push(new yg);b=Zj(b);b=$j(b);return ak(b,a)},void 0);w("kemia.controller.plugins.AtomEdit",Uh,void 0);w("kemia.controller.plugins.BondEdit",ni,void 0);w("kemia.controller.plugins.Cleanup",{}.Yk,void 0);w("kemia.controller.plugins.ClearEditor",ri,void 0);
w("kemia.controller.plugins.Erase",si,void 0);w("kemia.controller.plugins.MoleculeEdit",qj,void 0);w("kemia.controller.plugins.Move",xj,void 0);w("kemia.controller.plugins.UndoRedo",Mj,void 0);w("kemia.controller.plugins.Zoom",Uj,void 0);})();
