/*
 * Kemia JavaScript Library v0.2-50-g87f2329
 * http://http://kemia.github.com/
 * 
 * Copyright (c) 2010 Paul Novak (paul@wingu.com)
 * 
 * Licensed under the Apache License, Version 2.0 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Date: January 4 2011
 * Revision: v0.2-50-g87f2329
 */
(function(){function g(a){throw a;}var k=true,l=null,n=false;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function r(a){return function(){return this[a]}}function s(a){return function(){return a}}var u,ca=ca||{},da=this;function w(a,b,c){a=a.split(".");c=c||da;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}}
function ea(a,b){for(var c=a.split("."),d=b||da,e;e=c.shift();)if(d[e]!=l)d=d[e];else return l;return d}function fa(){}function ga(a){a.pa=function(){return a.Jk||(a.Jk=new a)}}
function ha(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function ia(a){return ha(a)=="array"}function ja(a){var b=ha(a);return b=="array"||b=="object"&&typeof a.length=="number"}function x(a){return typeof a=="string"}function ka(a){return typeof a=="number"}function la(a){return ha(a)=="function"}function na(a){a=ha(a);return a=="object"||a=="array"||a=="function"}function oa(a){return a[pa]||(a[pa]=++qa)}
var pa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),qa=0;function ra(a){return a.call.apply(a.bind,arguments)}function sa(a,b){var c=b||da;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}
function ta(){ta=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ra:sa;return ta.apply(l,arguments)}function ua(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var va=Date.now||function(){return+new Date};function z(a,b){var c=b||{},d;for(d in c){var e=(""+c[d]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e)}return a}
function A(a,b){function c(){}c.prototype=b.prototype;a.h=b.prototype;a.prototype=new c;a.prototype.constructor=a};function wa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function xa(a,b){if(b)return a.replace(ya,"&amp;").replace(za,"&lt;").replace(Aa,"&gt;").replace(Ba,"&quot;");else{if(!Ca.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(ya,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(za,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Aa,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ba,"&quot;");return a}}var ya=/&/g,za=/</g,Aa=/>/g,Ba=/\"/g,Ca=/[&<>\"]/;
function Da(a,b){for(var c=0,d=wa(String(a)).split("."),e=wa(String(b)).split("."),f=Math.max(d.length,e.length),h=0;c==0&&h<f;h++){var i=d[h]||"",j=e[h]||"",m=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(i)||["","",""],q=o.exec(j)||["","",""];if(p[0].length==0&&q[0].length==0)break;c=Ea(p[1].length==0?0:parseInt(p[1],10),q[1].length==0?0:parseInt(q[1],10))||Ea(p[2].length==0,q[2].length==0)||Ea(p[2],q[2])}while(c==0)}return c}
function Ea(a,b){if(a<b)return-1;else if(a>b)return 1;return 0}var Fa=Math.random()*2147483648|0;function Ga(a){return a};var Ha=Array.prototype,Ia=Ha.indexOf?function(a,b,c){return Ha.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(x(a)){if(!x(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},B=Ha.forEach?function(a,b,c){Ha.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ja=Ha.filter?function(a,b,c){return Ha.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,
e=[],f=0,h=x(a)?a.split(""):a,i=0;i<d;i++)if(i in h){var j=h[i];if(b.call(c,j,i,a))e[f++]=j}return e},C=Ha.map?function(a,b,c){return Ha.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(""):a,h=0;h<d;h++)if(h in f)e[h]=b.call(c,f[h],h,a);return e};function Ka(a,b,c,d){if(a.reduce)return d?a.reduce(ta(b,d),c):a.reduce(b,c);var e=c;B(a,function(f,h){e=b.call(d,e,f,h,a)});return e}
var La=Ha.some?function(a,b,c){return Ha.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return k;return n},Ma=Ha.every?function(a,b,c){return Ha.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return n;return k};
function Na(a,b,c){a:{for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a)){b=f;break a}b=-1}return b<0?l:x(a)?a.charAt(b):a[b]}function D(a,b){return Ia(a,b)>=0}function Oa(a,b){var c=Ia(a,b),d;if(d=c>=0)Pa(a,c);return d}function Pa(a,b){return Ha.splice.call(a,b,1).length==1}function Qa(){return Ha.concat.apply(Ha,arguments)}function Ra(a){if(ia(a))return Qa(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Sa(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(ia(c)||(d=ja(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var e=a.length,f=c.length,h=0;h<f;h++)a[e+h]=c[h];else a.push(c)}}function Ta(a){return Ha.splice.apply(a,Ua(arguments,1))}function Ua(a,b,c){return arguments.length<=2?Ha.slice.call(a,b):Ha.slice.call(a,b,c)}
function Va(a,b){for(var c=b||a,d={},e=0,f=0;f<a.length;){var h=a[f++],i=na(h)?oa(h):h;if(!Object.prototype.hasOwnProperty.call(d,i)){d[i]=k;c[e++]=h}}c.length=e}function Wa(a,b){Ha.sort.call(a,b||Xa)}function Xa(a,b){return a>b?1:a<b?-1:0}function Ya(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function Za(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];ia(c)?a.push.apply(a,Za.apply(l,c)):a.push(c)}return a};function $a(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function ab(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function bb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function cb(a,b){var c;if(c=b in a)delete a[b];return c}function db(a,b,c){if(b in a)g(Error('The object already contains the key "'+b+'"'));a[b]=c}function eb(a){var b={},c;for(c in a)b[a[c]]=c;return b}var fb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function gb(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<fb.length;e++){b=fb[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}}function hb(){var a=arguments.length;if(a==1&&ia(arguments[0]))return hb.apply(l,arguments[0]);if(a%2)g(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b}
function ib(){var a=arguments.length;if(a==1&&ia(arguments[0]))return ib.apply(l,arguments[0]);for(var b={},c=0;c<a;c++)b[arguments[c]]=k;return b};function jb(a){if(typeof a.L=="function")return a.L();if(x(a))return a.split("");if(ja(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ab(a)}function kb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ja(a)||x(a))B(a,b,c);else{var d;if(typeof a.$g=="function")d=a.$g();else if(typeof a.L!="function")if(ja(a)||x(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f);d=d}else d=bb(a);else d=void 0;e=jb(a);f=e.length;for(var h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};function lb(a){this.Ua={};this.ga=[];var b=arguments.length;if(b>1){if(b%2)g(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.Jb(arguments[c],arguments[c+1])}else a&&this.Hd(a)}u=lb.prototype;u.da=0;u.Ph=0;u.Af=r("da");u.L=function(){mb(this);for(var a=[],b=0;b<this.ga.length;b++)a.push(this.Ua[this.ga[b]]);return a};u.$g=function(){mb(this);return this.ga.concat()};u.clear=function(){this.Ua={};this.Ph=this.da=this.ga.length=0};
u.remove=function(a){if(nb(this.Ua,a)){delete this.Ua[a];this.da--;this.Ph++;this.ga.length>2*this.da&&mb(this);return k}return n};function mb(a){if(a.da!=a.ga.length){for(var b=0,c=0;b<a.ga.length;){var d=a.ga[b];if(nb(a.Ua,d))a.ga[c++]=d;b++}a.ga.length=c}if(a.da!=a.ga.length){var e={};for(c=b=0;b<a.ga.length;){d=a.ga[b];if(!nb(e,d)){a.ga[c++]=d;e[d]=1}b++}a.ga.length=c}}u.l=function(a,b){if(nb(this.Ua,a))return this.Ua[a];return b};
u.Jb=function(a,b){if(!nb(this.Ua,a)){this.da++;this.ga.push(a);this.Ph++}this.Ua[a]=b};u.Hd=function(a){var b;if(a instanceof lb){b=a.$g();a=a.L()}else{b=bb(a);a=ab(a)}for(var c=0;c<b.length;c++)this.Jb(b[c],a[c])};u.ja=function(){return new lb(this)};function nb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function ob(a){this.Ua=new lb;a&&this.Hd(a)}function pb(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+oa(a):b.substr(0,1)+a}u=ob.prototype;u.Af=function(){return this.Ua.Af()};u.add=function(a){this.Ua.Jb(pb(a),a)};u.Hd=function(a){a=jb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};u.We=function(a){a=jb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};u.remove=function(a){return this.Ua.remove(pb(a))};u.clear=function(){this.Ua.clear()};
u.contains=function(a){a=pb(a);return nb(this.Ua.Ua,a)};u.zi=function(a){var b=new ob;a=jb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};u.L=function(){return this.Ua.L()};u.ja=function(){return new ob(this)};function qb(a){return rb(a||arguments.callee.caller,[])}
function rb(a,b){var c=[];if(D(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push(sb(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=sb(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";c.push(f)}b.push(a);c.push(")\n");try{c.push(rb(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function sb(a){a=String(a);if(!tb[a]){var b=/function ([^\(]+)/.exec(a);tb[a]=b?b[1]:"[Anonymous]"}return tb[a]}var tb={};function ub(a,b,c,d,e){this.reset(a,b,c,d,e)}ub.prototype.jl=0;ub.prototype.Ug=l;ub.prototype.Tg=l;var vb=0;ub.prototype.reset=function(a,b,c,d,e){this.jl=typeof e=="number"?e:vb++;this.tj=d||va();this.rd=a;this.Pi=b;this.Pk=c;delete this.Ug;delete this.Tg};ub.prototype.ej=ba("rd");function wb(a){this.Uk=a}wb.prototype.za=l;wb.prototype.rd=l;wb.prototype.oa=l;wb.prototype.be=l;function xb(a,b){this.name=a;this.value=b}xb.prototype.toString=r("name");var yb=new xb("SHOUT",1200),zb=new xb("SEVERE",1E3),Ab=new xb("WARNING",900),Bb=new xb("INFO",800),Cb=new xb("CONFIG",700),Db=new xb("FINE",500),Eb=new xb("FINEST",300);u=wb.prototype;u.ej=ba("rd");function Fb(a){if(a.rd)return a.rd;if(a.za)return Fb(a.za);return l}
u.log=function(a,b,c){if(a.value>=Fb(this).value){a=this.ek(a,b,c);da.console&&da.console.markTimeline&&da.console.markTimeline("log:"+a.Pi);for(b=this;b;){c=b;var d=a;if(c.be)for(var e=0,f=void 0;f=c.be[e];e++)f(d);b=b.za}}};
u.ek=function(a,b,c){var d=new ub(a,String(b),this.Uk);if(c){d.Ug=c;var e;var f=arguments.callee.caller;try{var h,i=ea("window.location.href");h=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:i,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.Dm||"Not available",fileName:c.fileName||c.filename||c.sourceURL||i,stack:c.stack||"Not available"}:c;e="Message: "+xa(h.message)+'\nUrl: <a href="view-source:'+
h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+xa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+xa(qb(f)+"-> ")}catch(j){e="Exception trying to expose exception! You win, we lose. "+j}d.Tg=e}return d};u.info=function(a,b){this.log(Bb,a,b)};u.j=function(a,b){this.log(Cb,a,b)};function Gb(a,b,c){a.log(Db,b,c)}var Hb={},Ib=l;function Jb(){if(!Ib){Ib=new wb("");Hb[""]=Ib;Ib.ej(Cb)}}
function E(a){Jb();var b;if(!(b=Hb[a])){b=new wb(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=E(a.substr(0,c));if(!c.oa)c.oa={};c.oa[d]=b;b.za=c;b=Hb[a]=b}return b};function Kb(){this.aj=va()}var Lb=new Kb;Kb.prototype.Jb=ba("aj");Kb.prototype.reset=function(){this.Jb(va())};Kb.prototype.l=r("aj");function Mb(a){this.el=a||"";this.ql=Lb}u=Mb.prototype;u.hj=k;u.nl=k;u.ml=k;u.ij=n;u.ol=n;function Nb(a){if(a<10)return"0"+a;return String(a)}function Ob(a,b){var c=(a.tj-b)/1E3,d=c.toFixed(3),e=0;if(c<1)e=2;else for(;c<100;){e++;c*=10}for(;e-- >0;)d=" "+d;return d}function Pb(a){Mb.call(this,a)}A(Pb,Mb);function Qb(){this.Zi=ta(this.Jj,this);this.Yg=new Pb;this.Yg.hj=n;this.Ai=this.Yg.ij=n;this.Ok=""}Qb.prototype.kl=function(a){if(a!=this.Ai){var b;Jb();b=Ib;if(a){var c=this.Zi;if(!b.be)b.be=[];b.be.push(c)}else{(b=b.be)&&Oa(b,this.Zi);this.Em=""}this.Ai=a}};
Qb.prototype.Jj=function(a){var b;b=this.Yg;var c=[];c.push(b.el," ");if(b.hj){var d=new Date(a.tj);c.push("[",Nb(d.getFullYear()-2E3)+Nb(d.getMonth()+1)+Nb(d.getDate())+" "+Nb(d.getHours())+":"+Nb(d.getMinutes())+":"+Nb(d.getSeconds())+"."+Nb(Math.floor(d.getMilliseconds()/10)),"] ")}b.nl&&c.push("[",Ob(a,b.ql.l()),"s] ");b.ml&&c.push("[",a.Pk,"] ");b.ol&&c.push("[",a.rd.name,"] ");c.push(a.Pi,"\n");b.ij&&a.Ug&&c.push(a.Tg,"\n");b=c.join("");if(window.console&&window.console.firebug)switch(a.rd){case yb:window.console.info(b);
break;case zb:window.console.error(b);break;case Ab:window.console.warn(b);break;default:window.console.debug(b)}else if(window.console)window.console.log(b);else if(window.opera)window.opera.postError(b);else this.Ok+=b};var Rb,Sb,Tb,Ub,Vb,Wb,Xb;function Yb(){return da.navigator?da.navigator.userAgent:l}function Zb(){return da.navigator}Vb=Ub=Tb=Sb=Rb=n;var $b;if($b=Yb()){var ac=Zb();Rb=$b.indexOf("Opera")==0;Sb=!Rb&&$b.indexOf("MSIE")!=-1;Ub=(Tb=!Rb&&$b.indexOf("WebKit")!=-1)&&$b.indexOf("Mobile")!=-1;Vb=!Rb&&!Tb&&ac.product=="Gecko"}var bc=Rb,F=Sb,G=Vb,I=Tb,cc=Ub,dc,ec=Zb();dc=ec&&ec.platform||"";Wb=dc.indexOf("Mac")!=-1;Xb=dc.indexOf("Win")!=-1;var fc=!!Zb()&&(Zb().appVersion||"").indexOf("X11")!=-1,gc;
a:{var hc="",ic;if(bc&&da.opera){var jc=da.opera.version;hc=typeof jc=="function"?jc():jc}else{if(G)ic=/rv\:([^\);]+)(\)|;)/;else if(F)ic=/MSIE\s+([^\);]+)(\)|;)/;else if(I)ic=/WebKit\/(\S+)/;if(ic){var kc=ic.exec(Yb());hc=kc?kc[1]:""}}if(F){var lc,mc=da.document;lc=mc?mc.documentMode:undefined;if(lc>parseFloat(hc)){gc=String(lc);break a}}gc=hc}var nc={};function K(a){return nc[a]||(nc[a]=Da(gc,a)>=0)};var oc,pc=!F||K("9"),qc=F&&!K("9");function rc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function sc(a){var b=rc(a),c;c=Ua(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!D(b,c[e])){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c}function tc(a){var b=rc(a),c;c=Ua(arguments,1);for(var d=0,e=0;e<b.length;e++)if(D(c,b[e])){Ta(b,e--,1);d++}c=d==c.length;a.className=b.join(" ");return c};function L(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}L.prototype.ja=function(){return new L(this.x,this.y)};function uc(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function vc(a,b){return new L(a.x-b.x,a.y-b.y)}function M(a,b){return new L(a.x+b.x,a.y+b.y)};function wc(a,b){this.width=a;this.height=b}u=wc.prototype;u.ja=function(){return new wc(this.width,this.height)};u.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};u.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};u.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};u.scale=function(a){this.width*=a;this.height*=a;return this};function xc(a){return a?new yc(zc(a)):oc||(oc=new yc)}function Ac(a,b){var c=b||document;if(Bc(c))return c.querySelectorAll("."+a);else if(c.getElementsByClassName)return c.getElementsByClassName(a);return Cc(document,"*",a,b)}function Bc(a){return a.querySelectorAll&&a.querySelector&&(!I||Dc(document)||K("528"))}
function Cc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(Bc(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)if(b==h.nodeName)d[e++]=h;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++){b=h.className;if(typeof b.split=="function"&&D(b.split(/\s+/),c))d[e++]=h}d.length=e;return d}else return a}
function Ec(a,b){$a(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Fc)a.setAttribute(Fc[d],c);else a[d]=c})}var Fc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function Gc(a){var b=a.document;if(I&&!K("500")&&!cc){if(typeof a.innerHeight=="undefined")a=window;b=a.innerHeight;var c=a.document.documentElement.scrollHeight;if(a==a.top)if(c<b)b-=15;return new wc(a.innerWidth,b)}a=Dc(b);if(bc&&!K("9.50"))a=n;a=a?b.documentElement:b.body;return new wc(a.clientWidth,a.clientHeight)}function Hc(a){return a.parentWindow||a.defaultView}function Ic(){return Jc(document,arguments)}
function Jc(a,b){var c=b[0],d=b[1];if(!pc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',xa(d.name),'"');if(d.type){c.push(' type="',xa(d.type),'"');var e={};gb(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(x(d))c.className=d;else ia(d)?sc.apply(l,[c].concat(d)):Ec(c,d);b.length>2&&Kc(a,c,b,2);return c}
function Kc(a,b,c,d){function e(h){if(h)b.appendChild(x(h)?a.createTextNode(h):h)}for(d=d;d<c.length;d++){var f=c[d];ja(f)&&!(na(f)&&f.nodeType>0)?B(Lc(f)?Ra(f):f,e):e(f)}}function Dc(a){return a.compatMode=="CSS1Compat"}function Mc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Nc(a){return a&&a.parentNode?a.parentNode.removeChild(a):l}function Oc(a,b){for(;a&&a.nodeType!=1;)a=b?a.nextSibling:a.previousSibling;return a}
function Pc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function zc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Qc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{Mc(a);a.appendChild(zc(a).createTextNode(b))}}var Rc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Sc={IMG:" ",BR:"\n"};function Tc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){a=a.tabIndex;return ka(a)&&a>=0}return n}
function Uc(a){if(qc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Vc(a,b,k);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");F||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function Vc(a,b,c){if(!(a.nodeName in Rc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Sc)b.push(Sc[a.nodeName]);else for(a=a.firstChild;a;){Vc(a,b,c);a=a.nextSibling}}
function Lc(a){if(a&&typeof a.length=="number")if(na(a))return typeof a.item=="function"||typeof a.item=="string";else if(la(a))return typeof a.item=="function";return n}function yc(a){this.ba=a||da.document||document}u=yc.prototype;u.X=xc;function Wc(a){return a.ba}u.f=function(a){return x(a)?this.ba.getElementById(a):a};u.i=function(){return Jc(this.ba,arguments)};u.createElement=function(a){return this.ba.createElement(a)};u.createTextNode=function(a){return this.ba.createTextNode(a)};
u.hi=function(a,b,c){var d=this.ba,e=!!c;c=["<tr>"];for(var f=0;f<b;f++)c.push(e?"<td>&nbsp;</td>":"<td></td>");c.push("</tr>");c=c.join("");b=["<table>"];for(f=0;f<a;f++)b.push(c);b.push("</table>");a=d.createElement("DIV");a.innerHTML=b.join("");return a.removeChild(a.firstChild)};function Xc(a){a=!I&&Dc(a.ba)?a.ba.documentElement:a.ba.body;return new L(a.scrollLeft,a.scrollTop)}u.appendChild=function(a,b){a.appendChild(b)};u.contains=Pc;var Yc,Zc=!F||K("9"),$c=F&&!K("8");function ad(){}ad.prototype.Ng=n;ad.prototype.aa=function(){if(!this.Ng){this.Ng=k;this.p()}};ad.prototype.p=aa();function bd(a,b){this.type=a;this.currentTarget=this.target=b}A(bd,ad);u=bd.prototype;u.p=function(){delete this.type;delete this.target;delete this.currentTarget};u.vd=n;u.Ye=k;u.stopPropagation=function(){this.vd=k};u.preventDefault=function(){this.Ye=n};function cd(a){a.preventDefault()};var dd=new Function("a","return a");function ed(a,b){a&&this.Ke(a,b)}A(ed,bd);var fd=[1,4,2];u=ed.prototype;u.target=l;u.relatedTarget=l;u.offsetX=0;u.offsetY=0;u.clientX=0;u.clientY=0;u.screenX=0;u.screenY=0;u.button=0;u.keyCode=0;u.charCode=0;u.ctrlKey=n;u.altKey=n;u.shiftKey=n;u.metaKey=n;u.cl=n;u.qc=l;
u.Ke=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(G)try{dd(d.nodeName)}catch(e){d=l}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=
a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.cl=Wb?a.metaKey:a.ctrlKey;this.state=a.state;this.qc=a;delete this.Ye;delete this.vd};function gd(a,b){return Zc?a.qc.button==b:a.type=="click"?b==0:!!(a.qc.button&fd[b])}
u.stopPropagation=function(){ed.h.stopPropagation.call(this);if(this.qc.stopPropagation)this.qc.stopPropagation();else this.qc.cancelBubble=k};u.preventDefault=function(){ed.h.preventDefault.call(this);var a=this.qc;if(a.preventDefault)a.preventDefault();else{a.returnValue=n;if($c)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};u.p=function(){ed.h.p.call(this);this.relatedTarget=this.currentTarget=this.target=this.qc=l};function hd(){}var id=0;u=hd.prototype;u.key=0;u.he=n;u.ci=n;u.Ke=function(a,b,c,d,e,f){if(la(a))this.Di=k;else if(a&&a.handleEvent&&la(a.handleEvent))this.Di=n;else g(Error("Invalid listener argument"));this.fe=a;this.Yi=b;this.src=c;this.type=d;this.capture=!!e;this.Jf=f;this.ci=n;this.key=++id;this.he=n};u.handleEvent=function(a){if(this.Di)return this.fe.call(this.Jf||this.src,a);return this.fe.handleEvent.call(this.fe,a)};function jd(a,b){this.Ki=b;this.hd=[];if(a>this.Ki)g(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.hd.push(this.Dc?this.Dc():{})}A(jd,ad);jd.prototype.Dc=l;jd.prototype.ki=l;function kd(a){if(a.hd.length)return a.hd.pop();return a.Dc?a.Dc():{}}function ld(a,b){a.hd.length<a.Ki?a.hd.push(b):md(a,b)}function md(a,b){if(a.ki)a.ki(b);else if(na(b))if(la(b.aa))b.aa();else for(var c in b)delete b[c]}
jd.prototype.p=function(){jd.h.p.call(this);for(var a=this.hd;a.length;)md(this,a.pop());delete this.hd};var nd;var od=(nd="ScriptEngine"in da&&da.ScriptEngine()=="JScript")?da.ScriptEngineMajorVersion()+"."+da.ScriptEngineMinorVersion()+"."+da.ScriptEngineBuildVersion():"0";var pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd;
(function(){function a(){return{da:0,jc:0}}function b(){return[]}function c(){function q(t){return h.call(q.src,q.key,t)}return q}function d(){return new hd}function e(){return new ed}var f=nd&&!(Da(od,"5.7")>=0),h;ud=function(q){h=q};if(f){pd=function(){return kd(i)};qd=function(q){ld(i,q)};rd=function(){return kd(j)};sd=function(q){ld(j,q)};td=function(){return kd(m)};vd=function(){ld(m,c())};wd=function(){return kd(o)};xd=function(q){ld(o,q)};yd=function(){return kd(p)};zd=function(q){ld(p,q)};
var i=new jd(0,600);i.Dc=a;var j=new jd(0,600);j.Dc=b;var m=new jd(0,600);m.Dc=c;var o=new jd(0,600);o.Dc=d;var p=new jd(0,600);p.Dc=e}else{pd=a;qd=fa;rd=b;sd=fa;td=c;vd=fa;wd=d;xd=fa;yd=e;zd=fa}})();var Ad={},Bd={},Cd={},Dd={};
function Ed(a,b,c,d,e){if(b)if(ia(b)){for(var f=0;f<b.length;f++)Ed(a,b[f],c,d,e);return l}else{d=!!d;var h=Bd;b in h||(h[b]=pd());h=h[b];if(!(d in h)){h[d]=pd();h.da++}h=h[d];var i=oa(a),j;h.jc++;if(h[i]){j=h[i];for(f=0;f<j.length;f++){h=j[f];if(h.fe==c&&h.Jf==e){if(h.he)break;return j[f].key}}}else{j=h[i]=rd();h.da++}f=td();f.src=a;h=wd();h.Ke(c,f,a,b,d,e);c=h.key;f.key=c;j.push(h);Ad[c]=h;Cd[i]||(Cd[i]=rd());Cd[i].push(h);if(a.addEventListener){if(a==da||!a.Jg)a.addEventListener(b,f,d)}else a.attachEvent(Fd(b),
f);return c}else g(Error("Invalid event type"))}function Gd(a,b,c,d,e){if(ia(b)){for(var f=0;f<b.length;f++)Gd(a,b[f],c,d,e);return l}d=!!d;a=Hd(a,b,d);if(!a)return n;for(f=0;f<a.length;f++)if(a[f].fe==c&&a[f].capture==d&&a[f].Jf==e)return Id(a[f].key);return n}
function Id(a){if(!Ad[a])return n;var b=Ad[a];if(b.he)return n;var c=b.src,d=b.type,e=b.Yi,f=b.capture;if(c.removeEventListener){if(c==da||!c.Jg)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Fd(d),e);c=oa(c);e=Bd[d][f][c];if(Cd[c]){var h=Cd[c];Oa(h,b);h.length==0&&delete Cd[c]}b.he=k;e.Qi=k;Jd(d,f,c,e);delete Ad[a];return k}
function Jd(a,b,c,d){if(!d.Xf)if(d.Qi){for(var e=0,f=0;e<d.length;e++)if(d[e].he){var h=d[e].Yi;h.src=l;vd(h);xd(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Qi=n;if(f==0){sd(d);delete Bd[a][b][c];Bd[a][b].da--;if(Bd[a][b].da==0){qd(Bd[a][b]);delete Bd[a][b];Bd[a].da--}if(Bd[a].da==0){qd(Bd[a]);delete Bd[a]}}}}
function Kd(a,b,c){var d=0,e=b==l,f=c==l;c=!!c;if(a==l)$a(Cd,function(j){for(var m=j.length-1;m>=0;m--){var o=j[m];if((e||b==o.type)&&(f||c==o.capture)){Id(o.key);d++}}});else{a=oa(a);if(Cd[a]){a=Cd[a];for(var h=a.length-1;h>=0;h--){var i=a[h];if((e||b==i.type)&&(f||c==i.capture)){Id(i.key);d++}}}}return d}function Hd(a,b,c){var d=Bd;if(b in d){d=d[b];if(c in d){d=d[c];a=oa(a);if(d[a])return d[a]}}return l}function Fd(a){if(a in Dd)return Dd[a];return Dd[a]="on"+a}
function Ld(a,b,c,d,e){var f=1;b=oa(b);if(a[b]){a.jc--;a=a[b];if(a.Xf)a.Xf++;else a.Xf=1;try{for(var h=a.length,i=0;i<h;i++){var j=a[i];if(j&&!j.he)f&=Md(j,e)!==n}}finally{a.Xf--;Jd(c,d,b,a)}}return Boolean(f)}function Md(a,b){var c=a.handleEvent(b);a.ci&&Id(a.key);return c}
ud(function(a,b){if(!Ad[a])return k;var c=Ad[a],d=c.type,e=Bd;if(!(d in e))return k;e=e[d];var f,h;if(Yc===undefined)Yc=F&&!da.addEventListener;if(Yc){f=b||ea("window.event");var i=k in e,j=n in e;if(i){if(f.keyCode<0||f.returnValue!=undefined)return k;a:{var m=n;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(o){m=k}if(m||f.returnValue==undefined)f.returnValue=k}}m=yd();m.Ke(f,this);f=k;try{if(i){for(var p=rd(),q=m.currentTarget;q;q=q.parentNode)p.push(q);h=e[k];h.jc=h.da;for(var t=p.length-1;!m.vd&&
t>=0&&h.jc;t--){m.currentTarget=p[t];f&=Ld(h,p[t],d,k,m)}if(j){h=e[n];h.jc=h.da;for(t=0;!m.vd&&t<p.length&&h.jc;t++){m.currentTarget=p[t];f&=Ld(h,p[t],d,n,m)}}}else f=Md(c,m)}finally{if(p){p.length=0;sd(p)}m.aa();zd(m)}return f}d=new ed(b,this);try{f=Md(c,d)}finally{d.aa()}return f});var Nd=0;function Od(a){this.Fb=a}A(Od,ad);var Pd=new jd(0,100);u=Od.prototype;u.u=function(a,b,c,d,e){if(ia(b))for(var f=0;f<b.length;f++)this.u(a,b[f],c,d,e);else{a=Ed(a,b,c||this,d||n,e||this.Fb||this);if(this.ga)this.ga[a]=k;else if(this.Yc){this.ga=kd(Pd);this.ga[this.Yc]=k;this.Yc=l;this.ga[a]=k}else this.Yc=a}return this};
u.mb=function(a,b,c,d,e){if(this.Yc||this.ga)if(ia(b))for(var f=0;f<b.length;f++)this.mb(a,b[f],c,d,e);else{a:{c=c||this;e=e||this.Fb||this;d=!!d;if(a=Hd(a,b,d))for(b=0;b<a.length;b++)if(a[b].fe==c&&a[b].capture==d&&a[b].Jf==e){a=a[b];break a}a=l}if(a){a=a.key;Id(a);if(this.ga)cb(this.ga,a);else if(this.Yc==a)this.Yc=l}}return this};u.We=function(){if(this.ga){for(var a in this.ga){Id(a);delete this.ga[a]}ld(Pd,this.ga);this.ga=l}else this.Yc&&Id(this.Yc)};u.p=function(){Od.h.p.call(this);this.We()};
u.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function Qd(){}A(Qd,ad);u=Qd.prototype;u.Jg=k;u.cg=l;u.Fh=ba("cg");u.addEventListener=function(a,b,c,d){Ed(this,a,b,c,d)};u.removeEventListener=function(a,b,c,d){Gd(this,a,b,c,d)};
u.dispatchEvent=function(a){a=a;if(x(a))a=new bd(a,this);else if(a instanceof bd)a.target=a.target||this;else{var b=a;a=new bd(a.type,this);gb(a,b)}b=1;var c,d=a.type,e=Bd;if(d in e){e=e[d];d=k in e;var f;if(d){c=[];for(f=this;f;f=f.cg)c.push(f);f=e[k];f.jc=f.da;for(var h=c.length-1;!a.vd&&h>=0&&f.jc;h--){a.currentTarget=c[h];b&=Ld(f,c[h],a.type,k,a)&&a.Ye!=n}}if(n in e){f=e[n];f.jc=f.da;if(d)for(h=0;!a.vd&&h<c.length&&f.jc;h++){a.currentTarget=c[h];b&=Ld(f,c[h],a.type,n,a)&&a.Ye!=n}else for(c=this;!a.vd&&
c&&f.jc;c=c.cg){a.currentTarget=c;b&=Ld(f,c,a.type,n,a)&&a.Ye!=n}}a=Boolean(b)}else a=k;return a};u.p=function(){Qd.h.p.call(this);Kd(this);this.cg=l};function Rd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}function Sd(){for(var a=new Rd(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),b=1;b<arguments.length;b++){var c=arguments[b];a.top=Math.min(a.top,c.y);a.right=Math.max(a.right,c.x);a.bottom=Math.max(a.bottom,c.y);a.left=Math.min(a.left,c.x)}return a}Rd.prototype.ja=function(){return new Rd(this.top,this.right,this.bottom,this.left)};
Rd.prototype.contains=function(a){a=!this||!a?n:a instanceof Rd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};Rd.prototype.expand=function(a,b,c,d){if(na(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=c;this.left-=d}return this};function Td(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Td.prototype.ja=function(){return new Td(this.left,this.top,this.width,this.height)};function Ud(a){return new Td(a.left,a.top,a.right-a.left,a.bottom-a.top)}Td.prototype.zi=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a){this.left=b;this.top=d;this.width=c-b;this.height=a-d;return k}}return n};
Td.prototype.contains=function(a){return a instanceof Td?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Td.prototype.kd=function(){return new wc(this.width,this.height)};function Vd(a,b){var c=zc(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,l))return c[b]||c.getPropertyValue(b);return""}function Wd(a,b){return Vd(a,b)||(a.currentStyle?a.currentStyle[b]:l)||a.style[b]}function Xd(a){return Wd(a,"position")}function Yd(a,b,c){var d,e=G&&(Wb||fc)&&K("1.9");if(b instanceof L){d=b.x;b=b.y}else{d=b;b=c}a.style.left=Zd(d,e);a.style.top=Zd(b,e)}
function $d(a){var b=a.getBoundingClientRect();if(F){a=a.ownerDocument;b.left-=a.documentElement.clientLeft+a.body.clientLeft;b.top-=a.documentElement.clientTop+a.body.clientTop}return b}
function ae(a){if(F)return a.offsetParent;var b=zc(a),c=Wd(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Wd(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return l}
function be(a){var b=new Rd(0,Infinity,Infinity,0),c=xc(a),d=c.ba.body,e=!I&&Dc(c.ba)?c.ba.documentElement:c.ba.body,f;for(a=a;a=ae(a);)if((!F||a.clientWidth!=0)&&(!I||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&Wd(a,"overflow")!="visible"){var h=ce(a),i;i=a;if(G&&!K("1.9")){var j=parseFloat(Vd(i,"borderLeftWidth"));if(de(i)){var m=i.offsetWidth-i.clientWidth-j-parseFloat(Vd(i,"borderRightWidth"));j+=m}i=new L(j,parseFloat(Vd(i,"borderTopWidth")))}else i=
new L(i.clientLeft,i.clientTop);h.x+=i.x;h.y+=i.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);f=f||a!=e}d=e.scrollLeft;e=e.scrollTop;if(I){b.left+=d;b.top+=e}else{b.left=Math.max(b.left,d);b.top=Math.max(b.top,e)}if(!f||I){b.right+=d;b.bottom+=e}c=Gc(Hc(c.ba)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,e+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?
b:l}
function ce(a){var b,c=zc(a),d=Wd(a,"position"),e=G&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),f=new L(0,0),h;b=c?c.nodeType==9?c:zc(c):document;if(h=F){h=xc(b);h=!Dc(h.ba)}h=h?b.body:b.documentElement;if(a==h)return f;if(a.getBoundingClientRect){b=$d(a);a=Xc(xc(c));f.x=b.left+a.x;f.y=b.top+a.y}else if(c.getBoxObjectFor&&!e){b=c.getBoxObjectFor(a);a=c.getBoxObjectFor(h);f.x=b.screenX-a.screenX;f.y=b.screenY-a.screenY}else{e=a;
do{f.x+=e.offsetLeft;f.y+=e.offsetTop;if(e!=a){f.x+=e.clientLeft||0;f.y+=e.clientTop||0}if(I&&Xd(e)=="fixed"){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(bc||I&&d=="absolute")f.y-=c.body.offsetTop;for(e=a;(e=ae(e))&&e!=c.body&&e!=h;){f.x-=e.scrollLeft;if(!bc||e.tagName!="TR")f.y-=e.scrollTop}}return f}
function ee(a,b,c){if(b instanceof wc){c=b.height;b=b.width}else{if(c==undefined)g(Error("missing height argument"));c=c}a.style.width=Zd(b,k);a.style.height=Zd(c,k)}function Zd(a,b){if(typeof a=="number")a=(b?Math.round(a):a)+"px";return a}
function fe(a){var b=bc&&!K("10");if(Wd(a,"display")!="none")return b?new wc(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new wc(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new wc(b,a)}
function ge(a){var b=ce(a);a=fe(a);return new Td(b.x,b.y,a.width,a.height)}var he={};function ie(a){return he[a]||(he[a]=String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()}))}function je(a,b){var c=a.style;if("opacity"in c)c.opacity=b;else if("MozOpacity"in c)c.MozOpacity=b;else if("filter"in c)c.filter=b===""?"":"alpha(opacity="+b*100+")"}function ke(a,b){a.style.display=b?"":"none"}function le(a,b){if(F)a.cssText=b;else a[I?"innerText":"innerHTML"]=b}
function de(a){return"rtl"==Wd(a,"direction")}var me=G?"MozUserSelect":I?"WebkitUserSelect":l;function ne(a,b,c){c=!c?a.getElementsByTagName("*"):l;if(me){b=b?"none":"";a.style[me]=b;if(c){a=0;for(var d;d=c[a];a++)d.style[me]=b}}else if(F||bc){b=b?"on":"";a.setAttribute("unselectable",b);if(c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}};function oe(){}ga(oe);oe.prototype.Vk=0;oe.pa();function pe(a){this.Cb=a||xc();this.Ze=qe}A(pe,Qd);pe.prototype.Hk=oe.pa();var qe=l;function re(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}g(Error("Invalid component state"))}u=pe.prototype;u.Gb=l;u.Z=n;u.q=l;u.Ze=l;u.th=l;u.za=l;u.oa=l;u.ec=l;u.vl=n;
function se(a){return a.Gb||(a.Gb=":"+(a.Hk.Vk++).toString(36))}function te(a,b){if(a.za&&a.za.ec){cb(a.za.ec,a.Gb);db(a.za.ec,b,a)}a.Gb=b}u.f=r("q");u.db=function(){return this.Yd||(this.Yd=new Od(this))};function ue(a,b){if(a==b)g(Error("Unable to set parent component"));if(b&&a.za&&a.Gb&&ve(a.za,a.Gb)&&a.za!=b)g(Error("Unable to set parent component"));a.za=b;pe.h.Fh.call(a,b)}u.Fh=function(a){if(this.za&&this.za!=a)g(Error("Method not supported"));pe.h.Fh.call(this,a)};u.X=r("Cb");
u.i=function(){this.q=this.Cb.createElement("div")};u.R=function(a){we(this,a)};function we(a,b,c){if(a.Z)g(Error("Component already rendered"));a.q||a.i();b?b.insertBefore(a.q,c||l):a.Cb.ba.body.appendChild(a.q);if(!a.za||a.za.Z)a.ra()}u.ra=function(){this.Z=k;xe(this,function(a){!a.Z&&a.f()&&a.ra()})};u.wb=function(){xe(this,function(a){a.Z&&a.wb()});this.Yd&&this.Yd.We();this.Z=n};
u.p=function(){pe.h.p.call(this);this.Z&&this.wb();if(this.Yd){this.Yd.aa();delete this.Yd}xe(this,function(a){a.aa()});!this.vl&&this.q&&Nc(this.q);this.za=this.th=this.q=this.ec=this.oa=l};u.ua=function(a,b){this.pe(a,ye(this),b)};
u.pe=function(a,b,c){if(a.Z&&(c||!this.Z))g(Error("Component already rendered"));if(b<0||b>ye(this))g(Error("Child component index out of bounds"));if(!this.ec||!this.oa){this.ec={};this.oa=[]}if(a.za==this){this.ec[se(a)]=a;Oa(this.oa,a)}else db(this.ec,se(a),a);ue(a,this);Ta(this.oa,b,0,a);if(a.Z&&this.Z&&a.za==this){c=this.xa();c.insertBefore(a.f(),c.childNodes[b]||l)}else if(c){this.q||this.i();b=ze(this,b+1);we(a,this.xa(),b?b.q:l)}else this.Z&&!a.Z&&a.q&&a.ra()};u.xa=r("q");
function Ae(a){if(a.Ze==l)a.Ze=de(a.Z?a.q:a.Cb.ba.body);return a.Ze}u.bd=function(a){if(this.Z)g(Error("Component already rendered"));this.Ze=a};function ye(a){return a.oa?a.oa.length:0}function ve(a,b){var c;if(a.ec&&b){c=a.ec;c=b in c?c[b]:void 0;c=c||l}else c=l;return c}function ze(a,b){return a.oa?a.oa[b]||l:l}function xe(a,b,c){a.oa&&B(a.oa,b,c)}function Be(a,b){return a.oa&&b?Ia(a.oa,b):-1}
u.removeChild=function(a,b){if(a){var c=x(a)?a:se(a);a=ve(this,c);if(c&&a){cb(this.ec,c);Oa(this.oa,a);if(b){a.wb();a.q&&Nc(a.q)}ue(a,l)}}if(!a)g(Error("Child is not in parent component"));return a};function Ce(a,b,c,d,e){if(!F&&!(I&&K("525")))return k;if(Wb&&e)return De(a);if(e&&!d)return n;if(!c&&(b==17||b==18))return n;if(F&&d&&b==a)return n;switch(a){case 13:return k;case 27:return!I}return De(a)}
function De(a){if(a>=48&&a<=57)return k;if(a>=96&&a<=106)return k;if(a>=65&&a<=90)return k;if(I&&a==0)return k;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return k;default:return n}};function Ee(a,b){a&&Fe(this,a,b)}A(Ee,Qd);u=Ee.prototype;u.q=l;u.Uf=l;u.ph=l;u.Vf=l;u.Zc=-1;u.Xc=-1;
var Ge={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},He={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ie={61:187,
59:186},Je=F||I&&K("525");u=Ee.prototype;u.md=function(a){if(I&&(this.Zc==17&&!a.ctrlKey||this.Zc==18&&!a.altKey))this.Xc=this.Zc=-1;if(Je&&!Ce(a.keyCode,this.Zc,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.Xc=G&&a.keyCode in Ie?Ie[a.keyCode]:a.keyCode};u.yk=function(){this.Xc=this.Zc=-1};
u.handleEvent=function(a){var b=a.qc,c,d;if(F&&a.type=="keypress"){c=this.Xc;d=c!=13&&c!=27?b.keyCode:0}else if(I&&a.type=="keypress"){c=this.Xc;d=b.charCode>=0&&b.charCode<63232&&De(c)?b.charCode:0}else if(bc){c=this.Xc;d=De(c)?b.keyCode:0}else{c=b.keyCode||this.Xc;d=b.charCode||0;if(Wb&&d==63&&!c)c=191}var e=c,f=b.keyIdentifier;if(c)if(c>=63232&&c in Ge)e=Ge[c];else{if(c==25&&a.shiftKey)e=9}else if(f&&f in He)e=He[f];a=e==this.Zc;this.Zc=e;b=new Ke(e,d,a,b);try{this.dispatchEvent(b)}finally{b.aa()}};
u.f=r("q");function Fe(a,b,c){a.Vf&&a.detach();a.q=b;a.Uf=Ed(a.q,"keypress",a,c);a.ph=Ed(a.q,"keydown",a.md,c,a);a.Vf=Ed(a.q,"keyup",a.yk,c,a)}u.detach=function(){if(this.Uf){Id(this.Uf);Id(this.ph);Id(this.Vf);this.Vf=this.ph=this.Uf=l}this.q=l;this.Xc=this.Zc=-1};u.p=function(){Ee.h.p.call(this);this.detach()};function Ke(a,b,c,d){d&&this.Ke(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}A(Ke,ed);function Le(a,b){a.setAttribute("role",b);a.Lm=b}function Me(a,b,c){a.setAttribute("aria-"+b,c)};function Ne(){}var Oe;ga(Ne);u=Ne.prototype;u.hc=aa();u.i=function(a){return a.X().i("div",this.Fc(a).join(" "),a.Oa)};u.xa=function(a){return a};u.xe=function(a,b,c){if(a=a.f?a.f():a)if(F&&!K("7")){var d=Pe(this,rc(a),b);d.push(b);ua(c?sc:tc,a).apply(l,d)}else c?sc(a,b):tc(a,b)};u.tc=function(a){Ae(a)&&this.bd(a.f(),k);a.la()&&this.vc(a,a.$a())};u.eg=function(a,b){ne(a,!b,!F&&!bc)};u.bd=function(a,b){this.xe(a,this.t()+"-rtl",b)};u.Wc=function(a){var b;if(a.fb&32&&(b=a.Qa()))return Tc(b);return n};
u.vc=function(a,b){var c;if(a.fb&32&&(c=a.Qa())){if(!b&&a.Ka&32){try{c.blur()}catch(d){}a.Ka&32&&a.Vc(l)}if(Tc(c)!=b){c=c;if(b)c.tabIndex=0;else c.removeAttribute("tabIndex")}}};u.Aa=function(a,b){ke(a,b)};u.Lb=function(a,b,c){var d=a.f();if(d){var e=this.zf(b);e&&this.xe(a,e,c);this.hf(d,b,c)}};u.hf=function(a,b,c){Oe||(Oe=hb(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=Oe[b])&&Me(a,b,c)};
u.kc=function(a,b){var c=this.xa(a);if(c){Mc(c);if(b)if(x(b))Qc(c,b);else{var d=function(e){if(e){var f=zc(c);c.appendChild(x(e)?f.createTextNode(e):e)}};if(ia(b))B(b,d);else ja(b)&&!("nodeType"in b)?B(Ra(b),d):d(b)}}};u.Qa=function(a){return a.f()};u.t=s("goog-control");u.Fc=function(a){var b=this.t(),c=[b],d=this.t();d!=b&&c.push(d);b=a.Ka;for(d=[];b;){var e=b&-b;d.push(this.zf(e));b&=~e}c.push.apply(c,d);(a=a.rc)&&c.push.apply(c,a);F&&!K("7")&&c.push.apply(c,Pe(this,c));return c};
function Pe(a,b,c){var d=[];if(c)b=b.concat([c]);B([],function(e){if(Ma(e,ua(D,b))&&(!c||D(e,c)))d.push(e.join("_"))});return d}u.zf=function(a){if(!this.fi){var b=this.t();this.fi=hb(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")}return this.fi[a]};function Qe(a,b){if(!a)g(Error("Invalid class name "+a));if(!la(b))g(Error("Invalid decorator function "+b))}var Re={};function Se(a,b,c){pe.call(this,c);if(!(b=b)){b=this.constructor;for(var d;b;){d=oa(b);if(d=Re[d])break;b=b.h?b.h.constructor:l}b=d?la(d.pa)?d.pa():new d:l}this.J=b;this.gg(a)}A(Se,pe);u=Se.prototype;u.Oa=l;u.Ka=0;u.fb=39;u.$h=255;u.Kh=0;u.nb=k;u.rc=l;u.fh=k;u.yg=n;function Te(a,b){a.Z&&b!=a.fh&&Ue(a,b);a.fh=b}u.Qa=function(){return this.J.Qa(this)};u.Df=function(){return this.Zb||(this.Zb=new Ee)};u.vg=function(a){if(a){if(this.rc)D(this.rc,a)||this.rc.push(a);else this.rc=[a];this.J.xe(this,a,k)}};
u.xe=function(a,b){if(b)this.vg(a);else if(a&&this.rc){Oa(this.rc,a);if(this.rc.length==0)this.rc=l;this.J.xe(this,a,n)}};u.i=function(){var a=this.J.i(this);this.q=a;var b=this.J.hc();b&&Le(a,b);this.yg||this.J.eg(a,n);this.$a()||this.J.Aa(a,n)};u.xa=function(){return this.J.xa(this.f())};u.ra=function(){Se.h.ra.call(this);this.J.tc(this);if(this.fb&-2){this.fh&&Ue(this,k);if(this.fb&32){var a=this.Qa();if(a){var b=this.Df();Fe(b,a);this.db().u(b,"key",this.sc).u(a,"focus",this.Ff).u(a,"blur",this.Vc)}}}};
function Ue(a,b){var c=a.db(),d=a.f();if(b){c.u(d,"mouseover",a.ae).u(d,"mousedown",a.ib).u(d,"mouseup",a.nd).u(d,"mouseout",a.$d);F&&c.u(d,"dblclick",a.qi)}else{c.mb(d,"mouseover",a.ae).mb(d,"mousedown",a.ib).mb(d,"mouseup",a.nd).mb(d,"mouseout",a.$d);F&&c.mb(d,"dblclick",a.qi)}}u.wb=function(){Se.h.wb.call(this);this.Zb&&this.Zb.detach();this.$a()&&this.la()&&this.J.vc(this,n)};u.p=function(){Se.h.p.call(this);if(this.Zb){this.Zb.aa();delete this.Zb}delete this.J;this.rc=this.Oa=l};
u.kc=function(a){this.J.kc(this.f(),a);this.gg(a)};u.gg=ba("Oa");function Ve(a,b){var c=a.Oa;if(!c||x(c))return c;return(c=ia(c)?C(c,b).join(""):Uc(c))&&wa(c)}u.ye=function(){return Ve(this,Uc)};u.bd=function(a){Se.h.bd.call(this,a);var b=this.f();b&&this.J.bd(b,a)};u.eg=function(a){this.yg=a;var b=this.f();b&&this.J.eg(b,a)};u.$a=r("nb");u.Aa=function(a,b){if(b||this.nb!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.f();c&&this.J.Aa(c,a);this.la()&&this.J.vc(this,a);this.nb=a;return k}return n};
u.la=function(){return!(this.Ka&1)};u.uc=function(a){var b=this.za;if(!(b&&typeof b.la=="function"&&!b.la())&&We(this,1,!a)){if(!a){this.setActive(n);this.wc(n)}this.$a()&&this.J.vc(this,a);this.Lb(1,!a)}};u.wc=function(a){We(this,2,a)&&this.Lb(2,a)};u.qa=function(){return!!(this.Ka&4)};u.setActive=function(a){We(this,4,a)&&this.Lb(4,a)};u.Ih=function(a){We(this,8,a)&&this.Lb(8,a)};u.Pf=function(){return!!(this.Ka&16)};function Xe(a,b){We(a,16,b)&&a.Lb(16,b)}
u.ta=function(a){We(this,64,a)&&this.Lb(64,a)};u.Lb=function(a,b){if(this.fb&a&&b!=!!(this.Ka&a)){this.J.Lb(this,a,b);this.Ka=b?this.Ka|a:this.Ka&~a}};function Ye(a,b,c){if(a.Z&&a.Ka&b&&!c)g(Error("Component already rendered"));!c&&a.Ka&b&&a.Lb(b,n);a.fb=c?a.fb|b:a.fb&~b}function Ze(a,b){return!!(a.$h&b)&&!!(a.fb&b)}function We(a,b,c){return!!(a.fb&b)&&!!(a.Ka&b)!=c&&(!(a.Kh&b)||a.dispatchEvent(re(b,c)))&&!a.Ng}
u.ae=function(a){!$e(a,this.f())&&this.dispatchEvent("enter")&&this.la()&&Ze(this,2)&&this.wc(k)};u.$d=function(a){if(!$e(a,this.f())&&this.dispatchEvent("leave")){Ze(this,4)&&this.setActive(n);Ze(this,2)&&this.wc(n)}};function $e(a,b){return!!a.relatedTarget&&Pc(b,a.relatedTarget)}u.ib=function(a){if(this.la()){Ze(this,2)&&this.wc(k);if(gd(a,0)){Ze(this,4)&&this.setActive(k);this.J.Wc(this)&&this.Qa().focus()}}!this.yg&&gd(a,0)&&a.preventDefault()};
u.nd=function(a){if(this.la()){Ze(this,2)&&this.wc(k);this.qa()&&this.Kc(a)&&Ze(this,4)&&this.setActive(n)}};u.qi=function(a){this.la()&&this.Kc(a)};u.Kc=function(a){Ze(this,16)&&Xe(this,!this.Pf());Ze(this,8)&&this.Ih(k);Ze(this,64)&&this.ta(!(this.Ka&64));var b=new bd("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,e=0;d=c[e];e++)b[d]=a[d];return this.dispatchEvent(b)};u.Ff=function(){Ze(this,32)&&We(this,32,k)&&this.Lb(32,k)};
u.Vc=function(){Ze(this,4)&&this.setActive(n);Ze(this,32)&&We(this,32,n)&&this.Lb(32,n)};u.sc=function(a){if(this.$a()&&this.la()&&this.Zd(a)){a.preventDefault();a.stopPropagation();return k}return n};u.Zd=function(a){return a.keyCode==13&&this.Kc(a)};if(!la(Se))g(Error("Invalid component class "+Se));if(!la(Ne))g(Error("Invalid renderer class "+Ne));var af=oa(Se);Re[af]=Ne;Qe("goog-control",function(){return new Se(l)});function bf(){this.gi=[]}A(bf,Ne);ga(bf);function cf(a,b){var c=a.gi[b];if(!c){switch(b){case 0:c=a.t()+"-highlight";break;case 1:c=a.t()+"-checkbox";break;case 2:c=a.t()+"-content"}a.gi[b]=c}return c}u=bf.prototype;u.hc=s("menuitem");u.i=function(a){var b=a.X().i("div",this.Fc(a).join(" "),df(this,a.Oa,a.X()));ef(this,a,b,!!(a.fb&8)||!!(a.fb&16));return b};u.xa=function(a){return a&&a.firstChild};
u.kc=function(a,b){var c=this.xa(a),d=ff(this,a)?c.firstChild:l;bf.h.kc.call(this,a,b);if(d&&!ff(this,a))c.insertBefore(d,c.firstChild||l)};function df(a,b,c){a=cf(a,2);return c.i("div",a,b)}u.Hh=function(a,b,c){if(b){Le(b,c?"menuitemradio":this.hc());ef(this,a,b,c)}};function ff(a,b){var c=a.xa(b);if(c){c=c.firstChild;var d=cf(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return n}
function ef(a,b,c,d){if(d!=ff(a,c)){d?sc(c,"goog-option"):tc(c,"goog-option");c=a.xa(c);if(d){a=cf(a,1);c.insertBefore(b.X().i("div",a),c.firstChild||l)}else c.removeChild(c.firstChild)}}u.zf=function(a){switch(a){case 2:return cf(this,0);case 16:case 8:return"goog-option-selected";default:return bf.h.zf.call(this,a)}};u.t=s("goog-menuitem");function gf(a,b,c,d){Se.call(this,a,d||bf.pa(),c);this.Ha(b)}A(gf,Se);gf.prototype.Sa=function(){var a=this.th;return a!=l?a:this.ye()};gf.prototype.Ha=ba("th");gf.prototype.Hh=function(a){Ye(this,8,a);this.Pf()&&!a&&Xe(this,n);var b=this.f();b&&this.J.Hh(this,b,a)};gf.prototype.ye=function(){return Ve(this,function(a){return D(rc(a),"goog-menuitem-accel")?"":Uc(a)})};Qe("goog-menuitem",function(){return new gf(l)});function hf(a,b){this.Of=a||1;this.ff=b||jf;this.Bg=ta(this.rl,this);this.rh=va()}A(hf,Qd);hf.prototype.enabled=n;var jf=da.window;u=hf.prototype;u.ac=l;u.rl=function(){if(this.enabled){var a=va()-this.rh;if(a>0&&a<this.Of*0.8)this.ac=this.ff.setTimeout(this.Bg,this.Of-a);else{this.dispatchEvent(kf);if(this.enabled){this.ac=this.ff.setTimeout(this.Bg,this.Of);this.rh=va()}}}};u.start=function(){this.enabled=k;if(!this.ac){this.ac=this.ff.setTimeout(this.Bg,this.Of);this.rh=va()}};
u.stop=function(){this.enabled=n;if(this.ac){this.ff.clearTimeout(this.ac);this.ac=l}};u.p=function(){hf.h.p.call(this);this.stop();delete this.ff};var kf="tick";function lf(a,b,c){if(la(a)){if(c)a=ta(a,c)}else if(a&&typeof a.handleEvent=="function")a=ta(a.handleEvent,a);else g(Error("Invalid listener argument"));return b>2147483647?-1:jf.setTimeout(a,b||0)};function mf(a){this.q=a;a=F?"focusout":"blur";this.Mk=Ed(this.q,F?"focusin":"focus",this,!F);this.Nk=Ed(this.q,a,this,!F)}A(mf,Qd);mf.prototype.handleEvent=function(a){var b=new ed(a.qc);b.type=a.type=="focusin"||a.type=="focus"?"focusin":"focusout";try{this.dispatchEvent(b)}finally{b.aa()}};mf.prototype.p=function(){mf.h.p.call(this);Id(this.Mk);Id(this.Nk);delete this.q};function nf(a,b,c){this.target=a;this.handle=b||a;this.sh=c||new Td(NaN,NaN,NaN,NaN);this.ba=zc(a);this.pc=new Od(this);Ed(this.handle,"mousedown",this.yc,n,this)}A(nf,Qd);var of=F||G&&K("1.9.3");u=nf.prototype;u.screenX=0;u.screenY=0;u.oj=0;u.pj=0;u.ub=0;u.vb=0;u.Da=k;u.Qc=n;u.xi=0;u.Sk=0;u.Ik=n;u.db=r("pc");u.uc=ba("Da");u.p=function(){nf.h.p.call(this);Gd(this.handle,"mousedown",this.yc,n,this);this.pc.aa();delete this.target;delete this.handle;delete this.pc};
u.yc=function(a){if(this.Da&&!this.Qc&&(a.type!="mousedown"||gd(a,0))){if(this.xi==0){pf(this,a);if(this.Qc)a.preventDefault();else return}else a.preventDefault();var b=this.ba,c=b.documentElement,d=!of;this.pc.u(b,"mousemove",this.Tk,d);this.pc.u(b,"mouseup",this.wf,d);if(of){c.setCapture(n);this.pc.u(c,"losecapture",this.wf)}else this.pc.u(b?Hc(b):window,"blur",this.wf);F&&this.Ik&&this.pc.u(b,"dragstart",cd);this.il&&this.pc.u(this.il,"scroll",this.Yk,d);this.screenX=this.oj=a.screenX;this.screenY=
this.pj=a.screenY;this.ub=this.target.offsetLeft;this.vb=this.target.offsetTop;this.Ue=Xc(xc(this.ba));this.Sk=va()}};function pf(a,b){if(a.dispatchEvent(new qf("start",a,b.clientX,b.clientY,b))!==n)a.Qc=k}u.wf=function(a,b){this.pc.We();of&&this.ba.releaseCapture();if(this.Qc){this.Qc=n;this.dispatchEvent(new qf("end",this,a.clientX,a.clientY,a,rf(this,this.ub),sf(this,this.vb),b))}};
u.Tk=function(a){if(this.Da){var b=a.screenX-this.screenX,c=a.screenY-this.screenY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Qc){var d=this.oj-this.screenX,e=this.pj-this.screenY;if(d*d+e*e>this.xi){pf(this,a);if(!this.Qc){this.wf(a);return}}}c=tf(this,b,c);b=c.x;c=c.y;if(this.Qc)if(this.dispatchEvent(new qf("beforedrag",this,a.clientX,a.clientY,a,b,c))!==n){uf(this,a,b,c,n);a.preventDefault()}}};
function tf(a,b,c){var d=Xc(xc(a.ba));b+=d.x-a.Ue.x;c+=d.y-a.Ue.y;a.Ue=d;a.ub+=b;a.vb+=c;return new L(rf(a,a.ub),sf(a,a.vb))}u.Yk=function(a){var b=tf(this,0,0);a.clientX=this.Ue.x-this.screenX;a.clientY=this.Ue.x-this.screenY;uf(this,a,b.x,b.y,k)};function uf(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new qf("drag",a,b.clientX,b.clientY,b,c,d))}
function rf(a,b){var c=a.sh,d=!isNaN(c.left)?c.left:l;c=!isNaN(c.width)?c.width:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}function sf(a,b){var c=a.sh,d=!isNaN(c.top)?c.top:l;c=!isNaN(c.height)?c.height:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}function qf(a,b,c,d,e,f,h,i){bd.call(this,a);this.clientX=c;this.clientY=d;this.Rl=e;this.left=f!==undefined?f:b.ub;this.top=h!==undefined?h:b.vb;this.$l=b;this.Zl=!!i}A(qf,bd);function vf(a,b,c){pe.call(this,c);this.Vb=a||"modal-dialog";this.Nh=!!b;this.Ub=wf()}A(vf,pe);u=vf.prototype;u.yf=l;u.$j=k;u.vi=k;u.Nh=n;u.Yf=k;u.ni=k;u.Uj=0.5;u.vj="";u.Oa="";u.Ub=l;u.Qd=l;u.nb=n;u.Zj=n;u.Ma=l;u.Ia=l;u.kg=l;u.gf=l;u.uj=l;u.jg=l;u.re=l;u.lc=l;u.kc=function(a){this.Oa=a;if(this.re)this.re.innerHTML=a};u.xa=function(){this.f()||this.R();return this.re};
u.i=function(){if(this.Nh&&this.Yf&&!this.Ia){this.Ia=this.X().i("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});this.Ia.className=this.Vb+"-bg";ke(this.Ia,n);je(this.Ia,0)}else if((!this.Nh||!this.Yf)&&this.Ia){Nc(this.Ia);this.Ia=l}if(this.Yf&&!this.Ma){this.Ma=this.X().i("div",this.Vb+"-bg");je(this.Ma,this.Uj);ke(this.Ma,n)}else if(!this.Yf&&this.Ma){Nc(this.Ma);this.Ma=l}var a=this.X();this.q=a.i("div",{className:this.Vb,tabIndex:0},this.kg=a.i("div",{className:this.Vb+
"-title",id:se(this)},this.gf=a.i("span",this.Vb+"-title-text",this.vj),this.jg=a.i("span",this.Vb+"-title-close")),this.re=a.i("div",this.Vb+"-content"),this.lc=a.i("div",this.Vb+"-buttons"),this.qj=a.i("span",{tabIndex:0}));this.uj=this.kg.id;Le(this.f(),"dialog");Me(this.f(),"labelledby",this.uj||"");if(this.Oa)this.re.innerHTML=this.Oa;ke(this.jg,this.vi);ke(this.f(),n);if(this.Ub){a=this.Ub;a.q=this.lc;a.R()}};
u.R=function(a){if(this.Z)g(Error("Component already rendered"));this.f()||this.i();a=a||Wc(this.X()).body;this.Ia&&a.appendChild(this.Ia);this.Ma&&a.appendChild(this.Ma);vf.h.R.call(this,a)};u.ra=function(){vf.h.ra.call(this);this.yf=new mf(Wc(this.X()));if(this.ni&&!this.Qd){var a=new nf(this.f(),this.kg);sc(this.kg,this.Vb+"-title-draggable");this.Qd=a}this.db().u(this.jg,"click",this.$k).u(this.yf,"focusin",this.Wk);Le(this.f(),"dialog");this.gf.id!==""&&Me(this.f(),"labelledby",this.gf.id)};
u.wb=function(){this.$a()&&this.Aa(n);this.yf.aa();this.yf=l;if(this.Qd){this.Qd.aa();this.Qd=l}vf.h.wb.call(this)};
u.Aa=function(a){if(a!=this.nb){var b=Wc(this.X()),c=(b?Hc(b):window)||window;this.Z||this.R(b.body);if(a){xf(this);this.wd();this.db().u(this.f(),"keydown",this.ag).u(this.f(),"keypress",this.ag).u(c,"resize",this.Xi)}else this.db().mb(this.f(),"keydown",this.ag).mb(this.f(),"keypress",this.ag).mb(c,"resize",this.Xi);this.Ia&&ke(this.Ia,a);this.Ma&&ke(this.Ma,a);ke(this.f(),a);a&&this.focus();if(this.nb=a)this.db().u(this.lc,"click",this.Ui);else{this.db().mb(this.lc,"click",this.Ui);this.dispatchEvent(yf);
this.Zj&&this.aa()}}};u.$a=r("nb");u.focus=function(){try{this.f().focus()}catch(a){}if(this.Ub){var b=this.Ub.ve;if(b)for(var c=Wc(this.X()),d=this.lc.getElementsByTagName("button"),e=0,f;f=d[e];e++)if(f.name==b){try{if(I||bc){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.f().appendChild(h);h.focus();this.f().removeChild(h)}f.focus()}catch(i){}break}}};
function xf(a){a.Ia&&ke(a.Ia,n);a.Ma&&ke(a.Ma,n);var b=Wc(a.X()),c=Gc((b?Hc(b):window)||window||window),d=Math.max(b.body.scrollWidth,c.width);b=Math.max(b.body.scrollHeight,c.height);if(a.Ia){ke(a.Ia,k);ee(a.Ia,d,b)}if(a.Ma){ke(a.Ma,k);ee(a.Ma,d,b)}if(a.ni){c=fe(a.f());a.Qd.sh=new Td(0,0,d-c.width,b-c.height)}}
u.wd=function(){var a=Wc(this.X()),b=(a?Hc(a):window)||window;if(Xd(this.f())=="fixed")var c=a=0;else{c=Xc(this.X());a=c.x;c=c.y}var d=fe(this.f());b=Gc(b||window);a=Math.max(a+b.width/2-d.width/2,0);c=Math.max(c+b.height/2-d.height/2,0);Yd(this.f(),a,c)};u.$k=function(){if(this.vi){var a=this.Ub,b=a&&a.Dg;if(b){a=a.l(b);this.dispatchEvent(new zf(b,a))&&this.Aa(n)}else this.Aa(n)}};
u.p=function(){vf.h.p.call(this);if(this.Ma){Nc(this.Ma);this.Ma=l}if(this.Ia){Nc(this.Ia);this.Ia=l}this.qj=this.lc=this.jg=l};u.Ui=function(a){a:{for(a=a.target;a!=l&&a!=this.lc;){if(a.tagName=="BUTTON"){a=a;break a}a=a.parentNode}a=l}if(a&&!a.disabled){a=a.name;var b=this.Ub.l(a);this.dispatchEvent(new zf(a,b))&&this.Aa(n)}};
u.ag=function(a){var b=n,c=n,d=this.Ub,e=a.target;if(a.type=="keydown")if(this.$j&&a.keyCode==27){var f=d&&d.Dg;e=e.tagName=="SELECT"&&!e.disabled;if(f&&!e){c=k;b=d.l(f);b=this.dispatchEvent(new zf(f,b))}else e||(b=k)}else{if(a.keyCode==9&&a.shiftKey&&e==this.f())c=k}else if(a.keyCode==13){if(e.tagName=="BUTTON")f=e.name;else if(d){var h=d.ve,i;if(i=h)a:{i=d.q.getElementsByTagName("BUTTON");for(var j=0,m;m=i[j];j++)if(m.name==h||m.id==h){i=m;break a}i=l}i=i;e=(e.tagName=="TEXTAREA"||e.tagName=="SELECT")&&
!e.disabled;if(i&&!i.disabled&&!e)f=h}if(f){c=k;b=this.dispatchEvent(new zf(f,String(d.l(f))))}}if(b||c){a.stopPropagation();a.preventDefault()}b&&this.Aa(n)};u.Xi=function(){xf(this)};u.Wk=function(a){this.qj==a.target&&lf(this.ak,0,this)};u.ak=function(){F&&Wc(this.X()).body.focus();this.f().focus()};function zf(a,b){this.type=Af;this.key=a;this.caption=b}A(zf,bd);var Af="dialogselect",yf="afterhide";function Bf(a){this.Cb=a||xc();lb.call(this)}A(Bf,lb);u=Bf.prototype;u.Vb="goog-buttonset";
u.ve=l;u.q=l;u.Dg=l;u.Jb=function(a,b,c,d){lb.prototype.Jb.call(this,a,b);if(c)this.ve=a;if(d)this.Dg=a;return this};function Cf(a,b,c,d){return a.Jb(b.key,b.caption,c,d)}u.R=function(){if(this.q){this.q.innerHTML="";var a=xc(this.q);kb(this,function(b,c){var d=a.i("button",{name:c},b);if(c==this.ve)d.className=this.Vb+"-default";this.q.appendChild(d)},this)}};
var Df=z("OK"),Ef=z("Cancel"),Ff=z("Yes"),Gf=z("No"),Hf=z("Save"),If=z("Continue"),Jf={key:"ok",caption:Df},Kf={key:"cancel",caption:Ef},Lf={key:"yes",caption:Ff},Mf={key:"no",caption:Gf},Nf={key:"save",caption:Hf},Of={key:"continue",caption:If};function wf(){return Cf(Cf(new Bf,Jf,k),Kf,n,k)}Cf(new Bf,Jf,k,k);wf();Cf(Cf(new Bf,Lf,k),Mf,n,k);Cf(Cf(Cf(new Bf,Lf),Mf,k),Kf,n,k);Cf(Cf(Cf(new Bf,Of),Nf),Kf,k,k);function Pf(a,b,c,d,e,f,h){vf.call(this,e,f,h);this.vj=a;this.gf&&Qc(this.gf,a);this.kc(b+"<br><br>");this.Cg=c;this.sf=d!==undefined?d:"";Ed(this,Af,this.Vi);a=z("OK");b=z("Cancel");h=new Bf(h);h.Jb("ok",a,k);h.Jb("cancel",b,n,k);this.Ub=h;if(this.lc)if(this.Ub){h=this.Ub;h.q=this.lc;h.R()}else this.lc.innerHTML=""}A(Pf,vf);u=Pf.prototype;u.Cg=fa;u.sf="";u.Ob=l;u.jh=n;u.yh=1;u.qf=0;
u.i=function(){Pf.h.i.call(this);var a={className:this.Vb+"-userInput",value:this.sf};if(this.yh==1){this.Ob=this.X().i("input",a);this.Ob.type="text";if(this.qf)this.Ob.size=this.qf}else{this.Ob=this.X().i("textarea",a);this.Ob.rows=this.yh;if(this.qf)this.Ob.cols=this.qf}this.xa().appendChild(this.X().i("div",{style:"overflow: auto"},this.Ob));if(this.yh>1)this.Ub.ve=l};u.Aa=function(a){vf.prototype.Aa.call(this,a);if(a){this.jh=n;this.Ob.value=this.sf;this.focus()}};
u.focus=function(){bc&&this.Ob.focus();this.Ob.select()};u.ll=ba("sf");u.Vi=function(a){if(!this.jh){this.jh=k;a.key=="ok"?lf(ta(this.Cg,this,this.Ob.value),1):lf(ta(this.Cg,this,l),1)}};u.p=function(){Nc(this.Ob);Gd(this,Af,this.Vi,k,this);Pf.h.p.call(this);this.Ob=this.Yl=l};function Qf(a,b,c,d,e,f,h,i){var j,m=c.offsetParent;if(m){var o=m.tagName=="HTML"||m.tagName=="BODY";if(!o||Xd(m)!="static"){j=ce(m);o||(j=vc(j,new L(m.scrollLeft,m.scrollTop)))}}m=ge(a);(o=be(a))&&m.zi(Ud(o));o=xc(a);var p=xc(c);if(o.ba!=p.ba){var q=o.ba.body;p=Hc(p.ba);var t=new L(0,0),v=zc(q)?Hc(zc(q)):window,y=q;do{var H;if(v==p)H=ce(y);else{var J=y;H=new L;if(J.nodeType==1)if(J.getBoundingClientRect){var ma=$d(J);H.x=ma.left;H.y=ma.top}else{ma=Xc(xc(J));J=ce(J);H.x=J.x-ma.x;H.y=J.y-ma.y}else{H.x=
J.clientX;H.y=J.clientY}H=H}H=H;t.x+=H.x;t.y+=H.y}while(v&&v!=p&&(y=v.frameElement)&&(v=v.parent));q=vc(t,ce(q));if(F&&!Dc(o.ba))q=vc(q,Xc(o));m.left+=q.x;m.top+=q.y}a=(b&4&&de(a)?b^2:b)&-5;b=new L(a&2?m.left+m.width:m.left,a&1?m.top+m.height:m.top);if(j)b=vc(b,j);if(e){b.x+=(a&2?-1:1)*e.x;b.y+=(a&1?-1:1)*e.y}var W;if(h)if((W=be(c))&&j){W.top=Math.max(0,W.top-j.y);W.right-=j.x;W.bottom-=j.y;W.left=Math.max(0,W.left-j.x)}a:{j=W;e=b.ja();W=0;a=(d&4&&de(c)?d^2:d)&-5;d=fe(c);i=i?i.ja():d;if(f||a!=0){if(a&
2)e.x-=i.width+(f?f.right:0);else if(f)e.x+=f.left;if(a&1)e.y-=i.height+(f?f.bottom:0);else if(f)e.y+=f.top}if(h){if(j){f=e;W=0;if(f.x<j.left&&h&1){f.x=j.left;W|=1}if(f.x<j.left&&f.x+i.width>j.right&&h&16){i.width-=f.x+i.width-j.right;W|=4}if(f.x+i.width>j.right&&h&1){f.x=Math.max(j.right-i.width,j.left);W|=1}if(h&2)W|=(f.x<j.left?16:0)|(f.x+i.width>j.right?32:0);if(f.y<j.top&&h&4){f.y=j.top;W|=2}if(f.y>=j.top&&f.y+i.height>j.bottom&&h&32){i.height-=f.y+i.height-j.bottom;W|=8}if(f.y+i.height>j.bottom&&
h&4){f.y=Math.max(j.bottom-i.height,j.top);W|=2}if(h&8)W|=(f.y<j.top?64:0)|(f.y+i.height>j.bottom?128:0);h=W}else h=256;W=h;if(W&496){c=W;break a}}Yd(c,e);h=d==i?k:!d||!i?n:d.width==i.width&&d.height==i.height;h||ee(c,i);c=W}return c};function Rf(){}Rf.prototype.wd=aa();function Sf(a,b){this.element=a;this.Od=b}A(Sf,Rf);Sf.prototype.wd=function(a,b,c){Qf(this.element,this.Od,a,b,undefined,c)};function Tf(a,b,c){Sf.call(this,a,b);this.Kj=c}A(Tf,Sf);Tf.prototype.wd=function(a,b,c,d){var e=Qf(this.element,this.Od,a,b,l,c,10,d);if(e&496){var f=this.Od,h=b;if(e&48){f^=2;h^=2}if(e&192){f^=1;h^=1}e=Qf(this.element,f,a,h,l,c,10,d);if(e&496)this.Kj?Qf(this.element,this.Od,a,b,l,c,5,d):Qf(this.element,this.Od,a,b,l,c,0,d)}};function Uf(a,b,c,d){Tf.call(this,a,b,c);this.hl=d}A(Uf,Tf);Uf.prototype.wd=function(a,b,c,d){this.hl?Qf(this.element,this.Od,a,b,l,c,33,d):Uf.h.wd.call(this,a,b,c,d)};function Vf(){}A(Vf,Ne);ga(Vf);u=Vf.prototype;u.hc=s("button");u.hf=function(a,b,c){b==16?Me(a,"pressed",c):Vf.h.hf.call(this,a,b,c)};u.i=function(a){var b=Vf.h.i.call(this,a),c=a.Xd();c&&this.bf(b,c);(c=a.Sa())&&this.Ha(b,c);a.fb&16&&this.hf(b,16,n);return b};u.Sa=fa;u.Ha=fa;u.Xd=function(a){return a.title};u.bf=function(a,b){if(a)a.title=b||""};u.t=s("goog-button");function Wf(){}A(Wf,Vf);ga(Wf);u=Wf.prototype;u.hc=aa();u.i=function(a){Te(a,n);a.$h&=-256;Ye(a,32,n);return a.X().i("button",{"class":this.Fc(a).join(" "),disabled:!a.la(),title:a.Xd()||"",value:a.Sa()||""},a.ye()||"")};u.tc=function(a){a.db().u(a.f(),"click",a.Kc)};u.eg=fa;u.bd=fa;u.Wc=function(a){return a.la()};u.vc=fa;u.Lb=function(a,b,c){Wf.h.Lb.call(this,a,b,c);if((a=a.f())&&b==1)a.disabled=c};u.Sa=function(a){return a.value};u.Ha=function(a,b){if(a)a.value=b};u.hf=fa;function Xf(a,b,c){Se.call(this,a,b||Wf.pa(),c)}A(Xf,Se);u=Xf.prototype;u.Sa=r("yj");u.Ha=function(a){this.yj=a;this.J.Ha(this.f(),a)};u.Xd=r("wj");u.bf=function(a){this.wj=a;this.J.bf(this.f(),a)};u.p=function(){Xf.h.p.call(this);delete this.yj;delete this.wj};u.ra=function(){Xf.h.ra.call(this);if(this.fb&32){var a=this.Qa();a&&this.db().u(a,"keyup",this.Zd)}};u.Zd=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Kc(a);return a.keyCode==32};
Qe("goog-button",function(){return new Xf(l)});function Yf(){}A(Yf,Ne);ga(Yf);Yf.prototype.i=function(a){return a.X().i("div",this.t())};Yf.prototype.kc=aa();Yf.prototype.t=s("goog-menuseparator");function Zf(a,b){Se.call(this,l,a||Yf.pa(),b);Ye(this,1,n);Ye(this,2,n);Ye(this,4,n);Ye(this,32,n);this.Ka=1}A(Zf,Se);Zf.prototype.ra=function(){Zf.h.ra.call(this);Le(this.f(),"separator")};Qe("goog-menuseparator",function(){return new Zf});function $f(){}ga($f);u=$f.prototype;u.hc=aa();function ag(a,b,c){if(b)b.tabIndex=c?0:-1}u.i=function(a){return a.X().i("div",this.Fc(a).join(" "))};u.xa=function(a){return a};u.tc=function(a){a=a.f();ne(a,k,G);if(F)a.hideFocus=k;var b=this.hc();b&&Le(a,b)};u.Qa=function(a){return a.f()};u.t=s("goog-container");u.Fc=function(a){var b=this.t(),c=[b,a.Ef()==bg?b+"-horizontal":b+"-vertical"];a.la()||c.push(b+"-disabled");return c};u.pi=function(){return cg};function dg(a,b,c){pe.call(this,c);this.J=b||$f.pa();this.ge=a||this.J.pi()}A(dg,pe);var bg="horizontal",cg="vertical";u=dg.prototype;u.Ii=l;u.Zb=l;u.J=l;u.ge=l;u.nb=k;u.Da=k;u.Xg=k;u.na=-1;u.Va=l;u.Jc=n;u.Nj=n;u.al=k;u.Oc=l;u.Qa=function(){return this.Ii||this.J.Qa(this)};u.Df=function(){return this.Zb||(this.Zb=new Ee(this.Qa()))};u.i=function(){this.q=this.J.i(this)};u.xa=function(){return this.J.xa(this.f())};
u.ra=function(){dg.h.ra.call(this);xe(this,function(b){b.Z&&eg(this,b)},this);var a=this.f();this.J.tc(this);this.Aa(this.nb,k);this.db().u(this,"enter",this.dh).u(this,"highlight",this.eh).u(this,"unhighlight",this.gh).u(this,"open",this.Dk).u(this,"close",this.tk).u(a,"mousedown",this.ib).u(zc(a),"mouseup",this.vk).u(a,["mousedown","mouseup","mouseover","mouseout"],this.sk);this.Wc()&&fg(this,k)};
function fg(a,b){var c=a.db(),d=a.Qa();b?c.u(d,"focus",a.Ff).u(d,"blur",a.Vc).u(a.Df(),"key",a.sc):c.mb(d,"focus",a.Ff).mb(d,"blur",a.Vc).mb(a.Df(),"key",a.sc)}u.wb=function(){this.pb(-1);this.Va&&this.Va.ta(n);this.Jc=n;dg.h.wb.call(this)};u.p=function(){dg.h.p.call(this);if(this.Zb){this.Zb.aa();this.Zb=l}this.J=this.Va=this.Oc=l};u.dh=s(k);
u.eh=function(a){var b=Be(this,a.target);if(b>-1&&b!=this.na){var c=ze(this,this.na);c&&c.wc(n);this.na=b;c=ze(this,this.na);this.Jc&&c.setActive(k);if(this.al&&this.Va&&c!=this.Va)c.fb&64?c.ta(k):this.Va.ta(n)}Me(this.f(),"activedescendant",a.target.f().id)};u.gh=function(a){if(a.target==ze(this,this.na))this.na=-1;Me(this.f(),"activedescendant","")};u.Dk=function(a){if((a=a.target)&&a!=this.Va&&a.za==this){this.Va&&this.Va.ta(n);this.Va=a}};u.tk=function(a){if(a.target==this.Va)this.Va=l};
u.ib=function(a){if(this.Da)this.Jc=k;var b=this.Qa();b&&Tc(b)?b.focus():a.preventDefault()};u.vk=function(){this.Jc=n};u.sk=function(a){var b;a:{b=a.target;if(this.Oc)for(var c=this.f();b&&b!==c;){var d=b.id;if(d in this.Oc){b=this.Oc[d];break a}b=b.parentNode}b=l}if(b)switch(a.type){case "mousedown":b.ib(a);break;case "mouseup":b.nd(a);break;case "mouseover":b.ae(a);break;case "mouseout":b.$d(a)}};u.Ff=aa();u.Vc=function(){this.pb(-1);this.Jc=n;this.Va&&this.Va.ta(n)};
u.sc=function(a){if(this.la()&&this.$a()&&(ye(this)!=0||this.Ii)&&this.Zd(a)){a.preventDefault();a.stopPropagation();return k}return n};
u.Zd=function(a){var b=ze(this,this.na);if(b&&typeof b.sc=="function"&&b.sc(a))return k;if(this.Va&&this.Va!=b&&typeof this.Va.sc=="function"&&this.Va.sc(a))return k;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return n;switch(a.keyCode){case 27:if(this.Wc())this.Qa().blur();else return n;break;case 36:gg(this);break;case 35:hg(this);break;case 38:if(this.ge==cg)ig(this);else return n;break;case 37:if(this.ge==bg)Ae(this)?jg(this):ig(this);else return n;break;case 40:if(this.ge==cg)jg(this);else return n;
break;case 39:if(this.ge==bg)Ae(this)?ig(this):jg(this);else return n;break;default:return n}return k};function eg(a,b){var c=b.f();c=c.id||(c.id=se(b));if(!a.Oc)a.Oc={};a.Oc[c]=b}u.ua=function(a,b){dg.h.ua.call(this,a,b)};u.pe=function(a,b,c){a.Kh|=2;a.Kh|=64;if(this.Wc()||!this.Nj)Ye(a,32,n);Te(a,n);dg.h.pe.call(this,a,b,c);c&&this.Z&&eg(this,a);b<=this.na&&this.na++};
u.removeChild=function(a,b){if(a=x(a)?ve(this,a):a){var c=Be(this,a);if(c!=-1)if(c==this.na)a.wc(n);else c<this.na&&this.na--;(c=a.f())&&c.id&&cb(this.Oc,c.id)}a=dg.h.removeChild.call(this,a,b);Te(a,k);return a};u.Ef=r("ge");u.$a=r("nb");u.Aa=function(a,b){if(b||this.nb!=a&&this.dispatchEvent(a?"show":"hide")){this.nb=a;var c=this.f();if(c){ke(c,a);this.Wc()&&ag(this.J,this.Qa(),this.Da&&this.nb);b||this.dispatchEvent(this.nb?"aftershow":"afterhide")}return k}return n};u.la=r("Da");
u.uc=function(a){if(this.Da!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.Da=k;xe(this,function(b){if(b.Aj)delete b.Aj;else b.uc(k)})}else{xe(this,function(b){if(b.la())b.uc(n);else b.Aj=k});this.Jc=this.Da=n}this.Wc()&&ag(this.J,this.Qa(),a&&this.nb)}};u.Wc=r("Xg");u.vc=function(a){a!=this.Xg&&this.Z&&fg(this,a);this.Xg=a;this.Da&&this.nb&&ag(this.J,this.Qa(),a)};u.pb=function(a){if(a=ze(this,a))a.wc(k);else this.na>-1&&ze(this,this.na).wc(n)};u.wc=function(a){this.pb(Be(this,a))};
function gg(a){kg(a,function(b,c){return(b+1)%c},ye(a)-1)}function hg(a){kg(a,function(b,c){b--;return b<0?c-1:b},0)}function jg(a){kg(a,function(b,c){return(b+1)%c},a.na)}function ig(a){kg(a,function(b,c){b--;return b<0?c-1:b},a.na)}function kg(a,b,c){c=c<0?Be(a,a.Va):c;var d=ye(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=ze(a,c);if(f&&a.di(f)){a.pb(c);return k}e++;c=b.call(a,c,d)}return n}u.di=function(a){return a.$a()&&a.la()&&!!(a.fb&2)};function lg(){}A(lg,Ne);ga(lg);lg.prototype.t=s("goog-menuheader");function mg(a,b,c){Se.call(this,a,c||lg.pa(),b);Ye(this,1,n);Ye(this,2,n);Ye(this,4,n);Ye(this,32,n);this.Ka=1}A(mg,Se);Qe("goog-menuheader",function(){return new mg(l)});function ng(){}A(ng,$f);ga(ng);ng.prototype.hc=s("menu");ng.prototype.dd=function(a,b){return Pc(a.f(),b)};ng.prototype.t=s("goog-menu");ng.prototype.tc=function(a){ng.h.tc.call(this,a);a=a.f();Me(a,"haspopup","true")};function og(a){Zf.call(this,Yf.pa(),a)}A(og,Zf);Qe("goog-menuseparator",function(){return new Zf});function pg(a,b){dg.call(this,cg,b||ng.pa(),a);this.vc(n)}A(pg,dg);u=pg.prototype;u.xg=k;u.Oj=n;u.t=function(){return this.J.t()};u.dd=function(a){if(this.J.dd(this,a))return k;for(var b=0,c=ye(this);b<c;b++){var d=ze(this,b);if(typeof d.dd=="function"&&d.dd(a))return k}return n};u.Cc=function(a){this.ua(a,k)};u.Id=function(a,b){this.pe(a,b,k)};u.Td=function(a){return ze(this,a)};u.Bf=function(){return ye(this)};
u.Aa=function(a,b){var c=pg.h.Aa.call(this,a,b);c&&a&&this.Z&&this.xg&&this.Qa().focus();return c};u.dh=function(a){this.xg&&this.Qa().focus();return pg.h.dh.call(this,a)};u.di=function(a){return(this.Oj||a.la())&&a.$a()&&!!(a.fb&2)};function qg(){}A(qg,Vf);ga(qg);u=qg.prototype;u.i=function(a){var b={"class":"goog-inline-block "+this.Fc(a).join(" "),title:a.Xd()||""};return a.X().i("div",b,this.Fg(a.Oa,a.X()))};u.hc=s("button");u.xa=function(a){return a&&a.firstChild.firstChild};u.Fg=function(a,b){return b.i("div","goog-inline-block "+(this.t()+"-outer-box"),b.i("div","goog-inline-block "+(this.t()+"-inner-box"),a))};u.t=s("goog-custom-button");function rg(){}A(rg,qg);ga(rg);if(G)rg.prototype.kc=function(a,b){var c=rg.h.xa.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,xc(a)),e=c.parentNode;e&&e.replaceChild(d,c)}};u=rg.prototype;u.xa=function(a){a=rg.h.xa.call(this,a&&a.firstChild);if(G&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};u.Fg=function(a,b){return rg.h.Fg.call(this,[this.createCaption(a,b),this.Gg(b)],b)};u.createCaption=function(a,b){return sg(a,this.t(),b)};
function sg(a,b,c){return c.i("div","goog-inline-block "+(b+"-caption"),a)}u.Gg=function(a){return a.i("div","goog-inline-block "+(this.t()+"-dropdown"),"")};u.t=s("goog-menu-button");function tg(a,b,c,d){Xf.call(this,a,c||rg.pa(),d);Ye(this,64,k);b&&this.ad(b);this.ac=new hf(500)}A(tg,Xf);u=tg.prototype;u.Zh=k;u.zh=n;u.lh=n;u.ra=function(){tg.h.ra.call(this);this.G&&ug(this,this.G,k);Me(this.f(),"haspopup","true")};u.wb=function(){tg.h.wb.call(this);if(this.G){this.ta(n);this.G.wb();ug(this,this.G,n);var a=this.G.f();a&&Nc(a)}};u.p=function(){tg.h.p.call(this);if(this.G){this.G.aa();delete this.G}delete this.dl;this.ac.aa()};
u.ib=function(a){tg.h.ib.call(this,a);if(this.qa()){this.ta(!(this.Ka&64));if(this.G)this.G.Jc=!!(this.Ka&64)}};u.nd=function(a){tg.h.nd.call(this,a);if(this.G&&!this.qa())this.G.Jc=n};u.Kc=function(){this.setActive(n);return k};u.uk=function(a){this.G&&this.G.$a()&&!this.dd(a.target)&&this.ta(n)};u.dd=function(a){return a&&Pc(this.f(),a)||this.G&&this.G.dd(a)||n};
u.Zd=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!="keyup")return n}else if(a.type!="key")return n;if(this.G&&this.G.$a()){var b=this.G.sc(a);if(a.keyCode==27){this.ta(n);return k}return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.ta(k);return k}return n};u.De=function(){this.ta(n)};u.zk=function(){this.qa()||this.ta(n)};u.Vc=function(a){this.lh||this.ta(n);tg.h.Vc.call(this,a)};function vg(a){a.G||a.ad(new pg(a.X()));return a.G||l}
u.ad=function(a){var b=this.G;if(a!=b){if(b){this.ta(n);this.Z&&ug(this,b,n);delete this.G}if(a){this.G=a;ue(a,this);a.Aa(n);var c=this.lh;(a.xg=c)&&a.vc(k);this.Z&&ug(this,a,k)}}return b};u.Cc=function(a){vg(this).ua(a,k)};u.Id=function(a,b){vg(this).pe(a,b,k)};u.Td=function(a){return this.G?ze(this.G,a):l};u.Bf=function(){return this.G?ye(this.G):0};u.Aa=function(a,b){var c=tg.h.Aa.call(this,a,b);c&&!this.$a()&&this.ta(n);return c};u.uc=function(a){tg.h.uc.call(this,a);this.la()||this.ta(n)};
u.ta=function(a){tg.h.ta.call(this,a);if(this.G&&!!(this.Ka&64)==a){if(a){this.G.Z||this.G.R();this.zj=be(this.f());this.ai=ge(this.f());wg(this);this.G.pb(-1)}else{this.setActive(n);this.G.Jc=n;if(this.bg!=l){this.bg=undefined;var b=this.G.f();b&&ee(b,"","")}}this.G.Aa(a);b=this.db();var c=a?b.u:b.mb;c.call(b,Wc(this.X()),"mousedown",this.uk,k);this.lh&&c.call(b,this.G,"blur",this.zk);c.call(b,this.ac,kf,this.Zk);a?this.ac.start():this.ac.stop()}};
function wg(a){if(a.G.Z){var b=a.dl||a.f();b=new Uf(b,a.Zh?5:7,!a.zh,a.zh);var c=a.G.f();if(!a.G.$a()){c.style.visibility="hidden";ke(c,k)}if(!a.bg&&a.zh)a.bg=fe(c);b.wd(c,a.Zh?4:6,l,a.bg);if(!a.G.$a()){ke(c,n);c.style.visibility="visible"}}}
u.Zk=function(){var a=ge(this.f()),b=be(this.f()),c;c=this.ai;c=c==a?k:!c||!a?n:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c)){c=this.zj;c=c==b?k:!c||!b?n:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left;c=!c}if(c){this.ai=a;this.zj=b;wg(this)}};function ug(a,b,c){var d=a.db();c=c?d.u:d.mb;c.call(d,b,"action",a.De);c.call(d,b,"highlight",a.eh);c.call(d,b,"unhighlight",a.gh)}u.eh=function(a){Me(this.f(),"activedescendant",a.target.f().id)};
u.gh=function(){ze(this.G,this.G.na)||Me(this.f(),"activedescendant","")};Qe("goog-menu-button",function(){return new tg(l)});function xg(a){this.qd=[];yg(this,a)}A(xg,Qd);u=xg.prototype;u.$c=l;u.Ah=l;u.Bf=function(){return this.qd.length};u.Td=function(a){return this.qd[a]||l};function yg(a,b){if(b){B(b,function(c){this.ie(c,n)},a);Sa(a.qd,b)}}u.Cc=function(a){this.Id(a,this.Bf())};u.Id=function(a,b){if(a){this.ie(a,n);Ta(this.qd,b,0,a)}};u.jd=r("$c");u.xc=function(a){if(a!=this.$c){this.ie(this.$c,n);this.$c=a;this.ie(a,k)}this.dispatchEvent("select")};u.Wd=function(){return this.$c?Ia(this.qd,this.$c):-1};u.af=function(a){this.xc(this.Td(a))};
u.clear=function(){var a=this.qd;if(!ia(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.$c=l};u.p=function(){xg.h.p.call(this);delete this.qd;this.$c=l};u.ie=function(a,b){if(a)if(typeof this.Ah=="function")this.Ah(a,b);else typeof a.Ih=="function"&&a.Ih(b)};function zg(a,b,c,d){tg.call(this,a,b,c,d);this.rf=a;Ag(this)}A(zg,tg);u=zg.prototype;u.A=l;u.rf=l;u.ra=function(){zg.h.ra.call(this);Ag(this);Bg(this)};u.p=function(){zg.h.p.call(this);if(this.A){this.A.aa();this.A=l}this.rf=l};u.De=function(a){this.xc(a.target);zg.h.De.call(this,a);a.stopPropagation();this.dispatchEvent("action")};u.If=function(){var a=this.jd();zg.h.Ha.call(this,a&&a.Sa());Ag(this)};
u.ad=function(a){var b=zg.h.ad.call(this,a);if(a!=b){this.A&&this.A.clear();if(a)this.A?xe(a,function(c){this.A.Cc(c)},this):Cg(this,a)}return b};u.Cc=function(a){zg.h.Cc.call(this,a);this.A?this.A.Cc(a):Cg(this,vg(this))};u.Id=function(a,b){zg.h.Id.call(this,a,b);this.A?this.A.Id(a,b):Cg(this,vg(this))};u.xc=function(a){this.A&&this.A.xc(a)};u.af=function(a){this.A&&this.xc(this.A.Td(a))};
u.Ha=function(a){if(a!=l&&this.A)for(var b=0,c;c=this.A.Td(b);b++)if(c&&typeof c.Sa=="function"&&c.Sa()==a){this.xc(c);return}this.xc(l)};u.jd=function(){return this.A?this.A.jd():l};u.Wd=function(){return this.A?this.A.Wd():-1};function Cg(a,b){a.A=new xg;b&&xe(b,function(c){this.A.Cc(c)},a);Bg(a)}function Bg(a){a.A&&a.db().u(a.A,"select",a.If)}function Ag(a){var b=a.jd();a.kc(b?b.ye():a.rf)}u.ta=function(a){zg.h.ta.call(this,a);this.Ka&64&&vg(this).pb(this.Wd())};Qe("goog-select",function(){return new zg(l)});function Dg(){}A(Dg,Yf);ga(Dg);Dg.prototype.i=function(a){return a.X().i("div",this.t()+" goog-inline-block","")};Dg.prototype.t=s("goog-toolbar-separator");function Eg(a,b){Zf.call(this,a||Dg.pa(),b)}A(Eg,Zf);Qe("goog-toolbar-separator",function(){return new Eg});var Fg={};function Gg(){}A(Gg,Vf);ga(Gg);Gg.prototype.i=function(a){var b={"class":"goog-inline-block "+this.Fc(a).join(" "),title:a.Xd()||""};return a.X().i("div",b,a.Oa)};Gg.prototype.hc=s("button");Gg.prototype.Sa=s(l);Gg.prototype.t=s("goog-flat-button");Qe("goog-flat-button",function(){return new Xf(l,Gg.pa())});function Hg(){}A(Hg,Gg);ga(Hg);u=Hg.prototype;u.i=function(a){var b={"class":"goog-inline-block "+this.Fc(a).join(" "),title:a.Xd()||""};return a.X().i("div",b,[this.createCaption(a.Oa,a.X()),this.Gg(a.X())])};u.xa=function(a){return a&&a.firstChild};u.createCaption=function(a,b){return b.i("div","goog-inline-block "+(this.t()+"-caption"),a)};u.Gg=function(a){return a.i("div","goog-inline-block "+(this.t()+"-dropdown"),"")};u.t=s("goog-flat-menu-button");
Qe("goog-flat-menu-button",function(){return new tg(l,l,Hg.pa())});function Ig(a,b,c){gf.call(this,a,b,c);this.Hh(k)}A(Ig,gf);Ig.prototype.Kc=function(){return this.dispatchEvent("action")};Qe("goog-option",function(){return new Ig(l)});function Jg(){}A(Jg,$f);ga(Jg);Jg.prototype.hc=s("toolbar");Jg.prototype.t=s("goog-toolbar");Jg.prototype.pi=function(){return bg};function Kg(a,b,c){dg.call(this,b,a||Jg.pa(),c)}A(Kg,dg);function Lg(){}A(Lg,qg);ga(Lg);Lg.prototype.t=s("goog-toolbar-button");function Mg(a,b,c){Xf.call(this,a,b||Lg.pa(),c)}A(Mg,Xf);Qe("goog-toolbar-button",function(){return new Mg(l)});var Ng={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Og(a){a=a%360;return a*360<0?a+360:a}function N(a){return a*Math.PI/180}function Pg(a,b,c,d){return Og(Math.atan2(d-b,c-a)*180/Math.PI)}function Qg(a,b){var c=Og(b)-Og(a);if(c>180)c-=360;else if(c<=-180)c=360+c;return c};function Rg(a){var b={};a=String(a);var c=a.charAt(0)=="#"?a:"#"+a;if(Sg.test(c)){b.Kf=Tg(c);b.type="hex";return b}else{a:{var d=a.match(Ug);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(c>=0&&c<=255&&e>=0&&e<=255&&d>=0&&d<=255){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||e<0||e>255||isNaN(a)||a<0||a>255||isNaN(c)||c<0||c>255)g(Error('"('+e+","+a+","+c+'") is not a valid RGB color'));e=Vg(e.toString(16));a=Vg(a.toString(16));
c=Vg(c.toString(16));b.Kf="#"+e+a+c;b.type="rgb";return b}else if(Ng)if(c=Ng[a.toLowerCase()]){b.Kf=c;b.type="named";return b}}g(Error(a+" is not a valid color string"))}var Wg=/#(.)(.)(.)/;function Tg(a){if(!Sg.test(a))g(Error("'"+a+"' is not a valid hex color"));if(a.length==4)a=a.replace(Wg,"#$1$1$2$2$3$3");return a.toLowerCase()}var Sg=/^#(?:[0-9a-f]{3}){1,2}$/i,Ug=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Vg(a){return a.length==1?"0"+a:a};function Xg(){}A(Xg,rg);ga(Xg);Xg.prototype.createCaption=function(a,b){return Xg.h.createCaption.call(this,Yg(a,b),b)};function Yg(a,b){return b.i("div","goog-color-menu-button-indicator",a)}Xg.prototype.Ha=function(a,b){a&&Zg(this.xa(a),b)};function Zg(a,b){if(a&&a.firstChild){var c;try{c=Rg(b).Kf}catch(d){c=l}a.firstChild.style.borderBottomColor=c||(F?"":"transparent")}}Xg.prototype.tc=function(a){this.Ha(a.f(),a.Sa());sc(a.f(),"goog-color-menu-button");Xg.h.tc.call(this,a)};function $g(){}A($g,Ne);ga($g);var ah=0;$g.prototype.i=function(a){var b=this.Fc(a);return a.X().i("div",b?b.join(" "):l,bh(this,a.Oa,a.kd(),a.X()))};function bh(a,b,c,d){for(var e=[],f=0,h=0;f<c.height;f++){for(var i=[],j=0;j<c.width;j++){var m=b&&b[h++];i.push(ch(a,m,d))}e.push(d.i("tr",a.t()+"-row",i))}return a.hi(e,d)}$g.prototype.hi=function(a,b){var c=b.i("table",this.t()+"-table",b.i("tbody",this.t()+"-body",a));c.cellSpacing=0;c.cellPadding=0;Le(c,"grid");return c};
function ch(a,b,c){a=c.i("td",{"class":a.t()+"-cell",id:a.t()+"-cell-"+ah++},b);Le(a,"gridcell");return a}
$g.prototype.kc=function(a,b){if(a){var c=Cc(document,"tbody",this.t()+"-body",a)[0];if(c){var d=0;B(c.rows,function(j){B(j.cells,function(m){Mc(m);if(b){var o=b[d++];o&&m.appendChild(o)}})});if(d<b.length){for(var e=[],f=xc(a),h=c.rows[0].cells.length;d<b.length;){var i=b[d++];e.push(ch(this,i,f));if(e.length==h){i=f.i("tr",this.t()+"-row",e);c.appendChild(i);e.length=0}}if(e.length>0){for(;e.length<h;)e.push(ch(this,"",f));i=f.i("tr",this.t()+"-row",e);c.appendChild(i)}}}ne(a,k,G)}};
function dh(a,b,c){for(b=b.f();c&&c.nodeType==1&&c!=b;){if(c.tagName=="TD"&&D(rc(c),a.t()+"-cell"))return c.firstChild;c=c.parentNode}return l}function eh(a,b,c,d){if(c){c=c.parentNode;a=a.t()+"-cell-hover";d?sc(c,a):tc(c,a);b=b.f().firstChild;Me(b,"activedescendent",c.id)}}$g.prototype.t=s("goog-palette");function fh(a,b,c){Se.call(this,a,b||$g.pa(),c)}A(fh,Se);u=fh.prototype;u.$b=l;u.na=-1;u.A=l;u.p=function(){fh.h.p.call(this);if(this.A){this.A.aa();this.A=l}this.$b=l};u.gg=function(a){fh.h.gg.call(this,a);gh(this);if(this.A){this.A.clear();yg(this.A,a)}else{this.A=new xg(a);this.A.Ah=ta(this.ie,this);this.db().u(this.A,"select",this.If)}this.na=-1};u.ye=s(l);
u.ae=function(a){fh.h.ae.call(this,a);var b=dh(this.J,this,a.target);if(!(b&&a.relatedTarget&&Pc(b,a.relatedTarget)))if(b!=hh(this)){a=this.Oa;this.pb(a?Ia(a,b):-1)}};u.$d=function(a){fh.h.$d.call(this,a);var b=dh(this.J,this,a.target);b&&a.relatedTarget&&Pc(b,a.relatedTarget)||b==hh(this)&&eh(this.J,this,b,n)};u.ib=function(a){fh.h.ib.call(this,a);if(this.qa()){a=dh(this.J,this,a.target);if(a!=hh(this)){var b=this.Oa;this.pb(b?Ia(b,a):-1)}}};u.Kc=function(){var a=hh(this);if(a){this.xc(a);return this.dispatchEvent("action")}return n};
u.sc=function(a){var b=this.Oa;b=b?b.length:0;var c=this.$b.width;if(b==0||!this.la())return n;if(a.keyCode==13||a.keyCode==32)return this.Kc(a);if(a.keyCode==36){this.pb(0);return k}else if(a.keyCode==35){this.pb(b-1);return k}var d=this.na<0?this.Wd():this.na;switch(a.keyCode){case 37:if(d==-1)d=b;if(d>0){this.pb(d-1);a.preventDefault();return k}break;case 39:if(d<b-1){this.pb(d+1);a.preventDefault();return k}break;case 38:if(d==-1)d=b+c-1;if(d>=c){this.pb(d-c);a.preventDefault();return k}break;
case 40:if(d==-1)d=-c;if(d<b-c){this.pb(d+c);a.preventDefault();return k}}return n};u.If=aa();u.kd=r("$b");u.Kb=function(a,b){if(this.f())g(Error("Component already rendered"));this.$b=ka(a)?new wc(a,b):a;gh(this)};function hh(a){var b=a.Oa;return b&&b[a.na]}u.pb=function(a){if(a!=this.na){ih(this,this.na,n);this.na=a;ih(this,a,k)}};u.Wd=function(){return this.A?this.A.Wd():-1};u.jd=function(){return this.A?this.A.jd():l};u.af=function(a){this.A&&this.A.af(a)};u.xc=function(a){this.A&&this.A.xc(a)};
function ih(a,b,c){if(a.f()){var d=a.Oa;d&&b>=0&&b<d.length&&eh(a.J,a,d[b],c)}}u.ie=function(a,b){if(this.f())if(a){var c=a.parentNode,d=this.J.t()+"-cell-selected";b?sc(c,d):tc(c,d)}};function gh(a){var b=a.Oa;if(b)if(a.$b&&a.$b.width){b=Math.ceil(b.length/a.$b.width);if(!ka(a.$b.height)||a.$b.height<b)a.$b.height=b}else{b=Math.ceil(Math.sqrt(b.length));a.$b=new wc(b,b)}else a.$b=new wc(0,0)};function jh(a,b,c){this.pf=a||[];fh.call(this,l,b||$g.pa(),c);this.pf=this.pf;this.$f=l;this.kc(kh(this))}A(jh,fh);jh.prototype.$f=l;jh.prototype.ah=function(){var a=this.jd();if(a){a=a.style[ie("background-color")]||"";return lh(a)}else return l};jh.prototype.Jh=function(a){a=lh(a);if(!this.$f)this.$f=C(this.pf,function(b){return lh(b)});this.af(a?Ia(this.$f,a):-1)};
function kh(a){return C(a.pf,function(b){var c=this.X().i("div",{"class":this.J.t()+"-colorswatch",style:"background-color:"+b});if(b.charAt(0)=="#"){b=Tg(b);b="RGB ("+[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16)].join(", ")+")"}else b=b;c.title=b;return c},a)}function lh(a){if(a)try{return Rg(a).Kf}catch(b){}return l};function mh(a,b,c,d){tg.call(this,a,b,c||Xg.pa(),d)}A(mh,tg);
var nh={Gl:["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],Ml:["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],Jl:["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c",
"#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]};function oh(a,b){var c=new pg(b);a&&B(a,function(d){c.ua(d,k)});$a(nh,function(d){d=new jh(d,l,b);d.Kb(8);c.ua(d,k)});return c}u=mh.prototype;u.ah=function(){return this.Sa()};u.Jh=function(a){this.Ha(a)};u.Ha=function(a){for(var b=0,c;c=this.Td(b);b++)typeof c.Jh=="function"&&c.Jh(a);mh.h.Ha.call(this,a)};
u.De=function(a){if(typeof a.target.ah=="function")this.Ha(a.target.ah());else a.target.Sa()=="none"&&this.Ha(l);mh.h.De.call(this,a);a.stopPropagation();this.dispatchEvent("action")};u.ta=function(a){if(a&&this.Bf()==0){this.ad(oh(l,this.X()));this.Ha(this.Sa())}mh.h.ta.call(this,a)};Qe("goog-color-menu-button",function(){return new mh(l)});function ph(){}A(ph,rg);ga(ph);ph.prototype.t=s("goog-toolbar-menu-button");function qh(){}A(qh,ph);ga(qh);qh.prototype.createCaption=function(a,b){return sg(Yg(a,b),this.t(),b)};qh.prototype.Ha=function(a,b){a&&Zg(this.xa(a),b)};qh.prototype.tc=function(a){this.Ha(a.f(),a.Sa());sc(a.f(),"goog-toolbar-color-menu-button");qh.h.tc.call(this,a)};function rh(a,b,c,d){mh.call(this,a,b,c||qh.pa(),d)}A(rh,mh);Qe("goog-toolbar-color-menu-button",function(){return new rh(l)});function sh(a,b,c,d){tg.call(this,a,b,c||ph.pa(),d)}A(sh,tg);Qe("goog-toolbar-menu-button",function(){return new sh(l)});function th(a,b,c,d){zg.call(this,a,b,c||ph.pa(),d)}A(th,zg);Qe("goog-toolbar-select",function(){return new th(l)});function uh(a,b,c,d,e,f){c=c;if((!c||c=="")&&G&&!K("1.9a"))c="";d=(f||xc()).i("DIV",d?{"class":d}:l,c);e=new Mg(d,e,f);te(e,a);e.bf(b);return e}function vh(a,b,c,d,e,f){a=uh(a,b,c,d,e,f);Ye(a,16,k);return a}function wh(a,b,c,d,e,f){e=new th(l,l,e,f);d&&B(d.split(/\s+/),e.vg,e);e.vg("goog-toolbar-select");e.rf=c;Ag(e);te(e,a);e.bf(b);return e};function xh(a){return function(){return a}}var yh=xh(n);/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function O(){this.Da=this.Ij()}A(O,Qd);u=O.prototype;u.Ij=yh;function zh(a,b){a.b=b;B(a.Ae(),function(c){b.xh(c.id,c.key)})}u.Ae=function(){return[]};u.vf=function(a){if(this.b==a)this.Da=k;else this.M.log(zb,"Trying to enable an unregistered field with this plugin.",void 0)};u.Lg=function(a){this.M.info("disable");if(this.b==a)this.Da=n;else this.M.log(zb,"Trying to disable an unregistered field with this plugin.",void 0)};u.M=E("kemia.controller.Plugin");
u.la=function(a){return this.b==a?this.Da:n};u.p=function(){if(this.b)if(this.b){this.Lg(this.b);this.b=l}O.h.p.call(this)};u.Tj=k;var Ah={};O.prototype.Xh=yh;var Bh=eb({rm:1,sm:2,um:3,If:4,Gf:5,execCommand:6,queryCommandValue:7,ib:8,nd:9,ae:10,$d:11,Ee:12,mm:13,lm:14,km:15,pm:16,om:17,nm:18,jm:19,im:20,hm:21,zm:22,ym:23,xm:24,wm:25,qm:26});O.prototype.execCommand=function(a){var b=this.Hi(a);try{Ch(this.b);var c=this.Uc.apply(this,arguments)}finally{if(!b){P(this.b);this.b.dispatchEvent(Dh)}}return c};
O.prototype.Hi=yh;O.prototype.Xb=s(n);function Eh(a,b){this.source=a;this.target=b}function Fh(a,b,c){return((a.target.x-a.source.x)*(b.y-a.source.y)-(b.x-a.source.x)*(a.target.y-a.source.y))*((a.target.x-a.source.x)*(c.y-a.source.y)-(c.x-a.source.x)*(a.target.y-a.source.y))>0};function Gh(a,b){this.x=Number(a)||0;this.y=Number(b)||0}A(Gh,L);function Hh(a){return new Gh(a.x,a.y)}u=Gh.prototype;u.ja=function(){return new Gh(this.x,this.y)};u.scale=function(a){this.x*=a;this.y*=a;return this};u.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y))};u.add=function(a){this.x+=a.x;this.y+=a.y;return this};u.df=function(a){this.x-=a.x;this.y-=a.y;return this};function Ih(a,b,c,d,e){this.source=a!==undefined?a:new L(10,0);this.target=b!==undefined?b:M(this.source,new L(2,0));this.style=c!==undefined?c:Jh;this.wh=d!==undefined?d:"";this.Eg=e!==undefined?e:""}u=Ih.prototype;u.translate=function(a){this.source=M(this.source,a);this.target=M(this.target,a)};u.wa=function(){var a=Hh(this.source);return a.add(Hh(this.target).df(a).scale(0.5))};
u.Ef=function(a){var b=new L((this.source.x+this.target.x)/2,(this.source.y+this.target.y)/2),c=new Hh(vc(this.source,this.target));return Fh(new Eh(b,M(b,new Gh(-c.y,c.x))),a,this.target)?Kh:Lh};u.hg=function(a){this.wh=a?a:""};u.fg=function(a){this.Eg=a?a:""};u.toString=function(){return"kemia.model.Arrow "+this.source.toString()+" "+this.target.toString()};var Jh=1,Kh=1,Lh=2;function Mh(a){this.a=a!==undefined?a:new L(0,0)}Mh.prototype.translate=function(a){this.a=M(this.a,a)};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Nh(){this.Fd={};O.call(this)}A(Nh,O);var Oh=eb({El:"editArrow",Fl:"editPlus"});u=Nh.prototype;u.Xb=function(a){return a in Oh};u.Gc=xh("ArrowPlusEdit");u.Uc=function(a,b,c){this.Fd[a]=c};u.M=E("kemia.controller.plugins.ArrowPlusEdit");
u.ib=function(a){if(this.Fd.editArrow){Q(this.b);var b=this.b.k.ca.transform.ob();b=R(b,[new L(a.offsetX,a.offsetY)]);Ph(this.b.r[0],new Ih(b[0]));S(this.b,this.b.r);P(this.b)}else if(this.Fd.editPlus){Q(this.b);b=this.b.k.ca.transform.ob();b=R(b,[new L(a.offsetX,a.offsetY)]);a=this.b.r[0];b=new Mh(b[0]);a.Hb.push(b);b.Ja=a;S(this.b,this.b.r);P(this.b)}};u.xd=function(){this.Fd.editArrow=n;this.Fd.editPlus=n};u.queryCommandValue=function(a){var b=l;if(this.Xb(a))b=this.Fd[a];return b};var Qh={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function Rh(a){this.cf={};this.Ic={zd:[],sj:0};this.pk=ib(Sh);this.Pj=k;this.Mj=this.Qj=n;this.Rk=k;this.Hc=a;Ed(this.Hc,"keydown",this.md,n,this);Wb&&G&&K("1.8")&&Ed(this.Hc,"keyup",this.ri,n,this);if(Xb&&!G){Ed(this.Hc,"keypress",this.ti,n,this);Ed(this.Hc,"keyup",this.ui,n,this)}}var Th;A(Rh,Qd);var Sh=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],Uh={Ej:"shortcut",Dj:"shortcut_"};u=Rh.prototype;
u.xh=function(a){var b=Vh,c=this.cf,d=arguments;if(x(d[1])){d=d[1];d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();d=d.split(" ");for(var e=[],f,h=0;f=d[h];h++){var i=f.split("+"),j;f=0;for(var m,o=0;m=i[o];o++){switch(m){case "shift":f|=1;continue;case "ctrl":f|=2;continue;case "alt":f|=4;continue;case "meta":f|=8;continue}j=m;if(!Th){i={};m=void 0;for(m in Qh)i[Qh[m]]=m;Th=i}j=Th[j];break}e.push({keyCode:j,Oi:f})}d=e}else{e=d;h=1;if(ia(d[1])){e=d[1];h=0}for(d=[];h<e.length;h+=
2)d.push({keyCode:e[h],Oi:e[h+1]})}b(c,d,a)};u.p=function(){Rh.h.p.call(this);this.cf={};Gd(this.Hc,"keydown",this.md,n,this);Wb&&G&&K("1.8")&&Gd(this.Hc,"keyup",this.ri,n,this);if(Xb&&!G){Gd(this.Hc,"keypress",this.ti,n,this);Gd(this.Hc,"keyup",this.ui,n,this)}this.Hc=l};u.ri=function(a){if(a.keyCode==224){this.Mi=k;lf(function(){this.Mi=n},400,this)}else{var b=a.metaKey||this.Mi;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&b){a.metaKey=b;this.md(a)}}};
function Wh(a,b){return Xb&&!G&&b.ctrlKey&&b.altKey&&!b.shiftKey}u.ti=function(a){if(a.keyCode>32&&Wh(this,a))this.Gi=k};u.ui=function(a){!this.Gi&&Wh(this,a)&&this.md(a)};function Vh(a,b,c){var d=b.shift();d=d.keyCode&255|d.Oi<<8;var e=a[d];if(e&&c&&(b.length==0||x(e)))g(Error("Keyboard shortcut conflicts with existing shortcut"));if(b.length){e||(e=a[d]={});Vh(e,b,c)}else a[d]=c}function Xh(a,b,c,d){c=c||0;if((d=(d||a.cf)[b[c]])&&!x(d)&&b.length-c>1)return Xh(a,b,c+1,d);return d}
u.md=function(a){if(Yh(this,a))if(a.type=="keydown"&&Wh(this,a))this.Gi=n;else{var b=a.keyCode&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8,c,d,e=va();if(this.Ic.zd.length&&e-this.Ic.sj<=1500)c=Xh(this,this.Ic.zd);else this.Ic.zd.length=0;c=c?c[b]:this.cf[b];if(!c){c=this.cf[b];this.Ic.zd=[]}if(c&&x(c))d=c;else if(c){this.Ic.zd.push(b);this.Ic.sj=e;G&&a.preventDefault()}else this.Ic.zd.length=0;if(d){this.Pj&&a.preventDefault();this.Qj&&a.stopPropagation();b=this.dispatchEvent(new Zh(Uh.Ej,
d,a.target));b&=this.dispatchEvent(new Zh(Uh.Dj+d,d,a.target));b||a.preventDefault();this.Ic.zd.length=0}}};
function Yh(a,b){var c=b.keyCode;if(c==16||c==17||c==18)return n;var d=b.target,e=d.tagName=="TEXTAREA"||d.tagName=="INPUT"||d.tagName=="BUTTON"||d.tagName=="SELECT",f=!e&&(d.isContentEditable||d.ownerDocument&&d.ownerDocument.designMode=="on");if(!e&&!f)return k;if(a.pk[c]||a.Mj)return k;if(f)return n;if(a.Rk&&(b.altKey||b.ctrlKey||b.metaKey))return k;if(d.tagName=="INPUT"&&(d.type=="text"||d.type=="password"))return c==13;if(d.tagName=="INPUT"||d.tagName=="BUTTON")return c!=32;return n}
function Zh(a,b,c){bd.call(this,a,c);this.identifier=b}A(Zh,bd);/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function $h(){O.call(this)}A($h,O);$h.prototype.Xb=function(a){return a=="selectSymbol"};$h.prototype.Gc=xh("selectSymbol");var ai=[{id:"H",key:"h"},{id:"C",key:"c"},{id:"N",key:"n"},{id:"S",key:"s"},{id:"P",key:"p"},{id:"O",key:"o"},{id:"F",key:"f"},{id:"I",key:"i"},{id:"+",key:[187,1]},{id:"-",key:189}];u=$h.prototype;u.Ae=function(){return ai};u.xd=function(){this.T=undefined};u.Uc=function(a,b){this.T=b};u.M=E("kemia.controller.plugins.AtomEdit");
u.Gf=function(a){try{var b=a.identifier,c=Na(ai,function(e){return e.id==b});if(c){B(this.b.selected,function(e){if(e instanceof T)if("+"==c.id){Q(this.b);e.Ya++;this.b.Mc(this.b.r);P(this.b)}else if("-"==c.id){Q(this.b);e.Ya--;this.b.Mc(this.b.r);P(this.b)}else{var f=c.id;if(f!=e.T){Q(this.b);bi(this,f,e);this.b.Mc(this.b.r);P(this.b);return k}}},this);return k}}catch(d){this.M.info(d)}};
u.Ee=function(a){if(this.T){this.b.selected.length=0;this.b.$.style.cursor="default";var b=ci(this.b,a);a.currentTarget.m&&a.currentTarget.m.clear();if(b instanceof T){di(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.yb(b,a.currentTarget.m):this.yb(b);return k}}return n};
u.ib=function(a){if(this.T){var b=this.b.selected;if(b.length)if(b.length==1&&a.shiftKey){a=b[0];ei(a.v,a,fi,gi,this.T);this.b.Mc(this.b.r);P(this.b);return k}else B(b,function(c){if(c instanceof T)if(this.T&&this.T!=c.T){Q(this.b);bi(this,this.T,c);this.b.Mc(this.b.r);P(this.b);return k}},this);else{this.ue(hi(a));this.b.Mc(this.b.r);P(this.b);return k}}return n};u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"purple",b)};
function bi(a,b,c){var d=new T(b,c.a.x,c.a.y),e=c.v;B(c.g.L(),function(f){var h=f.ja();h.v=undefined;c==h.source?h.source=d:h.target=d;ii(e,h);ji(e,f)});ki(e,c);li(e,d)}u.ue=function(a){a=mi(this.b.k.transform.ob(),[a])[0];var b=new T(this.T,a.x,a.y);a=new U;li(a,b);if(this.b.r.length>0){b=this.b.r[0];ni(b,a)}};u.queryCommandValue=function(a){if(a=="selectSymbol")return this.T};var oi={};var pi={C:4,Si:4,N:3,P:3,O:2,S:2,H:1,Br:1,Cl:1,I:1,F:1};function T(a,b,c,d,e,f){this.T=a!==undefined?a:"C";this.a=new L(b?b:0,c?c:0);this.g=new ob;this.Ya=d?d:0;this.Sf=f?f:0;this.dc=e!==undefined?e:n;this.Bm=l;this.ea=Array(3)}T.prototype.Bb=function(){return this.g.Af()};function qi(a){var b=pi[a.T],c=a.g.L();c=Ka(c,function(e,f){return e+f.Fa},0);var d=0;if(b)d=b-c+a.Ya;return d}function ri(a){for(var b=a.g.L(),c=[],d=0,e=b.length;d<e;d++)c.push(V(b[d],a));return c}
function si(a){var b=a.g.L(),c;if(b.length==0)c=0;else if(b.length==1){var d=V(b[0],a),e=Pg(a.a.x,a.a.y,d.a.x,d.a.y);b=C(d.g.L(),function(f){f=V(f,d);if(f!=a)return Qg(e,Pg(d.a.x,d.a.y,f.a.x,f.a.y))});Wa(b);c=b[0]>0?e-120:e+120}else if(b.length==2){b=C(b,function(f){f=V(f,a);return Pg(a.a.x,a.a.y,f.a.x,f.a.y)});c=Qg(b[0],b[1]);if(Math.abs(c)<180)c=180+c/2;else c/=2;c=b[0]+c}else if(b.length==3){Wa(b,function(f,h){return Xa(V(f,a).g.L().length,V(h,a).g.L().length)});b=Ua(b,0,2);b=C(b,function(f){f=
V(f,a);return Pg(a.a.x,a.a.y,f.a.x,f.a.y)});c=b[0]+Qg(b[0],b[1])/2}return c}T.prototype.ja=function(){return new T(this.T,this.a.x,this.a.y,this.Ya,this.dc,this.Sf)};T.prototype.lb=function(a,b){this.ea[a]=b};T.prototype.toString=function(){return"kemia.model.Atom ["+this.T+"] "+this.a.toString()};function X(a,b,c,d,e,f){this.source=a;this.target=b;this.Fa=c!==undefined?c:fi;this.fa=d!==undefined?d:gi;this.dc=e!==undefined?e:n;this.v=f!==undefined?f:l}function V(a,b){if(b===a.source)return a.target;if(b===a.target)return a.source;return l}X.prototype.ja=function(){return new X(this.source,this.target,this.Fa,this.fa,this.dc,this.v)};var fi=1,gi=10;
X.prototype.toString=function(){return"kemia.model.Bond["+this.Fa+", "+this.fa+"]  "+this.source.toString()+" -- "+this.target.toString()+" mol: "+(this.v?this.v.name:"no molecule")};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function ti(){O.call(this);this.tg=n}A(ti,O);ti.prototype.Xb=function(a){return a=="selectBond"};ti.prototype.Gc=xh("selectBond");ti.prototype.Uc=function(a,b){this.Xa=b};var ui=[{id:"1",key:"1"},{id:"2",key:"2"},{id:"3",key:"3"},{id:"4",key:"4"},{id:"5",key:"5"},{id:"6",key:"6"},{id:"7",key:"7"},{id:"8",key:"8"},{id:"9",key:"9"}];ti.prototype.Ae=function(){return ui};
var vi=[{caption:"Single",Fa:fi,fa:gi},{caption:"Double",Fa:2,fa:gi},{caption:"Triple",Fa:3,fa:gi},{caption:"Quadruple",Fa:4,fa:gi},{caption:"Single Up",Fa:fi,fa:11},{caption:"Single Down",Fa:fi,fa:13},{caption:"Single Up or Down",Fa:fi,fa:12}];u=ti.prototype;u.M=E("kemia.controller.plugins.BondEdit");
u.Gf=function(a){var b=Na(ui,function(c){return c.id==a.identifier});b&&B(this.b.selected,function(c){var d=parseInt(b.id);if(c instanceof T){c=c;Q(this.b);for(var e=0;e<d;e++){var f=ei(c.v,c,fi,gi);if(f)c=V(f,c)}S(this.b,this.b.r);P(this.b);return k}return k},this)};
u.Ee=function(a){if(this.Xa&&!this.tg){var b=ci(this.b,a);this.b.selected.length=0;this.b.$.style.cursor="default";a.currentTarget.m&&a.currentTarget.m.clear();a.currentTarget.m=undefined;if(b instanceof T){di(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.yb(b,a.currentTarget.m):this.yb(b);return k}else if(b instanceof X){di(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.ic(b,a.currentTarget.m):this.ic(b);return k}}return n};
u.ib=function(a){try{var b=this.b.selected;if(b.length)B(b,function(d){if(d instanceof T)if(this.Xa){Q(this.b);d=ei(d.v,d,this.Xa.Fa,this.Xa.fa);this.b.selected.length=0;di(this.b,d);S(this.b,this.b.r);P(this.b);return k}if(d instanceof X)if(this.Xa)if(this.Xa.Fa!=d.Fa||this.Xa.fa!=d.fa||d.fa!=gi){Q(this.b);var e=this.Xa.fa!=gi&&d.fa==this.Xa.fa?new X(d.target,d.source,this.Xa.Fa,this.Xa.fa):new X(d.source,d.target,this.Xa.Fa,this.Xa.fa),f=d.v;ji(f,d);ii(f,e);S(this.b,this.b.r);P(this.b);return k}},
this);else if(this.Xa){Q(this.b);this.ue(hi(a));S(this.b,this.b.r);P(this.b);return k}}catch(c){this.M.log(zb,c,void 0)}};u.ue=function(a){a=mi((this.b.k.transform?this.b.k.transform:this.b.k.ca.transform).ob(),[a])[0];var b=new T("C",a.x,a.y);a=new U;li(a,b);ei(a,b,this.Xa.Fa,this.Xa.fa);if(this.b.r.length>0){b=this.b.r[0];b instanceof wi&&ni(b,a)}else this.b.Mc([a])};u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"green",b)};u.ic=function(a,b){return this.b.k.ca.Jd.l(a).ka(a,"green",b)};
u.xd=function(){this.Xa=undefined};u.queryCommandValue=function(a){if(a=="selectBond")return this.Xa};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function xi(){O.call(this)}A(xi,O);xi.prototype.Gc=xh("clearEditor");xi.prototype.Xb=function(a){return a=="clearEditor"};xi.prototype.Uc=function(){try{Q(this.b);this.b.clear()}catch(a){this.M.info(a)}};xi.prototype.Hi=yh;/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function yi(){O.call(this)}A(yi,O);u=yi.prototype;u.Xb=function(a){return a=="erase"};u.Gc=xh("erase");u.M=E("kemia.controller.plugins.Erase");u.Uc=function(a,b,c){this.qa=c};
u.Ee=function(a){if(this.qa){var b=ci(this.b,a);this.b.$.style.cursor="default";a.currentTarget.m&&a.currentTarget.m.clear();if(b instanceof T){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.m=a.currentTarget.m?this.yb(b,a.currentTarget.m):this.yb(b);return k}else if(b instanceof X){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.m=a.currentTarget.m?this.ic(b,a.currentTarget.m):this.ic(b);return k}else if(b instanceof
U){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.m=a.currentTarget.m?this.od(b,a.currentTarget.m):this.od(b);return k}else if(b instanceof Mh){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.m=a.currentTarget.m?this.Je(b,a.currentTarget.m):this.Je(b);return k}else if(b instanceof Ih){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';if(a.currentTarget.Gk)a.currentTarget.m=
this.Ie(b,a.currentTarget.m);else a.currentTarget.Gk=this.Ie(b)}else{a.currentTarget.m=undefined;return n}}return n};u.ib=function(a){var b=n;if(this.qa){Q(this.b);a=ci(this.b,a);if(a instanceof T){zi(this,a);b=k}if(a instanceof X){Ai(this,a);b=k}if(a instanceof U){(b=a.Ja)?Bi(b,a):Oa(this.b.r,a);S(this.b,this.b.r);b=k}if(a instanceof Mh){Oa(a.Ja.Hb,a);a.Ja=undefined;S(this.b,this.b.r);b=k}if(a instanceof Ih){Oa(a.Ja.ia,a);a.Ja=undefined;S(this.b,this.b.r);b=k}P(this.b)}return b};
function zi(a,b){var c=b.v;B(b.g.L(),function(d){ji(c,d)});ki(c,b);c.e.length==0&&Bi(c.Ja,c);S(a.b,a.b.r)}function Ai(a,b){var c=a.b.r,d=b.v;ji(d,b);var e=Ci(d);Gb(a.M,"fragements.length: "+e.length);var f=d.Ja;if(f){Bi(f,d);B(e,function(h){ni(f,h)})}S(a.b,c)}u.xd=function(){this.qa=n;this.b.$.style.cursor="default"};u.queryCommandValue=function(a){var b=l;if(a=="erase")b=this.qa;return b};u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"#ff6666",b)};
u.ic=function(a,b){return this.b.k.ca.Jd.l(a).ka(a,"#ff6666",b)};u.Je=function(a,b){return this.b.k.dg.ka(a,"#ff6666",b)};u.Ie=function(a,b){return this.b.k.nf.ka(a,"#ff6666",b)};u.od=function(a,b){return this.b.k.ca.ka(a,"#ff6666",b)};function Di(a){a=String(a);var b;b=/^\s*$/.test(a)?n:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{return eval("("+a+")")}catch(c){}g(Error("Invalid JSON string: "+a))}function Ei(a){return Fi(new Gi,a)}function Gi(){}function Fi(a,b){var c=[];Hi(a,b,c);return c.join("")}
function Hi(a,b,c){switch(typeof b){case "string":Ii(a,b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==l){c.push("null");break}if(ia(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++){c.push(e);Hi(a,b[f],c);e=","}c.push("]");break}c.push("{");d="";for(e in b)if(b.hasOwnProperty(e)){f=b[e];if(typeof f!="function"){c.push(d);Ii(a,e,c);c.push(":");Hi(a,f,c);d=","}}c.push("}");break;case "function":break;
default:g(Error("Unknown type: "+typeof b))}}var Ji={'"':'\\"',"\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","":"\\u000b"},Ki=/\uffff/.test("?")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function Ii(a,b,c){c.push('"',b.replace(Ki,function(d){if(d in Ji)return Ji[d];var e=d.charCodeAt(0),f="\\u";if(e<16)f+="000";else if(e<256)f+="00";else if(e<4096)f+="0";return Ji[d]=f+e.toString(16)}),'"')};function Li(a,b){this.e=a;this.g=b;this.ea=Array(3);this.qb=l}Li.prototype.lb=function(a,b){this.ea[a]=b};Li.prototype.wa=function(){if(!this.qb){for(var a=0,b=0,c=0,d=this.e.length;c<d;c++){a+=this.e[c].a.x;b+=this.e[c].a.y}this.qb=new L(a/this.e.length,b/this.e.length)}return this.qb};Li.prototype.toString=function(){return"kemia.ring.Ring \n\t"+C(this.e,function(a){return" "+a.toString()},this).join("\n\t")+"\n\t"+C(this.g,function(a){return" "+a.toString()},this).join("\n\t")+"\n\t"};function Mi(a){this.e=a}function Ni(a){var b=a.e.length-1;return a.e.length>2&&a.e[0]==a.e[b]}
Mi.prototype.splice=function(a){var b;var c=a.e,d=this.e.length-1,e=c.length-1;if(this.e[d]==c[0]||this.e[d]==c[e])b=this.e[d];else if(this.e[0]==c[0]||this.e[0]==c[e])b=this.e[0];else g("Couldn't splice - no intersection");c=[];d=0;for(e=this.e.length;d<e;d++)c.push(this.e[d]);this.e[0]==b&&c.reverse();if(a.e[0]==b){d=1;for(e=a.e.length;d<e;d++)c.push(a.e[d])}else for(d=a.e.length-2;d>=0;d--)c.push(a.e[d]);a:{a=1;for(b=c.length-1;a<b;a++)for(d=1;d<b;d++)if(a!=d)if(c[a]==c[d]){a=n;break a}a=k}if(!a)return l;
return new Mi(c)};function Oi(a){this.Ec=[];this.e=[];for(var b=0,c=a.Bb();b<c;b++){var d=a.g[b];this.Ec.push(new Mi([d.source,d.target]))}b=0;for(c=Y(a);b<c;b++)this.e.push(a.e[b])}
Oi.prototype.remove=function(a,b){for(var c=[],d=0,e=this.Ec.length;d<e;d++){var f=this.Ec[d];if(Ni(f))D(f.e,a)&&c.push(f);else{var h=f.e.length-1;if(f.e[0]==a||f.e[h]==a)c.push(f)}}d=[];f=0;for(h=c.length;f<h;f++)Ni(c[f])&&d.push(c[f]);f=0;for(h=d.length;f<h;f++){D(c,d[f])&&Oa(c,d[f]);D(this.Ec,d[f])&&Oa(this.Ec,d[f])}e=[];f=0;for(h=c.length;f<h;f++)for(var i=f+1;i<h;i++){var j=c[i].splice(c[f]);j!=l&&e.push(j)}f=0;for(h=c.length;f<h;f++)D(this.Ec,c[f])&&Oa(this.Ec,c[f]);f=0;for(h=e.length;f<h;f++)!D(this.Ec,
e[f])&&e[f].e.length<=b+1&&this.Ec.push(e[f]);Oa(this.e,a);return d};function Pi(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];e instanceof Array?b.push(Pi(e)):b.push(e)}return b}function Qi(a,b,c){if(a.length)a.push(b[0].concat(c[0]));else a[0]=b[0].concat(c[0])}function Ri(a,b){return a.Cnum-b.Cnum}
function Si(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var h=b[e];if(a.length>=h.length){for(var i=k,j=0,m=h.length;j<m;j++)D(a,h[j])||(i=n);if(i)return k}j=0;for(m=a.length;j<m;j++)D(h,a[j])&&d[j]++}b=n;j=0;for(m=a.length;j<m;j++)if(d[a[j]]<c[a[j]]-1)b=k;if(b){j=0;for(m=a.length;j<m;j++)d[a[j]]++;return n}return k}function Ti(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=b.g[a[d]],h=Ui(b,f.source);f=Ui(b,f.target);D(c,h)||c.push(h);D(c,f)||c.push(f)}return c}
function Vi(a){var b=a.Bb()-Y(a)+1;if(!b)return[];var c;c=Y(a);for(var d=[],e=0;e<c;e++){for(var f=[],h=0;h<c;h++)if(e==h)f.push(0);else Wi(a,a.e[e],a.e[h])?f.push(1):f.push(99999999);d.push(f)}e=[];for(f=0;f<c;f++){h=[];for(var i=0;i<c;i++){var j=Wi(a,a.e[f],a.e[i]);j?h.push([[Ia(a.g,j)]]):h.push([])}e.push(h)}f=[];for(h=0;h<c;h++){i=[];for(j=0;j<c;j++)i.push([]);f.push(i)}for(h=0;h<c;h++)for(i=0;i<c;i++)for(j=0;j<c;j++){var m=d[i][j],o=d[i][h]+d[h][j],p=e[i][h],q=e[h][j];if(o!=1E8)if(m>o){f[i][j]=
m==o+1?Pi(e[i][j]):[];d[i][j]=o;e[i][j]=[p[0].concat(q[0])]}else if(m==o)p.length&&q.length&&Qi(e[i][j],p,q);else if(m==o-1)Qi(f[i][j],p,q);else d[i][j]=d[i][j]}c={D:d,Pe1:e,Pe2:f};d=c.D;e=c.Pe1;f=c.Pe2;h=d.length;c=[];for(i=0;i<h;i++)for(j=0;j<h;j++)d[i][j]==0||e[i][j].length==1&&f[i][j].length==0||c.push({Cnum:f[i][j].length?2*(d[i][j]+0.5):2*d[i][j],Pe1:e[i][j],Pe2:f[i][j]});c.sort(Ri);a:{d=[];e=[];f=0;for(h=Y(a);f<h;f++)e.push(a.e[f].Bb());i=[];for(f=0;f<Y(a);f++)i[f]=0;f=0;for(h=c.length;f<h;f++){j=
c[f];if(j.Cnum%2){m=0;for(o=j.Pe2.length;m<o;m++){p=p=j.Pe1[0].concat(j.Pe2[m]);q=d;var t=e,v=i,y=Ti(p,a);if(p.length===y.length)Si(y,q,t,v)||q.push(y);if(d.length==b){b=d;break a}}}else{m=0;for(o=j.Pe1.length-1;m<o;m++){p=p=j.Pe1[m].concat(j.Pe1[m+1]);q=d;t=e;v=i;y=Ti(p,a);if(p.length===y.length)Si(y,q,t,v)||q.push(y);if(d.length==b){b=d;break a}}}}b=d}c=0;for(d=b.length;c<d;c++){e=b;f=c;h=b[c];i=a;j=[h[0]];m=i.e[h[0]];for(o=0;h.length!=j.length;){o++;if(o>1E3)break;p=1;for(q=h.length;p<q;p++){t=
i.e[j[j.length-1]];v=i.e[h[p]];if(!D(j,h[p]))if(Wi(i,t,v))j.push(h[p]);else Wi(i,m,v)&&Ta(j,0,0,h[p])}}e[f]=j}return b};function Xi(a,b){for(var c=[],d=0,e=a.length;d<e;d++)c.push(b.e[a[d]]);e=[];d=0;for(var f=c.length-1;d<f;d++){var h=Wi(b,c[d],c[d+1]);h!=l&&e.push(h)}h=Wi(b,c[0],c[c.length-1]);h!=l&&e.push(h);return new Li(c,e)};function Yi(a,b,c,d,e,f){if(arguments.length==6)this.setTransform(a,b,c,d,e,f);else if(arguments.length!=0)g(Error("Insufficient matrix parameters"));else{this.ha=this.sa=1;this.ya=this.Ea=this.jb=this.kb=0}}u=Yi.prototype;u.ja=function(){return new Yi(this.ha,this.ya,this.Ea,this.sa,this.jb,this.kb)};u.setTransform=function(a,b,c,d,e,f){if(!ka(a)||!ka(b)||!ka(c)||!ka(d)||!ka(e)||!ka(f))g(Error("Invalid transform parameters"));this.ha=a;this.ya=b;this.Ea=c;this.sa=d;this.jb=e;this.kb=f;return this};
u.scale=function(a,b){this.ha*=a;this.ya*=a;this.Ea*=b;this.sa*=b;return this};u.translate=function(a,b){this.jb+=a*this.ha+b*this.Ea;this.kb+=a*this.ya+b*this.sa;return this};u.rotate=function(a,b,c){a=Zi(new Yi,a,b,c);b=this.ha;c=this.Ea;this.ha=a.ha*b+a.ya*c;this.Ea=a.Ea*b+a.sa*c;this.jb+=a.jb*b+a.kb*c;b=this.ya;c=this.sa;this.ya=a.ha*b+a.ya*c;this.sa=a.Ea*b+a.sa*c;this.kb+=a.jb*b+a.kb*c;return this};
u.toString=function(){return"matrix("+[this.ha,this.ya,this.Ea,this.sa,this.jb,this.kb].join(",")+")"};u.transform=function(a,b,c,d,e){var f=b;d=d;for(b=b+2*e;f<b;){e=a[f++];var h=a[f++];c[d++]=e*this.ha+h*this.Ea+this.jb;c[d++]=e*this.ya+h*this.sa+this.kb}};u.ob=function(){var a=this.ha*this.sa-this.Ea*this.ya;return new Yi(this.sa/a,-this.ya/a,-this.Ea/a,this.ha/a,(this.Ea*this.kb-this.sa*this.jb)/a,(this.ya*this.jb-this.ha*this.kb)/a)};
function $i(a,b){return(new Yi).setTransform(1,0,0,1,a,b)}function aj(a,b,c){return a.setTransform(b,0,0,c,0,0)}function Zi(a,b,c,d){var e=Math.cos(b);b=Math.sin(b);return a.setTransform(e,b,-b,e,c-c*e+d*b,d-c*b-d*e)};function bj(a,b,c,d,e,f){Yi.call(this);arguments.length==6&&this.setTransform(a,b,c,d,e,f)}A(bj,Yi);function R(a,b){var c=C(b,function(f){return[f.x,f.y]}),d=Za(c);c=[];a.transform(d,0,c,0,d.length/2);d=[];for(var e=0;e<c.length;e+=2)d.push(new L(c[e],c[e+1]));return d}function mi(a,b){return R(a,b)}bj.prototype.ob=function(){var a=this.ha*this.sa-this.Ea*this.ya;return new bj(this.sa/a,-this.ya/a,-this.Ea/a,this.ha/a,(this.Ea*this.kb-this.sa*this.jb)/a,(this.ya*this.jb-this.ha*this.kb)/a)};function U(a){this.g=[];this.e=[];this.name=a?a:"";this.id=undefined;this.nj=[];this.Zf=k;this.Eb=[];this.Sd=0}function ii(a,b){var c=Ui(a,b.source),d=Ui(a,b.target);if(a.Eb[c]!=a.Eb[d]){var e;if(a.Eb[c]<a.Eb[d]){c=a.Eb[c];e=a.Eb[d]}else{e=a.Eb[c];c=a.Eb[d]}a.Sd--;d=0;for(var f=a.e.length;d<f;d++)if(a.Eb[d]==c)a.Eb[d]=e}a.g.push(b);b.source.g.add(b);b.target.g.add(b);li(a,b.source);li(a,b.target);b.v=a}
function cj(a){var b=1.25;if(a.g.length)b=Ka(a.g,function(c,d){return c+uc(d.source.a,d.target.a)},0)/a.g.length;return b}function Wi(a,b,c){a=b.g.L();for(var d=0,e=a.length;d<e;d++){var f=a[d];if(V(f,b)==c)return f}return l}function Ui(a,b){return Ia(a.e,b)}function ki(a,b){var c;if(b.constructor==Number)c=a.e[b];else if(b.constructor==T)c=b;var d=c.g.L();B(d,function(e){Oa(this.g,e)},a);c.g.clear();Oa(a.e,c);c.v=undefined}
function ji(a,b){var c;c=b.constructor==Number?a.g[b]:b;c.source.g.remove(c);c.target.g.remove(c);if(c.source.g.L().length==0){Oa(a.e,c.source);c.source.v=undefined}if(c.target.g.L().length==0){Oa(a.e,c.target);c.target.v=undefined}Oa(a.g,c);c.v=undefined;c.source=undefined;c.target=undefined}function Y(a){return a.e.length}u=U.prototype;u.Bb=function(){return this.g.length};function li(a,b){if(!D(a.e,b)){var c=a.e.length;a.Sd++;a.Eb[c]=a.Sd;a.e.push(b);b.v=a}}
function dj(a){if(a.Zf){var b;if(a.Bb()-Y(a)+a.Sd){b=0;for(var c=a.e.length;b<c;b++){var d=a.e[b];d.index=b;d.oc=undefined;d.ee=undefined;a.e[b].index=b}b=0;for(c=a.g.length;b<c;b++)a.g[b].index=b;if(c=Y(a)){b=Ya(n,c);c=Ya(n,c);d=[];var e=a.e[0];e.oc=0;d.push(e);for(b[0]=k;;){if(!d.length)break;e=d[0];Pa(d,0);for(var f=e.g.L(),h=0,i=f.length;h<i;h++){var j=f[h],m=j.index;if(!c[m]){c[m]=k;var o=V(j,e);j=o.index;if(b[j]){j=[];if(e.oc==o.oc){j.push(e);j.push(o)}else{o.ee=k;var p=ri(o);m=0;for(var q=
p.length;m<q;m++){var t=p[m];t.oc==o.oc-1&&j.push(t)}}for(o=e.oc;;){j[0].ee=k;j[1].ee=k;o--;p=ri(j[0]);m=0;for(q=p.length;m<q;m++)if(p[m].oc==o){j[0]=p[m];break}p=ri(j[1]);m=0;for(q=p.length;m<q;m++)if(p[m].oc==o){j[1]=p[m];break}if(j[0]==j[1]){j[0].ee=k;break}}}else{o.oc=e.oc+1;b[j]=k;d.push(o)}}}}}b=[];e=Y(a);c=Ya(n,e);d=Ya(n,e);e=Ya(-1,e);f=0;for(h=Y(a);f<h;f++){j=a.e[f];if(!c[j.index])if(j.ee){i=new U;q=[];q.push(j);c[0]=k;t=new T;t.Mf=j.index;e[j.index]=0;for(li(i,t);;){if(!q.length)break;o=
q[0];Pa(q,0);p=o.g.L();j=0;for(m=p.length;j<m;j++){var v=p[j];t=v.index;if(!d[t]){d[t]=k;v=V(v,o);t=v.index;if(v.ee){if(c[t]){t=Wi(a,o,v);var y=new X(i.e[e[o.index]],i.e[e[v.index]]);y.Mf=t.index}else{c[t]=k;q.push(v);t=new T;t.Mf=v.index;e[v.index]=i.e.length;li(i,t);v=Wi(a,o,v);y=new X(i.e[e[o.index]],t);y.Mf=v.index}ii(i,y)}}}}j=0;for(m=i.e.length;j<m;j++)i.e[j].index=j;j=0;for(m=i.g.length;j<m;j++)i.g[j].index=j;j=i.g.length-i.e.length+1;m=i;q=[];o=new Oi(m);p=0;for(t=Y(m);p<t;p++){v=o.remove(m.e[p],
6);for(y=0;y<v.length;y++){var H=v[y].e;Pa(H,H.length-1);for(var J=0,ma=H.length;J<ma;J++)H[J]=Ui(m,H[J]);q.push(H)}}Wa(q);m=q;if(m.length>=j){m=m;q=j;y=i;o=[];p=[];t=0;for(v=Y(y);t<v;t++)p.push(y.e[t].Bb());y=Ya(0,Y(y));t=0;for(v=m.length;t<v;t++){H=m[t];if(!Si(H,o,p,y)){o.push(H);if(o.length==q)break}}q=o;if(q.length<j)q=Vi(i)}else q=Vi(i);j=0;for(m=q.length;j<m;j++){o=q[j];p=0;for(t=o.length;p<t;p++)o[p]=i.e[o[p]].Mf}j=0;for(i=q.length;j<i;j++)b.push(Xi(q[j],a))}}b=b}else b=[];a.nj=b;a.Zf=n}return a.nj}
u.ja=function(){var a=new U(this.name);B(this.e,function(b){li(a,b)});B(this.g,function(b){ii(a,b)});return a};function Ci(a){var b=a.ja();if(b.Sd==1)return[b];var c=new lb;B(b.e,function(d){var e=b.Eb[Ui(b,d)];nb(c.Ua,e)==n&&c.Jb(e,new U);li(c.l(e),d)});B(b.g,function(d){var e=b.Eb[Ui(b,d.source)];ii(c.l(e),d)});return c.L()}function ej(a,b){for(var c=[],d=a.g.length,e=0;e<d;e++)if(a.g[e].source==b||a.g[e].target==b)c.push(a.g[e]);return c}
u.toString=function(){return"kemia.model.Molecule - name: "+this.name+"\n\t"+C(this.e,function(a){return" "+Ui(this,a)+": "+a.toString()},this).join("\n\t")+"\n\t"+C(this.g,function(a){return" "+Ui(this,a.source)+", "+Ui(this,a.target)+":  "+a.toString()},this).join("\n\t")+"\n\t"+C(dj(this),function(a){return a.toString()}).join("\n\t")};u.wa=function(){var a=fj(this);return new L((a.left+a.right)/2,(a.top+a.bottom)/2)};function fj(a){return Sd.apply(l,C(a.e,function(b){return b.a}))}
u.rotate=function(a,b){b!==undefined||(b=this.wa());var c=Zi(new bj,N(a),b.x,b.y);B(this.e,function(d){d.a=R(c,[d.a])[0]})};u.scale=function(a){var b=aj(new bj,a,a);B(this.e,function(c){c.a=R(b,[c.a])[0]})};u.translate=function(a){B(this.e,function(b){b.a=M(b.a,a)})};
function gj(a,b,c,d,e,f){Ga(D(b.g,c));Ga(D(a.g,d));Ga(D(e.g.L(),c));Ga(D(f.g.L(),d));var h=cj(a)/cj(b);b.scale(h);h=Hh(vc(f.a,e.a));var i=V(d,f),j=V(c,e);b.rotate(180+Qg(Pg(e.a.x,e.a.y,j.a.x,j.a.y),Pg(i.a.x,i.a.y,f.a.x,f.a.y)),e.a);b.translate(h);var m=[c];B(e.g.L(),function(o){if(!D(m,o)){e==o.source?o.source=f:o.target=f;m.push(o);ii(this,o)}},a);j=V(c,e);i=V(d,f);B(j.g.L(),function(o){if(!D(m,o)){j==o.source?o.source=i:o.target=i;ii(this,o);m.push(o)}},a);c=Ja(b.g,function(o){return!D(m,o)});B(c,
function(o){ii(this,o)},a);b.g.length=0;b.e.length=0;b.Ja&&Bi(b.Ja,b);delete b;a.Zf=k;return a}function ei(a,b,c,d,e){var f=1.25,h=b.g.L();if(h.length)f=Ka(h,function(j,m){return j+uc(m.source.a,m.target.a)},0)/h.length;h=si(b);if(h!=undefined){var i="C";if(e)i=e;e=new T(i,b.a.x+f*Math.cos(N(h)),b.a.y+f*Math.sin(N(h)));b=new X(b,e,c,d);li(a,e);ii(a,b);return b}}u.M=E("kemia.model.Molecule");/*
 Copyright 2010 Paul Novak (paul@wingu.com)

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function wi(){this.wi="";this.sd=[];this.ia=[];this.Hb=[]}u=wi.prototype;u.M=E("kemia.model.Reaction");
u.wg=function(a){var b=this.Vd(),c=new Gh(0,0),d=fj(a);if(b.length>0){b=hj(b);if(d.left<=b.right&&b.left<=d.right&&d.top<=b.bottom&&b.top<=d.bottom)c=new Gh(b.right-d.left+3,0)}a.translate(c);if(!this.nh(a)){c=this.Ud();d=fj(a).right+3;if(this.ia.length>0)d-=this.ia[0].source.x;var e=new Gh(d,0);B(this.ia,function(f){f.translate(e)});B(this.Hb,function(f){f.translate(e)});B(c,function(f){f.translate(e)})}Ga(this.nh(a));this.Hb.length=0;ni(this,a)};u.Vd=function(){return Ja(this.sd,this.nh,this)};
u.Ud=function(){return Ja(this.sd,this.mh,this)};function ni(a,b){a.sd.push(b);b.Ja=a}u.Yh=function(a,b){if(this.ia.length==0){var c=this.Vd();if(c.length>0){c=hj(c);c=new Ih(new L(c.right+3,(c.top+c.bottom)/2))}else c=new Ih(new L(3,0));Ph(this,c)}c=fj(a);var d=this.Ud(),e=0;if(d.length==0||b)e+=this.ia[0].target.x;else{d=hj(d);e+=d.right}e+=3;e-=c.left;if(e!=0){a.translate(new Gh(e,0));this.Hb.length=0}this.mh(a);ni(this,a)};u.nh=function(a){return this.ia.length>0?this.ia[0].Ef(a.wa())==Lh:k};
u.mh=function(a){return this.ia.length>0?this.ia[0].Ef(a.wa())==Kh:n};function Bi(a,b){Oa(a.sd,b);b.Ja=undefined}function Ph(a,b){if(a.ia.length)a.ia[0].Ja=undefined;a.ia.length=0;a.ia[0]=b;b.Ja=a}u.hg=function(a){this.ia.length>0&&this.ia[0].hg(a)};u.fg=function(a){this.ia.length>0&&this.ia[0].fg(a)};u.gk=r("Hb");
u.Zg=function(a){var b;Wa(a,function(c,d){return Xa(fj(c).left,fj(d).left)});B(a,function(c){if(b){var d,e=fj(b);d=fj(c);e=new Gh(e.right,e.top);d=e.add((new Gh(d.left,d.bottom)).df(e).scale(0.5));d=new Mh(d);this.Hb.push(d);d.Ja=this}b=c},this)};function hj(a){a=Za(C(a,function(b){return b.e}));a=C(a,function(b){return b.a});return a.length>0?Sd.apply(l,a):l}
function ij(a){if(a.ia.length>0){var b=a.ia[0],c=hj(a.Vd());a=hj(a.Ud());if(c||a){c||(c=new Rd(a.top,a.left-1,a.bottom,a.left-1));a||(a=new Rd(c.top,c.right+1,c.bottom,c.right+1));c=new Gh(c.right,c.top);c=c.add((new Gh(a.left,a.bottom)).df(c).scale(0.5));c=Hh(c).df(Hh(b.wa()));b.translate(c)}}}u.translate=function(a){B(this.sd,function(b){b.translate(a)});B(this.Hb,function(b){b.translate(a)});B(this.ia,function(b){b.translate(a)})};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function jj(a){if(a.Fa==fi)return"SINGLE_BOND";if(a.Fa==2)return"DOUBLE_BOND";if(a.Fa==3)return"TRIPLE_BOND";if(a.Fa==4)return"QUADRUPLE_BOND";g(Error("Invalid bond type ["+a.toString()+"]"))}function kj(a){if(a.fa==11)return"SINGLE_BOND_UP";if(a.fa==13)return"SINGLE_BOND_DOWN";if(a.fa==12)return"SINGLE_BOND_UP_OR_DOWN";return"NOT_STEREO"}
function lj(a,b,c,d){switch(a){case "SINGLE_BOND":switch(b){case "NOT_STEREO":return new X(c,d);case "SINGLE_BOND_UP":return new X(c,d,fi,11);case "SINGLE_BOND_UP_OR_DOWN":return new X(c,d,fi,12);case "SINGLE_BOND_DOWN":return new X(c,d,fi,13);default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}case "DOUBLE_BOND":return new X(c,d,2);case "TRIPLE_BOND":return new X(c,d,3);case "QUADRUPLE_BOND":return new X(c,d,4);case "AROMATIC":return new X(c,d,undefined,undefined,k);default:g(Error("invalid bond type/stereo ["+
a+"]/["+b+"]"))}}function mj(a){a=a.constructor==String?Di(a):a;var b=new U;b.name=a.name;b.id=a.id;B(a.atoms,function(c){li(b,new T(c.symbol,c.coord.x,c.coord.y,c.charge))});B(a.bondindex,function(c){ii(b,lj(c.type,c.stereo,b.e[c.source],b.e[c.target]))});return b}
function nj(a){var b=C(a.e,function(d){return{symbol:d.T,coord:{x:d.a.x,y:d.a.y},charge:d.Ya}}),c=C(a.g,function(d){var e=jj(d),f=kj(d);Ui(a,d.source);Ui(a,d.target);return{source:Ui(a,d.source),target:Ui(a,d.target),type:e,stereo:f}});return{name:a.name,id:a.id,atoms:b,bondindex:c}}function oj(a){return{source:{x:a.source.x,y:a.source.y},target:{x:a.target.x,y:a.target.y}}}function pj(a){return{x:a.a.x,y:a.a.y}}
function qj(a,b){var c;c=a.constructor==String?Di(a):a;var d=new wi,e=[];if(c.reactants)e=C(c.reactants,mj);var f=[];if(c.products)f=C(c.products,mj);d.wi=c.header;if(c.arrows)B(c.arrows,function(h){Ph(d,new Ih(new L(h.source.x,h.source.y),new L(h.target.x,h.target.y)))});else f.length>0&&Ph(d,new Ih);d.hg(c.reagents_text);d.fg(c.conditions_text);c.pluses&&B(c.pluses,function(h){h=new Mh(new L(h.x,h.y));d.Hb.push(h);h.Ja=d});B(e,function(h){d.wg(h)});B(f,function(h){d.Yh(h,b)});c.arrows||ij(d);if(d.Hb.length==
0){d.Zg(d.Vd());d.Zg(d.Ud())}return d}function rj(a){var b=a.wi,c=C(a.Vd(),nj),d=C(a.Ud(),nj),e=C(a.ia,oj),f=C(a.Hb,pj),h;if(a.ia.length>0)h=a.ia[0].wh;var i;if(a.ia.length>0)i=a.ia[0].Eg;return{header:b,reactants:c,products:d,reagents_text:h,conditions_text:i,arrows:e,pluses:f}}E("kemia.io.json");/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function sj(){O.call(this)}A(sj,O);sj.prototype.M=E("kemia.controller.plugins.MoleculeEdit");sj.prototype.Xb=function(a){return a=="selectMoleculeTemplate"};sj.prototype.Gc=xh("selectMoleculeTemplate");var tj=[{id:"benzene",key:"a"}];u=sj.prototype;u.Ae=function(){return tj};
u.Gf=function(a){var b=Na(tj,function(e){return e.id==a.identifier});if(b){var c=Na(uj,function(e){return e.name==b.id}),d=this.b.selected;if(d.length)B(d,function(e){if(e instanceof T){Q(this.b);vj(this,e,c);S(this.b,this.b.r);P(this.b);return k}if(e instanceof X){Q(this.b);wj(this,e,c);S(this.b,this.b.r);P(this.b);return k}},this);else return n}};u.Uc=function(a,b){this.cd=b};
u.ib=function(a){var b=this.b.selected;if(b.length&&this.cd)B(b,function(c){if(c instanceof T){Q(this.b);var d=Ra(c.v.e),e=vj(this,c,this.cd);e=Ja(e.e,function(f){return!D(d,f)});xj(this,a,e,c);S(this.b,this.b.r);P(this.b);return k}if(c instanceof X){Q(this.b);wj(this,c,this.cd);S(this.b,this.b.r);P(this.b);return k}},this);else if(this.cd){Q(this.b);this.ue(mi(this.b.k.transform?this.b.k.transform.ob():this.b.k.ca.transform.ob(),[hi(a)])[0],this.cd);S(this.b,this.b.r);P(this.b);return k}};
u.Ee=function(a){if(this.cd){var b=ci(this.b,a);this.b.selected.length=0;this.b.$.style.cursor="default";a.currentTarget.m&&a.currentTarget.m.clear();a.currentTarget.m=undefined;if(b instanceof T){di(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.yb(b,a.currentTarget.m):this.yb(b);return k}else if(b instanceof X){di(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.ic(b,a.currentTarget.m):this.ic(b);return k}}return n};
u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"yellow",b)};u.ic=function(a,b){return this.b.k.ca.Jd.l(a).ka(a,"yellow",b)};
function xj(a,b,c,d){var e=d.a,f=new nf(a.b.$);f.Fj=d.v;f.qb=e;f.Bc=R(a.b.k.transform?a.b.k.transform:a.b.k.ca.transform,[e])[0];f.hb=hi(b);f.oe=Pg(f.Bc.x,f.Bc.y,f.hb.x,f.hb.y);f.w=a.b;f.addEventListener("drag",function(){f.Fj.eb.clear();f.sb=f.sb||f.ub;f.tb=f.tb||f.vb;var h=Pg(f.Bc.x,f.Bc.y,f.hb.x+(f.ub-f.sb),f.hb.y+(f.vb-f.tb))-f.oe;h-=h%30;f.oe+=h;var i=Zi(new bj,-N(h),f.qb.x,f.qb.y);B(c,function(j){j.a=R(i,[j.a])[0]});S(f.w,f.w.r)});f.addEventListener("end",function(){f.aa()});f.yc(b)}
u.ue=function(a,b){if(b)var c=mj(b);var d=vc(a,c.wa());c.translate(d);if(this.b.r.length>0){d=this.b.r;var e=d[0];if(e instanceof wi)ni(e,c);else e instanceof U&&d.push(c)}else ni(new wi,c)};function wj(a,b,c){a=mj(c);gj(b.v,a,a.g[0],b,a.g[0].target,b.source)}function vj(a,b,c){a=ei(b.v,b,fi,gi);var d=V(a,b);c=mj(c);var e=c.e[0],f=ei(c,e,fi,gi);return gj(b.v,c,f,a,e,d)}u.M=E("kemia.controller.plugins.MoleculeEdit");u.xd=function(){this.cd=undefined};u.queryCommandValue=function(a){if(a=="selectMoleculeTemplate")return this.cd};
u.Wg=function(a){return Ja(C(a.e,function(b){var c=yj(this.b.Pe,{x:b.a.x,y:b.a.y},this);c=Ja(c,function(d){if(d instanceof T)if(!D(a.e,d))return k;return n});return c.length>0?[b,c[0]]:n},this),function(b){return b!=n},this)};
var uj=[{name:"benzene",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:3,
target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclohexane",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,
type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopentane",atoms:[{symbol:"C",coord:{x:-2.3083,y:0.4635,z:0},charge:0},{symbol:"C",coord:{x:-2.3083,y:1.9635,z:0},charge:0},{symbol:"C",coord:{x:-0.8817,y:2.427,
z:0},charge:0},{symbol:"C",coord:{x:0,y:1.2135,z:0},charge:0},{symbol:"C",coord:{x:-0.8817,y:0,z:0},charge:0}],bondindex:[{source:1,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopentane-house",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},
{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"naphthalene",
atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.2991,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.2991,y:0,z:0},charge:0},{symbol:"C",coord:{x:3.8971,y:3,z:0},charge:0},{symbol:"C",coord:{x:5.1962,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:5.1962,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:3.8971,y:0,z:0},charge:0}],bondindex:[{source:0,
target:1,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:6,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:6,target:7,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:7,target:8,type:"SINGLE_BOND",stereo:"NOT_STEREO"},
{source:8,target:9,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:9,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclobutane",atoms:[{symbol:"C",coord:{x:0,y:0},charge:0},{symbol:"C",coord:{x:0,y:1.5},charge:0},{symbol:"C",coord:{x:-1.5,y:1.5000000000000002},charge:0},{symbol:"C",coord:{x:-1.5000000000000002,y:1.1102230246251565E-16},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,
type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopropane",atoms:[{symbol:"C",coord:{x:0,y:0},charge:0},{symbol:"C",coord:{x:0,y:1.5},charge:0},{symbol:"C",coord:{x:-1.2990381056766582,y:0.7500000000000001},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]}];/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function zj(){O.call(this);this.qa={};this.qa[Aj]=k;this.kh=n}A(zj,O);var Aj="move",Bj=eb({Il:Aj,Ll:"rotate"});u=zj.prototype;u.Xb=function(a){return a in Bj};u.Gc=xh("move");u.xd=function(){this.qa[Aj]=n;this.qa.rotate=n};u.Uc=function(a,b,c){this.qa[a]=c};
u.Ee=function(a){if((this.qa[Aj]||this.qa.rotate)&&!this.kh){var b=ci(this.b,a);this.b.selected.length=0;this.b.$.style.cursor="default";a.currentTarget.m&&a.currentTarget.m.clear();if(this.qa.rotate){if(b instanceof U){di(this.b,b);this.b.$.style.cursor='url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';a.currentTarget.m=a.currentTarget.m?this.od(b,a.currentTarget.m):this.od(b);return k}}else if(b instanceof T){di(this.b,b);this.b.$.style.cursor="move";a.currentTarget.m=a.currentTarget.m?
this.yb(b,a.currentTarget.m):this.yb(b);return k}else if(b instanceof X){if(b.source.g.L().length==1||b.target.g.L().length==1){di(this.b,b);this.b.$.style.cursor="move";a.currentTarget.m=a.currentTarget.m?this.ic(b,a.currentTarget.m):this.ic(b)}return k}else if(b instanceof U){di(this.b,b);this.b.$.style.cursor="move";a.currentTarget.m=a.currentTarget.m?this.od(b,a.currentTarget.m):this.od(b);return k}else if(b instanceof Ih){di(this.b,b);if(!a.shiftKey){this.b.$.style.cursor="move";a.currentTarget.m=
a.currentTarget.m?this.Ie(b,a.currentTarget.m):this.Ie(b);return k}}else if(b instanceof Mh){di(this.b,b);if(!a.shiftKey){this.b.$.style.cursor="move";a.currentTarget.m=a.currentTarget.m?this.Je(b,a.currentTarget.m):this.Je(b);return k}}else if(!b){this.b.$.style.cursor="all-scroll";return k}return n}};
u.ib=function(a){if(this.qa[Aj]||this.qa.rotate){a.currentTarget.m&&a.currentTarget.m.clear();a.currentTarget.m=undefined;this.kh=k;var b=ci(this.b,a);if(this.qa.rotate)if(b instanceof U){Q(this.b);this.b.$.style.cursor='url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';Cj(this,a,b);P(this.b);return k}if(this.qa[Aj]){if(b instanceof T){Q(this.b);Dj(this,a,b);P(this.b);return k}if(b instanceof X){Q(this.b);Ej(this,a,b);P(this.b);return k}if(b instanceof U){Q(this.b);if(a.shiftKey){this.b.$.style.cursor=
'url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';Cj(this,a,b)}else Fj(this,a,b);P(this.b);return k}if(b instanceof Mh){Q(this.b);Gj(this,a,b);P(this.b);return k}if(b instanceof Ih){Q(this.b);Hj(this,a,b);P(this.b);return k}if(!b){Q(this.b);Ij(this,a);P(this.b);return k}}}return n};
u.nd=function(a){try{this.kh=n;var b=Ja(Jj(this.b,a),function(e){return e instanceof T&&e!==this.Og},this),c=b.length>0?b[0]:undefined;if(this.Og&&c instanceof T){Q(this.b);U.Hm(this.Og,c);this.Og=undefined;S(this.b,this.b.r);P(this.b);return k}}catch(d){this.M.log(zb,d,void 0)}};u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"#3366ff",b)};u.ic=function(a,b){return this.b.k.ca.Jd.l(a).ka(a,"#3366ff",b)};u.od=function(a,b){var c="#3366ff";if(a.Ja&&a.Ja.mh(a))c="purple";return this.b.k.ca.ka(a,c,b)};
u.Ie=function(a,b){return this.b.k.nf.ka(a,"#3366ff",b)};u.Je=function(a,b){return this.b.k.dg.ka(a,"#3366ff",b)};u.queryCommandValue=function(a){return this.qa[a]};
function Kj(a,b){var c=a.v,d=b.v;B(b.g.L(),function(h){var i=h.ja();b==i.source?i.source=a:i.target=a;ii(d,i);ji(d,h)});ki(d,b);if(c!==d){B(c.e,function(h){li(d,h)});B(c.g,function(h){h=h.ja();h.v=undefined;ii(d,h)});B(c.e,function(h){ki(c,h)});B(c.g,function(h){ji(c,h)});Bi(c.Ja,c);delete c}var e=d.ja(),f=d.Ja;Bi(f,d);ni(f,e);return e}
function Lj(a,b){var c=b.v;B(b.g.L(),function(f){var h=f.ja();b==h.source?h.source=a:h.target=a;ii(c,h);ji(c,f)});ki(c,b);var d=c.ja();B(d.g,aa());var e=c.Ja;Bi(e,c);ni(e,d);return d}
function Dj(a,b,c){var d=new nf(a.b.$);d.bc=b.clientX;d.cc=b.clientY;d.zg=c;d.w=a.b;d.addEventListener("drag",function(e){d.rb&&B(d.rb,function(h){h.clear()});d.rb=[];d.zg.v.eb&&d.zg.v.eb.clear();new $i(e.clientX-d.bc,e.clientY-d.cc);var f=mi(d.w.k.transform?d.w.k.transform.ob():d.w.k.ca.transform.ob(),[new L(e.clientX,e.clientY),new L(d.bc,d.cc)]);c.a=M(c.a,vc(f[0],f[1]));d.bc=e.clientX;d.cc=e.clientY;d.ug=Qa(c,C(c.g.L(),function(h){var i=V(h,c);return Qa(i,C(i.g.L(),function(j){return V(j,i)}))}));
e=this.b.Wg([c],d.ug);d.gb=Ua(e,0,1);B(e,function(h){d.rb.push(d.w.k.ca.zb.ka(h[0]));d.rb.push(d.w.k.ca.zb.ka(h[1]))});d.w.k.ca.R(d.zg.v,d.w.k.ca.transform)},undefined,a);d.addEventListener("end",function(){try{B(d.gb,function(f){f[0].v==f[1].v?Lj(f[0],f[1]):Kj(f[0],f[1])},this);S(d.w,d.w.r);d.gb=[];d.aa()}catch(e){this.M.log(zb,e,void 0)}},undefined,a);d.yc(b)}
function Ej(a,b,c){var d,e;if(c.source.g.L().length==1){d=c.target;e=c.source}else if(c.target.g.L().length==1){d=c.source;e=c.target}if(d){var f=new nf(a.b.$),h=d.a;f.Bc=R(a.b.k.transform?a.b.k.transform:a.b.k.ca.transform,[h])[0];f.hb=hi(b);f.oe=Pg(f.Bc.x,f.Bc.y,f.hb.x,f.hb.y);f.gb=[];f.of=c;f.w=a.b;f.addEventListener("drag",function(i){try{f.rb&&B(f.rb,function(y){y.clear()});f.rb=[];f.sb=f.sb||f.ub;f.tb=f.tb||f.vb;var j=f.ub-f.sb,m=f.vb-f.tb,o=Pg(f.Bc.x,f.Bc.y,f.hb.x+j,f.hb.y+m)-f.oe;o-=o%30;
f.oe+=o;var p=mi(Zi(new bj,-N(o),h.x,h.y),[f.of.source.a,f.of.target.a]);f.of.source.a=p[0];f.of.target.a=p[1];S(f.w,f.w.r);var q=ci(f.w,i,new L(f.hb.x+j,f.hb.y+m));if(q instanceof T&&q.v==e.v){var t=Qa(d,C(d.g.L(),function(y){return V(y,d)}));if(!D(t,q)){f.gb=[[q,e]];f.rb.push(f.w.k.ca.zb.ka(e));f.rb.push(f.w.k.ca.zb.ka(q))}}}catch(v){this.M.log(zb,v,void 0)}},undefined,a);f.addEventListener("end",function(){try{B(f.gb,function(j){j[0].v==j[1].v&&Lj(j[0],j[1])},this);S(f.w,f.w.r);f.gb=[];f.aa()}catch(i){this.M.log(zb,
i,void 0)}finally{this.tg=n}},undefined,a);a.tg=k;f.yc(b)}}function Gj(a,b,c){var d=new nf(a.b.$);d.bc=b.clientX;d.cc=b.clientY;d.uh=c;d.w=a.b;d.addEventListener("drag",function(e){new $i(e.clientX-d.bc,e.clientY-d.cc);var f=mi(d.w.k.transform.ob(),[new L(e.clientX,e.clientY),new L(d.bc,d.cc)]);d.uh.a=M(c.a,vc(f[0],f[1]));d.uh.eb.clear();d.w.k.dg.R(d.uh,d.w.k.transform);d.bc=e.clientX;d.cc=e.clientY});d.addEventListener("end",function(){S(d.w,d.w.r);d.aa()});d.yc(b)}
function Hj(a,b,c){var d=new nf(a.b.$);d.bc=b.clientX;d.cc=b.clientY;d.Ql=c;d.w=a.b;d.addEventListener("drag",function(e){new $i(e.clientX-d.bc,e.clientY-d.cc);var f=mi(d.w.k.transform.ob(),[new L(e.clientX,e.clientY),new L(d.bc,d.cc)]);f=vc(f[0],f[1]);c.source=M(c.source,f);c.target=M(c.target,f);c.eb.clear();d.w.k.nf.R(c,d.w.k.transform);d.bc=e.clientX;d.cc=e.clientY});d.addEventListener("end",function(){S(d.w,d.w.r);d.aa()});d.yc(b)}
function Fj(a,b,c){var d=new nf(a.b.$);d.qb=Mj(a.b,c.wa());d.sb=l;d.tb=l;d.Vh=0;d.Wh=0;d.gb=[];d.v=c;d.w=a.b;d.addEventListener("drag",function(){d.rb&&B(d.rb,function(j){j.clear()});d.rb=[];d.gb=[];d.sb=d.sb||d.ub;d.tb=d.tb||d.vb;var e=d.ub-d.sb,f=d.vb-d.tb,h=e-d.Vh,i=f-d.Wh;Nj(d.v.eb,e,f,0,0,0);e=d.w.k.transform?d.w.k.transform:d.w.k.ca.transform;d.v.translate(new Gh(h/e.ha,i/e.sa));d.Vh=d.ub-d.sb;d.Wh=d.vb-d.tb;d.ug=c.e;h=this.b.Wg(c.e,d.ug);if(h.length>1)d.gb=Ua(h,0,2);B(d.gb,function(j){d.rb.push(d.w.k.ca.zb.ka(j[0]));
d.rb.push(d.w.k.ca.zb.ka(j[1]))})},undefined,a);d.addEventListener("end",function(){try{if(d.gb.length==2){var e=d.gb[0][1],f=d.gb[1][1],h=Na(e.g.L(),function(p){return V(p,e)==f}),i=d.gb[0][0],j=d.gb[1][0],m=Na(i.g.L(),function(p){return V(p,i)==j});h&&m&&gj(i.v,e.v,h,m,e,i)}S(d.w,d.w.r);d.gb=[];d.aa()}catch(o){this.M.log(zb,o,void 0)}},undefined,a);d.yc(b)}
function Ij(a,b){var c=new nf(a.b.$);c.addEventListener("drag",function(){var d=this.b.k.transform,e=c.screenX-c.Kk,f=c.screenY-c.Lk;if(e||f){var h=new Gh(e/d.ha,f/d.sa);B(this.b.r,function(i){i instanceof wi&&i.translate(h)});S(this.b,this.b.r)}c.Kk=c.screenX;c.Lk=c.screenY},undefined,a);c.addEventListener("end",function(){S(this.b,this.b.r);c.aa()},undefined,a);c.yc(b)}
function Cj(a,b,c){var d=new nf(a.b.$);d.qb=mi(a.b.k.transform?a.b.k.transform:a.b.k.ca.transform,[c.wa()])[0];d.hb=hi(b);d.Hj=Pg(d.qb.x,d.qb.y,d.hb.x,d.hb.y);d.sb=l;d.tb=l;d.eb=c.eb;d.v=c;d.w=a.b;d.addEventListener("drag",function(){d.sb=d.sb||d.ub;d.tb=d.tb||d.vb;d.Uh=Pg(d.qb.x,d.qb.y,d.hb.x+(d.ub-d.sb),d.hb.y+(d.vb-d.tb))-d.Hj;Nj(d.eb,0,0,d.Uh,d.qb.x,d.qb.y)});d.addEventListener("end",function(){d.v.rotate(-d.Uh,d.v.wa());S(d.w,d.w.r);d.aa()});d.yc(b)}u.M=E("kemia.controller.plugins.Move");/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Oj(){O.call(this);this.Qk=100;this.Dd=[];this.Ve=[];this.Ig=[]}A(Oj,O);var Pj=[{id:"undo",key:27}];Oj.prototype.Ae=function(){return Pj};Oj.prototype.Gf=aa();var Qj=eb({Nl:"undo",Kl:"redo"});u=Oj.prototype;u.Gc=s("UndoRedo");u.Xb=function(a){return a in Qj};u.Uc=function(a){try{if(a=="undo")Rj(this,this.Dd,this.Ve);else a=="redo"&&Rj(this,this.Ve,this.Dd)}catch(b){this.M.info(b)}};
u.rk=function(a){try{var b=Sj(this,a.target);if(this.Ig!=b){this.Dd.push(b);if(this.Dd.length>this.Qk){this.Dd.shift();var c=this.Ve.length;this.Ve.length=0;this.dispatchEvent({type:Tj,state:b});if(this.Dd.length==1||c)this.dispatchEvent(Uj)}}this.Ig=b}catch(d){this.M.info(d)}};function Sj(a,b){var c=b.r,d="[]";if(c)d=C(c,function(e){if(e instanceof wi)return rj(e);else if(e instanceof U)return nj(e)});return d}
function Rj(a,b,c){if(b.length){var d=b.pop();c.push(d);S(a.b,C(d,function(e){return e.e?mj(e):qj(e,k)}));if(b.length==0||c.length==1)a.dispatchEvent(Uj)}}u.vf=function(a){Oj.h.vf.call(this,a);this.xf=new Od(this);this.xf.u(a,Vj,this.rk)};u.Lg=function(a){a.Ul();this.xf.aa();this.Ig=this.xf=l};u.p=function(){Oj.h.p.call(this);this.xf.aa();this.b=l};var Uj="state_change",Tj="state_added";Oj.prototype.M=E("kemia.controller.plugins.UndoRedo");
Oj.prototype.queryCommandValue=function(a){var b=n;if(a=="undo")b=this.Dd.length>0;else if(a=="redo")b=this.Ve.length>0;return b};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Wj(){O.call(this)}A(Wj,O);var Xj={Ol:"zoomIn",Pl:"zoomOut"},Yj=eb(Xj);Wj.prototype.Gc=xh(Xj);Wj.prototype.Xb=function(a){return a in Yj};Wj.prototype.execCommand=function(a){try{var b=this.b.k.$e;if(a=="zoomIn")this.b.je(b*1.1);else a=="zoomOut"&&this.b.je(b*0.9);S(this.b,this.b.r)}catch(c){this.M.info(c)}};Wj.prototype.M=E("kemia.controller.plugins.Zoom");function Zj(a){var b=new pg,c=new tg("File",b),d=uh("clearEditor","Clear all","New");b.Cc(d);c.Ib=k;a.push(c);a.push(new Eg);b=$j("undo","Undo","","tr-icon tr-undo");b.Ib=k;a.push(b);b=$j("redo","Redo","","tr-icon tr-redo");b.Ib=k;a.push(b);a.push(new Eg);b=vh(Aj,"Move","","tr-icon tr-move");b.Ib=k;a.push(b);b=vh("rotate","Rotate","","tr-icon tr-rotate");b.Ib=k;a.push(b);b=vh("erase","Erase","","tr-icon tr-erase");b.Ib=k;a.push(b);a.push(new Eg);return a}
function ak(a){a.push(uh("zoomIn","Zoom In","","tr-icon tr-zoom-in"));a.push(uh("zoomOut","Zoom Out","","tr-icon tr-zoom-out"));a.push(new Eg);return a}
function bk(a){var b=wh("selectSymbol","Atomic Symbol","Symbol");b.Ib=k;b.jf=function(i){i=i&&i.length>0?i:l;i!=b.Sa()&&b.Ha(i)};var c=new pg;c.ua(new Ig(Ic("DIV",{style:"color:grey"},"H")),k);c.ua(new Ig(Ic("DIV",{style:"color:black"},"C")),k);c.ua(new Ig(Ic("DIV",{style:"color:blue"},"N")),k);c.ua(new Ig(Ic("DIV",{style:"color:red"},"O")),k);c.ua(new Ig(Ic("DIV",{style:"color:yellow"},"S")),k);c.ua(new Ig(Ic("DIV",{style:"color:orange"},"P")),k);c.ua(new Ig(Ic("DIV",{style:"color:green"},"F")),
k);c.ua(new Ig(Ic("DIV",{style:"color:green"},"Cl")),k);c.ua(new Ig(Ic("DIV",{style:"color:DarkRed"},"Br")),k);c.ua(new Ig(Ic("DIV",{style:"color:purple"},"I")),k);c.ua(new og,k);c.ua(new Ig(Ic("DIV",{style:"color:black"},"R1")),k);c.ua(new Ig(Ic("DIV",{style:"color:black"},"R2")),k);b.ad(c);a.push(b);var d=wh("selectBond","Bond Type","Bond");d.Ib=k;d.jf=function(i){i!=d.Sa()&&d.Ha(i)};var e=new pg;B(vi,function(i){e.ua(new Ig(i.caption,i),k)});d.ad(e);a.push(d);var f=wh("selectMoleculeTemplate",
"Template","Template");f.Ib=k;f.jf=function(i){i!=f.Sa()&&f.Ha(i)};var h=new pg;B(uj,function(i){h.ua(new Ig(i.name,i),k)});f.ad(h);a.push(f);return a}function ck(a,b){for(var c=xc(b),d=[],e=0,f;f=a[e];e++){if(x(f)){var h=void 0;if(f=dk[f]){h=f.factory||vh;var i=f.Vj,j=f.Qm,m=f.caption,o=f.Sl,p=c||xc();h=h(i,j,m,o,l,p);if(f.Ib)h.Ib=k}f=h}f&&d.push(f)}c=xc(b);c=new Kg(Jg.pa(),bg,c);e=de(b);c.bd(e);c.vc(n);for(f=0;h=d[f];f++){Ye(h,32,n);h.bd(e);c.ua(h,k)}c.R(b);return c}
function $j(a,b,c,d,e,f){var h=uh(a,b,c,d,e,f);h.jf=function(i){h.uc(i)};return h}z("Format");z("Format");z("Undo");z("Redo");z("Font");z("Font size");z("Text color");z("Bold");z("Italic");z("Underline");z("Text background color");z("Add or remove link");z("Numbered list");z("Bullet list");z("Decrease indent");z("Increase indent");z("Align left");z("Align center");z("Align right");z("Justify");z("Remove formatting");z("Insert image");z("Strikethrough");z("Left-to-right");z("Right-to-left");z("Quote");
z("Edit HTML source");z("Link");z("Subscript");z("Superscript");z("Edit HTML");for(var dk={},ek=[],fk=0,gk;gk=ek[fk];fk++)dk[gk.Vj]=gk;delete ek;var hk,ik,jk,kk,lk,mk,nk;nk=mk=lk=kk=jk=ik=hk=n;var ok=Yb();if(ok)if(ok.indexOf("Firefox")!=-1)hk=k;else if(ok.indexOf("Camino")!=-1)ik=k;else if(ok.indexOf("iPhone")!=-1||ok.indexOf("iPod")!=-1)jk=k;else if(ok.indexOf("iPad")!=-1)kk=k;else if(ok.indexOf("Android")!=-1)lk=k;else if(ok.indexOf("Chrome")!=-1)mk=k;else if(ok.indexOf("Safari")!=-1)nk=k;var pk=ik,qk=jk,rk=kk,sk=lk,tk=mk,uk=nk;var vk;a:{var wk="",xk,yk;if(hk)xk=/Firefox\/([0-9.]+)/;else if(F||bc){vk=gc;break a}else if(tk)xk=/Chrome\/([0-9.]+)/;else if(uk)xk=/Safari\/([0-9.]+)/;else if(qk||rk){xk=/Version\/(\S+).*Mobile\/(\S+)/;yk=k}else if(sk)xk=/Android\s+([0-9.]+)(?:.*Version\/([0-9.]+))?/;else if(pk)xk=/Camino\/([0-9.]+)/;if(xk){var zk=xk.exec(Yb());wk=zk?yk?zk[1]+"."+zk[2]:zk[2]||zk[1]:""}vk=wk};F&&K("7.0");G&&K("1.8");F||bc||G&&K("1.9");F||I&&K("525");I&&K("531");I&&K("528");G&&K("1.9")||F||bc||I&&K("531");G||I&&K("526");tk&&Da(vk,"4")>=0||uk&&Da(vk,"533");function Ak(){this.bb=[];this.da=[];this.Qb=[]}Ak.prototype.mc=l;Ak.prototype.cb=l;Ak.prototype.yd=k;var Bk=[];Bk[0]=2;Bk[1]=2;Bk[2]=6;Bk[3]=6;Bk[4]=0;u=Ak.prototype;u.clear=function(){this.bb.length=0;this.da.length=0;this.Qb.length=0;delete this.mc;delete this.cb;delete this.yd;return this};u.moveTo=function(a,b){if(this.bb[this.bb.length-1]==0)this.Qb.length-=2;else{this.bb.push(0);this.da.push(1)}this.Qb.push(a,b);this.cb=this.mc=[a,b];return this};
u.lineTo=function(){var a=this.bb[this.bb.length-1];if(a==l)g(Error("Path cannot start with lineTo"));if(a!=1){this.bb.push(1);this.da.push(0)}for(a=0;a<arguments.length;a+=2){var b=arguments[a],c=arguments[a+1];this.Qb.push(b,c)}this.da[this.da.length-1]+=a/2;this.cb=[b,c];return this};
u.ii=function(){var a=this.bb[this.bb.length-1];if(a==l)g(Error("Path cannot start with curve"));if(a!=2){this.bb.push(2);this.da.push(0)}for(a=0;a<arguments.length;a+=6){var b=arguments[a+4],c=arguments[a+5];this.Qb.push(arguments[a],arguments[a+1],arguments[a+2],arguments[a+3],b,c)}this.da[this.da.length-1]+=a/6;this.cb=[b,c];return this};u.close=function(){var a=this.bb[this.bb.length-1];if(a==l)g(Error("Path cannot start with close"));if(a!=4){this.bb.push(4);this.da.push(1);this.cb=this.mc}return this};
u.arcTo=function(a,b,c,d){var e=this.cb[0]-a*Math.cos(N(c))+a*Math.cos(N(c+d)),f=this.cb[1]-b*Math.sin(N(c))+b*Math.sin(N(c+d));this.bb.push(3);this.da.push(1);this.Qb.push(a,b,c,d,e,f);this.yd=n;this.cb=[e,f];return this};
u.Rj=function(a,b,c,d){var e=this.cb[0]-a*Math.cos(N(c)),f=this.cb[1]-b*Math.sin(N(c)),h=N(d);d=Math.ceil(Math.abs(h)/Math.PI*2);h=h/d;c=N(c);for(var i=0;i<d;i++){var j=Math.cos(c),m=Math.sin(c),o=4/3*Math.sin(h/2)/(1+Math.cos(h/2)),p=e+(j-o*m)*a,q=f+(m+o*j)*b;c+=h;j=Math.cos(c);m=Math.sin(c);this.ii(p,q,e+(j+o*m)*a,f+(m-o*j)*b,e+j*a,f+m*b)}return this};function Ck(a,b){for(var c=a.Qb,d=0,e=0,f=a.bb.length;e<f;e++){var h=a.bb[e],i=Bk[h]*a.da[e];b(h,c.slice(d,d+i));d+=i}}
u.ja=function(){var a=new this.constructor;a.bb=this.bb.concat();a.da=this.da.concat();a.Qb=this.Qb.concat();a.mc=this.mc&&this.mc.concat();a.cb=this.cb&&this.cb.concat();a.yd=this.yd;return a};var Dk={};Dk[0]=Ak.prototype.moveTo;Dk[1]=Ak.prototype.lineTo;Dk[4]=Ak.prototype.close;Dk[2]=Ak.prototype.ii;Dk[3]=Ak.prototype.Rj;function Ek(a){if(a.yd)return a.ja();var b=new Ak;Ck(a,function(c,d){Dk[c].apply(b,d)});return b}
Ak.prototype.transform=function(a){if(!this.yd)g(Error("Non-simple path"));a.transform(this.Qb,0,this.Qb,0,this.Qb.length/2);this.mc&&a.transform(this.mc,0,this.mc,0,1);this.cb&&this.mc!=this.cb&&a.transform(this.cb,0,this.cb,0,1);return this};function Fk(a,b,c,d,e){pe.call(this,e);this.width=a;this.height=b;this.fc=c||l;this.te=d||l}A(Fk,pe);u=Fk.prototype;u.va=l;u.Pc=0;u.fd=0;function Gk(a){return a.fc?new wc(a.fc,a.te):a.xb()}u.kd=function(){return this.xb()};u.xb=function(){if(this.Z)return fe(this.f());if(ka(this.width)&&ka(this.height))return new wc(this.width,this.height);return l};function Hk(a){var b=a.xb();return b?b.width/Gk(a).width:0}
function Ik(a,b,c,d,e,f,h,i,j,m,o,p){var q=j.size/2;d=i=="bottom"?d+f-q:i=="center"?d+f/2:d+q;return a.we(b,c,d,c+e,d,h,j,m,o,p)};function Jk(a,b){this.q=a;this.Za=b;this.Jg=n}A(Jk,Qd);u=Jk.prototype;u.Za=l;u.q=l;u.Mh=l;u.f=r("q");function Nj(a,b,c,d,e,f){a.Mh=Zi(new Yi,N(d),e,f).translate(b,c);a.Za.Eh(a,b,c,d,e,f)}u.addEventListener=function(a,b,c,d){Ed(this.q,a,b,c,d)};u.removeEventListener=function(a,b,c,d){Gd(this.q,a,b,c,d)};u.p=function(){Jk.h.p.call(this);Kd(this.q)};function Kk(a,b,c,d){Jk.call(this,a,b);this.fj(c);this.dj(d)}A(Kk,Jk);u=Kk.prototype;u.fill=l;u.Lh=l;u.dj=function(a){this.fill=a;this.Za.Ch(this,a)};u.dk=r("fill");u.fj=function(a){this.Lh=a;this.Za.Dh(this,a)};u.nk=r("Lh");function Lk(a,b,c,d){Kk.call(this,a,b,c,d)}A(Lk,Kk);function Mk(a,b){Jk.call(this,a,b)}A(Mk,Jk);function Nk(a,b){Jk.call(this,a,b)}A(Nk,Jk);function Ok(a,b,c,d){Kk.call(this,a,b,c,d)}A(Ok,Kk);function Pk(a,b,c,d){Kk.call(this,a,b,c,d)}A(Pk,Kk);function Qk(a,b,c,d){Kk.call(this,a,b,c,d)}A(Qk,Kk);function Rk(a){Jk.call(this,l,a);this.oa=[]}A(Rk,Mk);Rk.prototype.clear=function(){if(this.oa.length){this.oa.length=0;Sk(this.Za)}};Rk.prototype.Kb=aa();Rk.prototype.appendChild=function(a){this.oa.push(a)};Rk.prototype.gc=function(){for(var a=0,b=this.oa.length;a<b;a++)Tk(this.Za,this.oa[a])};
function Uk(a,b,c,d,e,f,h,i){Kk.call(this,a,b,h,i);this.Xj=c;this.Yj=d;this.bj=e;this.cj=f;this.ud=new Ak;this.ud.clear();this.ud.moveTo(this.Xj+this.bj*Math.cos(N(0)),this.Yj+this.cj*Math.sin(N(0)));this.ud.arcTo(this.bj,this.cj,0,360);this.ud.close();this.bl=new Vk(l,b,this.ud,h,i)}A(Uk,Lk);Uk.prototype.gc=function(a){this.bl.gc(a)};function Wk(a,b,c,d,e,f,h,i){Kk.call(this,a,b,h,i);this.le=c;this.ne=d;this.Ed=e;this.ld=f}A(Wk,Pk);Wk.prototype.Rc=n;
Wk.prototype.Kb=function(a,b){this.Ed=a;this.ld=b;this.Rc&&Sk(this.Za)};Wk.prototype.gc=function(a){this.Rc=k;a.beginPath();a.moveTo(this.le,this.ne);a.lineTo(this.le,this.ne+this.ld);a.lineTo(this.le+this.Ed,this.ne+this.ld);a.lineTo(this.le+this.Ed,this.ne);a.closePath()};function Vk(a,b,c,d,e){Kk.call(this,a,b,d,e);this.Gh(c)}A(Vk,Ok);Vk.prototype.Rc=n;Vk.prototype.Gh=function(a){this.ud=a.yd?a:Ek(a);this.Rc&&Sk(this.Za)};
Vk.prototype.gc=function(a){this.Rc=k;a.beginPath();Ck(this.ud,function(b,c){switch(b){case 0:a.moveTo(c[0],c[1]);break;case 1:for(var d=0;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);break;case 2:for(d=0;d<c.length;d+=6)a.bezierCurveTo(c[d],c[d+1],c[d+2],c[d+3],c[d+4],c[d+5]);break;case 3:g(Error("Canvas paths cannot contain arcs"));case 4:a.closePath()}})};
function Xk(a,b,c,d,e,f,h,i,j,m){Kk.call(this,l,a,j,m);this.rj=b;this.Bj=c;this.xl=d;this.Cj=e;this.yl=f;this.Lj=h||"left";this.bk=i;this.q=Ic("DIV",{style:"display:table;position:absolute;padding:0;margin:0;border:0"});this.Nf=Ic("DIV",{style:"display:table-cell;padding: 0;margin: 0;border: 0"});c=this.Bj;i=this.Cj;d=this.xl;e=this.yl;j=this.Lj;f=this.bk;b=this.q.style;h=Hk(this.Za);m=this.Za;var o=m.xb();m=o?o.height/Gk(m).height:0;if(c==i){b.lineHeight="90%";this.Nf.style.verticalAlign=j=="center"?
"middle":j=="left"?d<e?"top":"bottom":d<e?"bottom":"top";b.textAlign="center";i=f.size*h;b.top=Math.round(Math.min(d,e)*m)+"px";b.left=Math.round((c-i/2)*h)+"px";b.width=Math.round(i)+"px";b.height=Math.abs(d-e)*m+"px";b.fontSize=f.size*0.6*m+"pt"}else{b.lineHeight="100%";this.Nf.style.verticalAlign="top";b.textAlign=j;b.top=Math.round(((d+e)/2-f.size*2/3)*m)+"px";b.left=Math.round(c*h)+"px";b.width=Math.round(Math.abs(i-c)*h)+"px";b.height="auto";b.fontSize=f.size*m+"pt"}b.fontWeight=f.bold?"bold":
"normal";b.fontStyle=f.oh?"italic":"normal";b.fontFamily=f.Vg;c=this.fill;b.color=c.Ab||c.oi();this.Nf.innerHTML=this.Bj==this.Cj?C(this.rj.split(""),xa).join("<br>"):xa(this.rj);a.f().appendChild(this.q);this.q.appendChild(this.Nf)}A(Xk,Qk);Xk.prototype.dj=function(a){this.fill=a;if(this.q)this.q.style.color=a.Ab||a.oi()};Xk.prototype.fj=aa();Xk.prototype.gc=aa();function Yk(a,b,c,d,e,f,h){Jk.call(this,a,b);this.le=c;this.ne=d;this.Ed=e;this.ld=f;this.pl=h}A(Yk,Nk);Yk.prototype.Rc=n;
Yk.prototype.Kb=function(a,b){this.Ed=a;this.ld=b;this.Rc&&Sk(this.Za)};Yk.prototype.gc=function(a){if(this.yi){this.Ed&&this.ld&&a.drawImage(this.yi,this.le,this.ne,this.Ed,this.ld);this.Rc=k}else{a=new Image;a.onload=ta(this.wk,this,a);a.src=this.pl}};Yk.prototype.wk=function(a){this.yi=a;Sk(this.Za)};function Zk(a,b){this.size=a;this.Vg=b}Zk.prototype.bold=n;Zk.prototype.oh=n;function $k(){};function al(a,b){this.Ab=a;this.Qe=b||1}A(al,$k);function bl(a,b){this.Qh=a;this.Ab=b};function cl(a,b,c,d,e){Fk.call(this,a,b,c,d,e)}A(cl,Fk);u=cl.prototype;u.Ch=function(){Sk(this)};u.Dh=function(){Sk(this)};u.Eh=function(){Sk(this)};function dl(a,b){var c=a.getContext();c.save();var d=b.Mh?b.Mh.ja():new Yi,e=d.jb,f=d.kb;if(e||f)c.translate(e,f);(d=d.ya)&&c.rotate(Math.asin(d))}u.i=function(){var a=this.Cb.i("div",{style:"position:relative;overflow:hidden"});this.q=a;this.qe=this.Cb.i("canvas");a.appendChild(this.qe);this.qh=this.va=new Rk(this);this.fl=0;el(this)};
u.getContext=function(){this.f()||this.i();if(!this.Ld){this.Ld=this.qe.getContext("2d");this.Ld.save()}return this.Ld};u.Kb=function(a,b){this.width=a;this.height=b;el(this);Sk(this)};u.xb=function(){var a=this.width,b=this.height,c=x(a)&&a.indexOf("%")!=-1,d=x(b)&&b.indexOf("%")!=-1;if(!this.Z&&(c||d))return l;var e,f;if(c){e=this.f().parentNode;f=fe(e);a=parseFloat(a)*f.width/100}if(d){e=e||this.f().parentNode;f=f||fe(e);b=parseFloat(b)*f.height/100}return new wc(a,b)};
function el(a){ee(a.f(),a.width,a.height);var b=a.xb();if(b){ee(a.qe,b.width,b.height);a.qe.width=b.width;a.qe.height=b.height;a.Ld=l}}u.reset=function(){var a=this.getContext();a.restore();var b=this.xb();b.width&&b.height&&a.clearRect(0,0,b.width,b.height);a.save()};u.clear=function(){this.reset();this.va.clear();for(var a=this.f();a.childNodes.length>1;)a.removeChild(a.lastChild)};
function Sk(a){if(a.Km)a.Im=k;else if(a.Z){a.reset();if(a.fc){var b=a.xb();a.getContext().scale(b.width/a.fc,b.height/a.te)}if(a.Pc||a.fd)a.getContext().translate(-a.Pc,-a.fd);dl(a,a.va);a.va.gc(a.Ld);a.getContext().restore()}}
function Tk(a,b){if(!(b instanceof Xk)){var c=a.getContext();dl(a,b);if(!b.dk||!b.nk)b.gc(c);else{var d=b.fill;if(d)if(d instanceof al){if(d.Qe!=0){c.globalAlpha=d.Qe;c.fillStyle=d.Ab;b.gc(c);c.fill();c.globalAlpha=1}}else{var e=c.createLinearGradient(d.dm(),d.fm(),d.em(),d.gm());e.addColorStop(0,d.oi());e.addColorStop(1,d.bm());c.fillStyle=e;b.gc(c);c.fill()}if(d=b.Lh){b.gc(c);c.strokeStyle=d.Ab;d=d.Qh;if(x(d)&&d.indexOf("px")!=-1)d=parseFloat(d)/Hk(a);c.lineWidth=d;c.stroke()}}a.getContext().restore()}}
u.Wa=function(a,b){b=b||this.va;b.appendChild(a);this.Z&&!this.fl&&!(b!=this.va&&b!=this.qh)&&Tk(this,a)};u.tf=function(a,b,c,d,e,f,h){a=new Uk(l,this,a,b,c,d,e,f);this.Wa(a,h);return a};u.Pg=function(a,b,c,d,e,f,h){a=new Wk(l,this,a,b,c,d,e,f);this.Wa(a,h);return a};u.drawImage=function(a,b,c,d,e,f){a=new Yk(l,this,a,b,c,d,e);this.Wa(a,f);return a};u.we=function(a,b,c,d,e,f,h,i,j,m){a=new Xk(this,a,b,c,d,e,f,h,i,j);this.Wa(a,m);return a};
u.Wb=function(a,b,c,d){a=new Vk(l,this,a,b,c);this.Wa(a,d);return a};u.nc=function(a){var b=new Rk(this);a=a||this.va;if(a==this.va||a==this.qh)this.qh=b;this.Wa(b,a);return b};u.p=function(){this.Ld=l;cl.h.p.call(this)};u.ra=function(){var a=this.xb();cl.h.ra.call(this);if(!a){el(this);this.dispatchEvent("resize")}Sk(this)};function fl(a,b){Jk.call(this,a,b)}A(fl,Mk);fl.prototype.clear=function(){Mc(this.f())};fl.prototype.Kb=function(a,b){gl(this.Za,this.f(),{width:a,height:b})};function hl(a,b,c,d){Kk.call(this,a,b,c,d)}A(hl,Lk);function il(a,b,c,d){Kk.call(this,a,b,c,d)}A(il,Pk);il.prototype.Kb=function(a,b){gl(this.Za,this.f(),{width:a,height:b})};function jl(a,b,c,d){Kk.call(this,a,b,c,d)}A(jl,Ok);jl.prototype.Gh=function(a){gl(this.Za,this.f(),{d:kl(a)})};function ll(a,b,c,d){Kk.call(this,a,b,c,d)}A(ll,Qk);
function ml(a,b){Jk.call(this,a,b)}A(ml,Nk);ml.prototype.Kb=function(a,b){gl(this.Za,this.f(),{width:a,height:b})};function nl(a,b,c,d,e){Fk.call(this,a,b,c,d,e);this.ji={};this.Oh=I&&!K(526);this.Fb=new Od(this)}var ol;A(nl,Fk);function pl(a,b,c){b=a.Cb.ba.createElementNS("http://www.w3.org/2000/svg",b);c&&gl(a,b,c);return b}function gl(a,b,c){for(var d in c)b.setAttribute(d,c[d])}u=nl.prototype;u.Wa=function(a,b){(b||this.va).f().appendChild(a.f())};u.Ch=function(a,b){var c=a.f();if(b instanceof al){c.setAttribute("fill",b.Ab);c.setAttribute("fill-opacity",b.Qe)}else c.setAttribute("fill","none")};
u.Dh=function(a,b){var c=a.f();if(b){c.setAttribute("stroke",b.Ab);var d=b.Qh;x(d)&&d.indexOf("px")!=-1?c.setAttribute("stroke-width",parseFloat(d)/Hk(this)):c.setAttribute("stroke-width",d)}else c.setAttribute("stroke","none")};u.Eh=function(a,b,c,d,e,f){a.f().setAttribute("transform","translate("+b+","+c+") rotate("+d+" "+e+" "+f+")")};
u.i=function(){var a=pl(this,"svg",{width:this.width,height:this.height,overflow:"hidden"}),b=pl(this,"g");this.Kg=pl(this,"defs");this.va=new fl(b,this);a.appendChild(this.Kg);a.appendChild(b);this.q=a;if(this.fc||this.Pc||this.fd){this.f().setAttribute("preserveAspectRatio","none");this.Oh?this.lg():this.f().setAttribute("viewBox",this.Pc+" "+this.fd+" "+(this.fc?this.fc+" "+this.te:""))}};
u.lg=function(){if(this.Z&&(this.fc||this.Pc||!this.fd)){var a=this.xb();if(a.width==0)this.f().style.visibility="hidden";else{this.f().style.visibility="";var b=-this.Pc,c=-this.fd,d=a.width/this.fc;a=a.height/this.te;this.va.f().setAttribute("transform","scale("+d+" "+a+") translate("+b+" "+c+")")}}};u.Kb=aa();
u.xb=function(){if(!G)return this.Z?fe(this.f()):nl.h.xb.call(this);var a=this.width,b=this.height,c=x(a)&&a.indexOf("%")!=-1,d=x(b)&&b.indexOf("%")!=-1;if(!this.Z&&(c||d))return l;var e,f;if(c){e=this.f().parentNode;f=fe(e);a=parseFloat(a)*f.width/100}if(d){e=e||this.f().parentNode;f=f||fe(e);b=parseFloat(b)*f.height/100}return new wc(a,b)};u.clear=function(){this.va.clear();Mc(this.Kg);this.ji={}};
u.tf=function(a,b,c,d,e,f,h){a=pl(this,"ellipse",{cx:a,cy:b,rx:c,ry:d});e=new hl(a,this,e,f);this.Wa(e,h);return e};u.Pg=function(a,b,c,d,e,f,h){a=pl(this,"rect",{x:a,y:b,width:c,height:d});e=new il(a,this,e,f);this.Wa(e,h);return e};u.drawImage=function(a,b,c,d,e,f){a=pl(this,"image",{x:a,y:b,width:c,height:d,"image-rendering":"optimizeQuality",preserveAspectRatio:"none"});a.setAttributeNS("http://www.w3.org/1999/xlink","href",e);e=new ml(a,this);this.Wa(e,f);return e};
u.we=function(a,b,c,d,e,f,h,i,j,m){var o=Math.round(Pg(b,c,d,e));d=d-b;e=e-c;e=Math.round(Math.sqrt(d*d+e*e));var p=h.size;d={"font-family":h.Vg,"font-size":p};p=Math.round(c-p/2+Math.round(p*0.85));var q=b;if(f=="center"){q+=Math.round(e/2);d["text-anchor"]="middle"}else if(f=="right"){q+=e;d["text-anchor"]="end"}d.x=q;d.y=p;if(h.bold)d["font-weight"]="bold";if(h.oh)d["font-style"]="italic";if(o!=0)d.transform="rotate("+o+" "+b+" "+c+")";b=pl(this,"text",d);b.appendChild(this.Cb.ba.createTextNode(a));
if(i==l&&G&&Wb){a="black";if(j instanceof al)a=j.Ab;i=new bl(1,a)}j=new ll(b,this,i,j);this.Wa(j,m);return j};u.Wb=function(a,b,c,d){a=pl(this,"path",{d:kl(a)});b=new jl(a,this,b,c);this.Wa(b,d);return b};
function kl(a){var b=[];Ck(a,function(c,d){switch(c){case 0:b.push("M");Array.prototype.push.apply(b,d);break;case 1:b.push("L");Array.prototype.push.apply(b,d);break;case 2:b.push("C");Array.prototype.push.apply(b,d);break;case 3:var e=d[3];b.push("A",d[0],d[1],0,Math.abs(e)>180?1:0,e>0?1:0,d[4],d[5]);break;case 4:b.push("Z")}});return b.join(" ")}u.nc=function(a){var b=pl(this,"g");(a||this.va).f().appendChild(b);return new fl(b,this)};
u.ra=function(){var a=this.xb();nl.h.ra.call(this);a||this.dispatchEvent("resize");if(this.Oh){a=this.width;var b=this.height;typeof a=="string"&&a.indexOf("%")!=-1&&typeof b=="string"&&b.indexOf("%")!=-1&&this.Fb.u(ql(),kf,this.lg);this.lg()}};u.wb=function(){nl.h.wb.call(this);this.Oh&&this.Fb.mb(ql(),kf,this.lg)};u.p=function(){delete this.ji;delete this.Kg;delete this.va;nl.h.p.call(this)};function ql(){if(!ol){ol=new hf(400);ol.start()}return ol};function rl(){return this.q=this.Za.Cb.f(this.Gb)||this.q}function sl(a,b){this.Gb=a.id;Jk.call(this,a,b)}A(sl,Mk);sl.prototype.f=rl;sl.prototype.clear=function(){Mc(this.f())};sl.prototype.Kb=function(a,b){var c=this.f(),d=c.style;d.width=Z(a)+"px";d.height=Z(b)+"px";c.coordsize=Z(a)+" "+Z(b);if(this.Za.va!=this)c.coordorigin="0 0"};function tl(a,b,c,d,e,f,h,i){this.Gb=a.id;Kk.call(this,a,b,h,i);this.Wl=c;this.Xl=d;this.Mm=e;this.Nm=f}A(tl,Lk);tl.prototype.f=rl;
function ul(a,b,c,d){this.Gb=a.id;Kk.call(this,a,b,c,d)}A(ul,Pk);ul.prototype.f=rl;ul.prototype.Kb=function(a,b){var c=this.f().style;c.width=Z(a)+"px";c.height=Z(b)+"px"};function vl(a,b,c,d){this.Gb=a.id;Kk.call(this,a,b,c,d)}A(vl,Ok);vl.prototype.f=rl;vl.prototype.Gh=function(a){wl(this.f(),"path",xl(a))};function yl(a,b,c,d){this.Gb=a.id;Kk.call(this,a,b,c,d)}A(yl,Qk);yl.prototype.f=rl;function zl(a,b){this.Gb=a.id;Jk.call(this,a,b)}A(zl,Nk);zl.prototype.f=rl;
zl.prototype.Kb=function(a,b){var c=this.f().style;c.width=Al(a)+"px";c.height=Al(b)+"px"};function Bl(a,b,c,d,e){Fk.call(this,a,b,c,d,e);this.Fb=new Od(this)}A(Bl,Fk);var Cl=document.documentMode&&document.documentMode>=8;function Dl(a){var b;if(b=x(a)){b=a.length-1;b=b>=0&&a.indexOf("%",b)==b}return b?a:parseFloat(a.toString())+"px"}function Al(a){return Math.round((parseFloat(a.toString())-0.5)*100)}function Z(a){return Math.round(parseFloat(a.toString())*100)}function wl(a,b,c){if(Cl)a[b]=c;else a.setAttribute(b,c)}
function El(a,b){var c=a.Cb.createElement("g_vml_:"+b);c.id="goog_"+Fa++;return c}function Fl(a){if(Cl&&a.Z)a.f().innerHTML=a.f().innerHTML}Bl.prototype.Wa=function(a,b){(b||this.va).f().appendChild(a.f());Fl(this)};
Bl.prototype.Ch=function(a,b){var c=a.f();c.fillcolor="";for(var d=0;d<c.childNodes.length;d++){var e=c.childNodes[d];e.tagName=="fill"&&c.removeChild(e)}if(b instanceof al)if(b.Ab=="transparent")c.filled=n;else if(b.Qe!=1){c.filled=k;d=El(this,"fill");d.opacity=Math.round(b.Qe*100)+"%";d.color=b.Ab;c.appendChild(d)}else{c.filled=k;c.fillcolor=b.Ab}else c.filled=n;Fl(this)};
Bl.prototype.Dh=function(a,b){var c=a.f();if(b){c.stroked=k;var d=b.Qh;if(x(d)&&d.indexOf("px")==-1)d=parseFloat(d);else d*=Hk(this);var e=c.getElementsByTagName("stroke")[0];if(d<1){e=e||El(this,"stroke");e.opacity=d;e.Rm="1px";e.color=b.Ab;c.appendChild(e)}else{e&&c.removeChild(e);c.strokecolor=b.Ab;c.strokeweight=d+"px"}}else c.stroked=n;Fl(this)};
Bl.prototype.Eh=function(a,b,c,d,e,f){a=a.f();a.style.left=Al(b)+"px";a.style.top=Al(c)+"px";if(d||a.rotation){a.rotation=d;a.coordsize=Z(e*2)+" "+Z(f*2)}};function Gl(a,b,c,d,e){var f=a.style;f.position="absolute";f.left=Al(b)+"px";f.top=Al(c)+"px";f.width=Z(d)+"px";f.height=Z(e)+"px";if(a.tagName=="shape")a.coordsize=Z(d)+" "+Z(e)}function Hl(a,b){var c=El(a,b),d=Gk(a);Gl(c,0,0,d.width,d.height);return c}try{eval("document.namespaces")}catch(Il){}u=Bl.prototype;
u.i=function(){var a=this.Cb.ba;if(!a.namespaces.g_vml_){Cl?a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"):a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml");a.createStyleSheet().cssText="g_vml_\\:*{behavior:url(#default#VML)}"}a=this.width;var b=this.height,c=this.Cb.i("div",{style:"overflow:hidden;position:relative;width:"+Dl(a)+";height:"+Dl(b)});this.q=c;var d=El(this,"group"),e=d.style;e.position="absolute";e.left=e.top=0;e.width=this.width;e.height=this.height;
d.coordsize=this.fc?Z(this.fc)+" "+Z(this.te):Z(a)+" "+Z(b);d.coordorigin=this.Pc!==undefined?Z(this.Pc)+" "+Z(this.fd):"0 0";c.appendChild(d);this.va=new sl(d,this);Ed(c,"resize",ta(this.bh,this))};u.bh=function(){var a=fe(this.f()),b=this.va.f().style;if(a.width){b.width=a.width+"px";b.height=a.height+"px"}else{for(a=this.f();a&&a.currentStyle&&a.currentStyle.display!="none";)a=a.parentNode;a&&a.currentStyle&&this.Fb.u(a,"propertychange",this.bh)}this.dispatchEvent("resize")};u.Kb=aa();
u.xb=function(){var a=this.f();return new wc(a.style.pixelWidth||a.offsetWidth||1,a.style.pixelHeight||a.offsetHeight||1)};u.clear=function(){this.va.clear()};u.tf=function(a,b,c,d,e,f,h){var i=El(this,"oval");Gl(i,a-c,b-d,c*2,d*2);a=new tl(i,this,a,b,c,d,e,f);this.Wa(a,h);return a};u.Pg=function(a,b,c,d,e,f,h){var i=El(this,"rect");Gl(i,a,b,c,d);a=new ul(i,this,e,f);this.Wa(a,h);return a};
u.drawImage=function(a,b,c,d,e,f){var h=El(this,"image");Gl(h,a,b,c,d);wl(h,"src",e);a=new zl(h,this);this.Wa(a,f);return a};
u.we=function(a,b,c,d,e,f,h,i,j,m){var o=Hl(this,"shape"),p=El(this,"path");wl(p,"v","M"+Al(b)+","+Al(c)+"L"+Al(d)+","+Al(e)+"E");wl(p,"textpathok","true");b=El(this,"textpath");b.setAttribute("on","true");c=b.style;c.fontSize=h.size*Hk(this);c.fontFamily=h.Vg;if(f!=l)c["v-text-align"]=f;if(h.bold)c.fontWeight="bold";if(h.oh)c.fontStyle="italic";wl(b,"string",a);o.appendChild(p);o.appendChild(b);a=new yl(o,this,i,j);this.Wa(a,m);return a};
u.Wb=function(a,b,c,d){var e=Hl(this,"shape");wl(e,"path",xl(a));a=new vl(e,this,b,c);this.Wa(a,d);return a};
function xl(a){var b=[];Ck(a,function(c,d){switch(c){case 0:b.push("m");Array.prototype.push.apply(b,C(d,Z));break;case 1:b.push("l");Array.prototype.push.apply(b,C(d,Z));break;case 2:b.push("c");Array.prototype.push.apply(b,C(d,Z));break;case 4:b.push("x");break;case 3:var e=d[2]+d[3];b.push("ae",Z(d[4]-d[0]*Math.cos(N(e))),Z(d[5]-d[1]*Math.sin(N(e))),Z(d[0]),Z(d[1]),Math.round(d[2]*-65536),Math.round(d[3]*-65536))}});return b.join(" ")}
u.nc=function(a){var b=Hl(this,"group");(a||this.va).f().appendChild(b);return new sl(b,this)};u.ra=function(){Bl.h.ra.call(this);this.bh();Fl(this)};u.p=function(){this.va=l;Bl.h.p.call(this)};function Jl(a,b,c,d){this.kf=a;this.lf=b;this.mg=c;this.rg=d}Jl.prototype.ja=function(){return new Jl(this.kf,this.lf,this.mg,this.rg)};function Kl(a,b,c){if(b instanceof L){c=b.y;b=b.x}else c=c;var d=a.kf,e=a.lf,f=a.mg-a.kf,h=a.rg-a.lf;return((b-d)*(a.mg-d)+(c-e)*(a.rg-e))/(f*f+h*h)}function Ll(a,b){return new L(a.kf+b*(a.mg-a.kf),a.lf+b*(a.rg-a.lf))};function Ml(a,b,c){this.cells={};this.Kd=b?b:2;this.tl=c?c:0.3;this.me=this.ke=1E5;this.sg=this.ng=-1E5;b=0;for(c=a.length;b<c;b++){var d=a[b].wa();if(d.x<this.ke)this.ke=d.x;if(d.x>this.ng)this.ng=d.x;if(d.y<this.me)this.me=d.y;if(d.y>this.sg)this.sg=d.y}this.ke-=1;this.me-=1;this.ng+=1;this.sg+=1;this.width=this.ng-this.ke;this.height=this.sg-this.me;this.Sh=Math.ceil(this.width/this.Kd);this.zl=Math.ceil(this.height/this.Kd);B(a,function(e){var f=e.wa();f=Math.floor((f.y-this.me)/this.Kd)*this.Sh+
Math.floor((f.x-this.ke)/this.Kd);this.cells[f]||(this.cells[f]=[]);this.cells[f].push(e)},this)}function Nl(a,b){var c=[],d=Math.floor((b.x-a.ke)/a.Kd),e=Math.floor((b.y-a.me)/a.Kd),f=d-1;for(d=d+2;f<d;f++)if(!(f<0||f>=a.Sh))for(var h=e-1,i=e+2;h<i;h++)h<0||h>=a.zl||c.push(h*a.Sh+f);return c}
function yj(a,b){for(var c=[],d=Nl(a,b),e=0,f=d.length;e<f;e++){var h=a.cells[d[e]];if(h)for(var i=0,j=h.length;i<j;i++){var m=h[i],o=m.ze(b);o<a.tl&&c.push({td:m.td,li:o})}}c.sort(function(p,q){return p.li-q.li});return C(c,function(p){return p.td})}
function Ol(a){return Za(C(a,function(b){return Qa(Pl(b.sd),C(b.Hb,function(c){return{td:c,wa:function(){return c.a},ze:function(d){return uc(c.a,d)}}}),C(b.ia,function(c){return{td:c,wa:function(){return c.wa()},ze:function(d){var e=new Jl(c.source.x,c.source.y,c.target.x,c.target.y);return uc(Ll(e,Math.min(Math.max(Kl(e,d.x,d.y),0),1)),d)}}}))}))}
function Pl(a){var b=C(a,function(c){return{td:c,wa:function(){return c.wa()},ze:function(d){return uc(c.wa(),d)/4}}});B(a,function(c){b=Qa(b,C(c.e,function(d){return{td:d,wa:function(){return d.a},ze:function(e){return uc(d.a,e)}}}));b=Qa(b,C(c.g,function(d){return{td:d,wa:function(){return Hh(M(d.source.a,d.target.a)).scale(0.5)},ze:function(e){var f=new Jl(d.source.a.x,d.source.a.y,d.target.a.x,d.target.a.y);return uc(Ll(f,Math.min(Math.max(Kl(f,e.x,e.y),0),1)),e)}}}))});return b};function Ql(a,b,c){this.Q=a;this.j=new lb(b!==undefined?b:{});c!==undefined&&this.j.Hd(c)}Ql.prototype.M=E("kemia.view.Renderer");function Rl(a,b){var c=Ud(b).kd(),d=c.width,e=a.Q.kd();c.scale(c.width/c.height>e.width/e.height?e.width/c.width:e.height/c.height);c=a.$e*c.width/d;return new bj(c,0,0,-c,-Math.min(b.left,b.right)*c,Math.max(b.top,b.bottom)*c)}Ql.prototype.setTransform=ba("transform");function Sl(a,b){Ql.call(this,a,Tl,b)}A(Sl,Ql);
Sl.prototype.ka=function(a,b,c){b||(b=this.j.l("highlight").color);c||(c=this.Q.nc());var d=Pg(a.source.a.x,a.source.a.y,a.target.a.x,a.target.a.y),e=N(Og(d+90));d=N(Og(d-90));var f=this.transform.ha,h=this.j.l("highlight").radius*f;a=R(this.transform,[a.source.a,a.target.a]);f=M(new L(h*Math.cos(e),-h*Math.sin(e)),a[0]);var i=M(new L(h*Math.cos(e),-h*Math.sin(e)),a[1]);e=M(new L(h*Math.cos(d),-h*Math.sin(d)),a[0]);d=M(new L(h*Math.cos(d),-h*Math.sin(d)),a[1]);h=new Ak;h.moveTo(a[0].x,a[0].y);h.lineTo(f.x,
f.y);h.lineTo(i.x,i.y);h.lineTo(a[1].x,a[1].y);h.close();b=new al(b,0.15);this.Q.Wb(h,l,b,c);f=new Ak;f.moveTo(a[0].x,a[0].y);f.lineTo(e.x,e.y);f.lineTo(d.x,d.y);f.lineTo(a[1].x,a[1].y);f.close();this.Q.Wb(f,l,b,c);return c};function Ul(a){a=new Eh(a.source.a,a.target.a);a=vc(a.target,a.source);return Math.atan2(a.y,a.x)}function Vl(a){return a.T!="C"||a.Bb()==1}
var Tl={bond:{stroke:{width:1.5,color:"black"},fill:{color:"black"},"width-ratio":6,"symbol-space":0.3,"triple-dist":0.15,"quad-dist":0.13},highlight:{radius:0.3,color:"blue"}};function Wl(a,b){Sl.call(this,a,Wl.gd,b)}A(Wl,Sl);Wl.prototype.R=function(a,b,c){this.setTransform(b);var d=[a.source.a,a.target.a],e=Hh(vc(d[1],d[0]));e.normalize();e.scale(this.j.l("bond")["symbol-space"]);if(Vl(a.source))d[0]=M(d[0],e);if(Vl(a.target))d[1]=vc(d[1],e);d=R(b,[d[0],d[1]]);c.moveTo(d[0].x,d[0].y);c.lineTo(d[1].x,d[1].y)};function Xl(a,b){Sl.call(this,a,Xl.gd,b)}A(Xl,Sl);
Xl.prototype.R=function(a,b,c){this.setTransform(b);var d=Yl(a),e=Hh(vc(a.target.a,a.source.a));e.scale(1/this.j.l("bond")["width-ratio"]);var f=new Gh(-e.y,e.x),h=e.ja().normalize().scale(this.j.l("bond")["symbol-space"]);if(d){var i=M(a.source.a,f);if(!Fh(new Eh(a.source.a,a.target.a),d.wa(),i)){d=f;d.x=-d.x;d.y=-d.y}d=M(a.source.a,f);i=M(a.target.a,f);var j=a.source.a;f=a.target.a;if(Vl(a.source)){d=M(d,h);j=M(j,h)}else d=M(d,e);if(Vl(a.target)){i=vc(i,h);f=vc(f,h)}else i=vc(i,e)}else{f.scale(0.5);
e=f;if(Math.abs(e.x)>0.08){f=e.x/0.08;e.x/=f;e.y/=f}if(Math.abs(e.y)>0.08){f=e.y/0.08;e.x/=f;e.y/=f}f=e;d=M(a.source.a,f);i=M(a.target.a,f);j=vc(a.source.a,f);f=vc(a.target.a,f);if(Vl(a.source)){d=M(d,h);j=M(j,h)}if(Vl(a.target)){i=vc(i,h);f=vc(f,h)}}a=R(b,[d,i,j,f]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.moveTo(a[2].x,a[2].y);c.lineTo(a[3].x,a[3].y)};function Yl(a){return Na(dj(a.v),function(b){return D(b.g,a)})};function Zl(a,b){Sl.call(this,a,Zl.gd,b)}A(Zl,Sl);
Zl.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width;d=new bl(d,this.j.l("bond").stroke.color);var e=Ul(a),f=e+Math.PI/2;e=e-Math.PI/2;var h=this.j.l("bond")["triple-dist"];f=new bj(1,0,0,1,Math.cos(f)*h,Math.sin(f)*h);e=new bj(1,0,0,1,Math.cos(e)*h,Math.sin(e)*h);f=R(f,[a.source.a,a.target.a]);e=R(e,[a.source.a,a.target.a]);a=R(b,[a.source.a,a.target.a,f[0],f[1],e[0],e[1]]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.moveTo(a[2].x,a[2].y);c.lineTo(a[3].x,
a[3].y);c.moveTo(a[4].x,a[4].y);c.lineTo(a[5].x,a[5].y);this.Q.Wb(c,d,l)};function $l(a,b){Sl.call(this,a,$l.gd,b)}A($l,Sl);
$l.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width;d=new bl(d,this.j.l("bond").stroke.color);var e=Ul(a),f=e+Math.PI/2,h=e-Math.PI/2,i=this.j.l("bond")["quad-dist"],j=new bj(1,0,0,1,Math.cos(f)*i/3,Math.sin(f)*i/3);e=new bj(1,0,0,1,Math.cos(h)*i/3,Math.sin(h)*i/3);f=new bj(1,0,0,1,Math.cos(f)*i,Math.sin(f)*i);h=new bj(1,0,0,1,Math.cos(h)*i,Math.sin(h)*i);j=R(j,[a.source.a,a.target.a]);e=R(e,[a.source.a,a.target.a]);f=R(f,[a.source.a,a.target.a]);a=R(h,[a.source.a,
a.target.a]);b=R(b,[j[0],j[1],e[0],e[1],f[0],f[1],a[0],a[1]]);c.moveTo(b[0].x,b[0].y);c.lineTo(b[1].x,b[1].y);c.moveTo(b[2].x,b[2].y);c.lineTo(b[3].x,b[3].y);c.moveTo(b[4].x,b[4].y);c.lineTo(b[5].x,b[5].y);c.moveTo(b[6].x,b[6].y);c.lineTo(b[7].x,b[7].y);this.Q.Wb(c,d,l)};function am(a,b){Sl.call(this,a,am.gd,b)}A(am,Sl);
am.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width/10,e=Ul(a),f=e+Math.PI/2;e=e-Math.PI/2;f=mi(new bj(1,0,0,1,Math.cos(f)*d,Math.sin(f)*d),[a.target.a])[0];d=mi(new bj(1,0,0,1,Math.cos(e)*d,Math.sin(e)*d),[a.target.a])[0];if(a.target.T!="C"){e=3*uc(f,a.source.a);f.x=(f.x*(e-1)+a.source.a.x)/e;f.y=(f.y*(e-1)+a.source.a.y)/e;d.x=(d.x*(e-1)+a.source.a.x)/e;d.y=(d.y*(e-1)+a.source.a.y)/e}a=R(b,[a.source.a,f,d]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.lineTo(a[2].x,
a[2].y)};function bm(a,b){Sl.call(this,a,bm.gd,b)}A(bm,Sl);
bm.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width/10,e=Ul(a),f=e+Math.PI/2;e=e-Math.PI/2;f=new bj(1,0,0,1,Math.cos(f)*d,Math.sin(f)*d);d=new bj(1,0,0,1,Math.cos(e)*d,Math.sin(e)*d);f=R(f,[a.source.a,a.target.a]);d=R(d,[a.source.a,a.target.a]);b=R(b,[f[0],f[1],d[0],d[1],a.source.a]);d=0;if(a.target.T!="C")d=1;for(a=0;a<7-d;a++){c.moveTo(((7-a)*b[4].x+a*b[1].x)/7,((7-a)*b[4].y+a*b[1].y)/7);c.lineTo(((7-a)*b[4].x+a*b[3].x)/7,((7-a)*b[4].y+a*b[3].y)/7)}};function cm(a,b){Sl.call(this,a,cm.gd,b)}A(cm,Sl);
cm.prototype.R=function(a,b,c){this.setTransform(b);var d=Math.round(uc(a.source.a,a.target.a)*12);if(d<8)d=8;Gb(this.M,"# zigZags "+d);var e=this.j.l("bond").stroke.width/10,f=Ul(a),h=f+Math.PI/2;f=f-Math.PI/2;var i=[];i.push(a.source.a);Gb(this.M,"# coords "+i.length);for(var j=l,m=1/d,o=0,p=1;p<=d;p++){o+=m;j=p%2==0?new bj(1,0,0,1,Math.cos(h)*e*o,Math.sin(h)*e*o):new bj(1,0,0,1,Math.cos(f)*e*o,Math.sin(f)*e*o);j=R(j,[new L(((d-p)*a.source.a.x+a.target.a.x*p)/d,((d-p)*a.source.a.y+a.target.a.y*
p)/d)])[0];i.push(j)}a=R(b,i);c.moveTo(a[1].x,a[1].y);b=2;for(d=a.length-1;b<d;b++){c.lineTo(a[b].x,a[b].y);c.moveTo(a[b].x,a[b].y)}};function dm(a,b){this.Q=a;this.j=new lb;b&&this.j.Hd(b)}dm.prototype.M=E("kemia.view.BondRendererFactory");var em=eb({kk:fi,ck:2,ok:3,hk:4}),fm=eb({jk:gi,mk:11,ik:13,lk:12});u=dm.prototype;u.l=function(a){return this[em[a.Fa]].apply(this,[a.fa])};u.kk=function(a){return this[fm[a]].apply(this)};u.jk=function(){if(!this.kj)this.kj=new Wl(this.Q,this.j);return this.kj};u.mk=function(){if(!this.lj)this.lj=new am(this.Q,this.j);return this.lj};
u.ik=function(){if(!this.jj)this.jj=new bm(this.Q,this.j);return this.jj};u.lk=function(){if(!this.mj)this.mj=new cm(this.Q,this.j);return this.mj};u.ck=function(){if(!this.mi)this.mi=new Xl(this.Q,this.j);return this.mi};u.ok=function(){if(!this.xj)this.xj=new Zl(this.Q,this.j);return this.xj};u.hk=function(){if(!this.$i)this.$i=new $l(this.Q,this.j);return this.$i};function gm(a,b){Ql.call(this,a,hm,b)}A(gm,Ql);
gm.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("atom"),e=this.j.l(a.T)?this.j.l(a.T).color:d.color,f=b.ha;f=new Zk(f/1.8>12?15:f/1.8,d.fontName);d=new bl(d.stroke.width,"black");e=new al(e);b=R(b,[a.a])[0];var h={text:"",Tf:"center",zc:"",Ad:""};if(a.T!="C"||a.Bb()<1||a.Ya||a.Bb()==1&&this.j.l("showTerminalCarbons")){var i=qi(a);if(i==0)h.text=a.T;else{var j,m=a.g.Af();j=im(a,0);if(m>1){for(var o=1;o<m;++o)j+=im(a,o);j=j/m%360}j=j>350||j<=10?"E":j>10&&j<=80?"SE":j>80&&j<=100?"S":
j>100&&j<=170?"SW":j>170&&j<=190?"W":j>190&&j<=260?"NW":j>260&&j<=280?"N":"NE";m="center";if(j=="SW"||j=="W"||j=="NW"){m="right";if(i==1)h.text="H";h.text+=a.T}else{m="left";h.text=a.T+"H"}if(i>1)h.Ad=String(i)}if(a.Ya)if(a.Ya>1)h.zc+="+"+a.Ya;else if(a.Ya<-1)h.zc+=a.Ya;else if(a.Ya==-1)h.zc="-";else if(a.Ya==1)h.zc="+"}else h.text="";h.Tf=m;a=this.Q;m=h.text.length*0.55*f.size;i=f.size;if(h.text){Ik(a,h.text,b.x-m/2,b.y-i/2,m,i,h.Tf,l,f,d,e,c);if(h.Tf=="left"){if(h.Ad||h.zc){j=this.j.l("subscriptSize");
h.Ad&&Ik(a,h.Ad,b.x+m*0.9,b.y,j,j,"center",l,f,d,e,c);h.zc&&Ik(a,h.zc,b.x+m,b.y-i*0.8,j,j,"center",l,f,d,e,c)}}else if(h.Tf=="right")if(h.Ad||h.zc){j=this.j.l("subscriptSize");if(h.Ad){Ik(a,"H",b.x-m*3,b.y-i/2,m,i,"center",l,f,d,e,c);Ik(a,h.Ad,b.x-m*1.8,b.y,j,j,"center",l,f,d,e,c)}h.zc&&Ik(a,h.zc,b.x+m,b.y-i*0.8,j,j,"center",l,f,d,e,c)}}};
gm.prototype.ka=function(a,b,c){var d=this.j.l("atom");b||(b=this.j.l(a.T)?this.j.l(a.T).color:d.color);b=new al(b,0.3);d=d.highlight.radius*this.transform.ha;a=R(this.transform,[a.a])[0];c||(c=this.Q.nc());this.Q.tf(a.x,a.y,d,d,l,b,c);return c};function im(a,b){if(a.g.L().length==0)return 0;var c=a.g.L()[b],d=c.target.a,e=c.source.a,f=d.y-e.y;d=d.x-e.x;if(a==c.source){d=-d;f=-f}c=Math.atan2(f,d)*180/Math.PI;if(c<0)c=360+c;return c}gm.prototype.M=E("kemia.view.AtomRenderer");
var hm={atom:{color:"#FF9999",diameter:0.05,highlight:{radius:0.3},stroke:{width:0.15},fontName:"Arial"},showTerminalCarbons:k,margin:20,subscriptSize:5,N:{color:"blue"},O:{color:"red"},S:{color:"yellow"},P:{color:"orange"},Cl:{color:"green"},F:{color:"green"},Br:{color:"DarkRed"},I:{color:"purple"},C:{color:"black"},R1:{color:"black"},R2:{color:"black"},H:{color:"white"}};function jm(a,b){Sl.call(this,a,jm.gd,b)}A(jm,Sl);jm.prototype.R=function(a,b){this.setTransform(b);var c=this.j.l("bond").stroke.width;c=new bl(c,this.j.l("bond").stroke.color);var d=new Ak,e=mi(this.transform,[a.wa()])[0],f=R(this.transform,[a.e[0].a])[0];f=uc(e,f)*0.5;d.moveTo(e.x+f,e.y);d.arcTo(f,f,0,180);d.moveTo(e.x+f,e.y);d.arcTo(f,f,0,-180);this.Q.Wb(d,c,l)};function km(a,b){Ql.call(this,a,lm,b);this.$e=1;this.Jd=new dm(a,this.j);this.zb=new gm(a,this.j);this.Sj=new jm(a,this.j)}A(km,Ql);km.prototype.M=E("kemia.view.MoleculeRenderer");km.prototype.je=ba("$e");
km.prototype.R=function(a,b){a.Zf=k;a.eb=this.Q.nc();var c=C(a.e,function(h){return h.a});c=Sd.apply(l,c);if(!b){var d=this.j.l("margin");b=Rl(this,c.expand(d,d,d,d))}this.setTransform(b);R(this.transform,[new L((c.left+c.right)/2,(c.top+c.bottom)/2)]);c=new bl(this.j.l("bond").stroke.width,this.j.l("bond").stroke.color);d=new al(this.j.l("bond").fill.color);if(a.g.length){var e=new Ak;B(a.g,function(h){this.Jd.l(h).R(h,b,e)},this);this.Q.Wb(e,c,d,a.eb);var f=this.Sj;B(dj(a),function(h){Ja(h.g,function(i){return i.dc}).length==
h.g.length&&f.R(h,b)})}B(a.e,function(h){this.zb.R(h,b,a.eb)},this)};km.prototype.ka=function(a,b,c){b||(b=this.j.l("highlight").color);c||(c=this.Q.nc());B(a.g,function(d){this.Jd.l(d).ka(d,b,c)},this);B(a.e,function(d){this.zb.ka(d,b,c)},this);return c};var lm={bond:{stroke:{width:2,color:"black"},fill:{color:"black"}},highlight:{radius:0.3,color:"blue"}};function mm(a,b){Ql.call(this,a,nm,b)}A(mm,Ql);
mm.prototype.R=function(a,b){this.setTransform(b);a.eb=this.Q.nc();var c=this.j.l("arrow").height,d=uc(a.target,a.source),e=Pg(a.source.x,a.source.y,a.target.x,a.target.y),f=Og(e+90),h=Og(e-90),i=new L((a.source.x+a.target.x)/2,(a.source.y+a.target.y)/2),j=new L(i.x,i.y+c),m=new L(i.x,i.y-c),o=new L(i.x-d/2,i.y),p=new L(i.x+d/2,i.y),q=new L(p.x-c,p.y+c/2),t=new L(p.x-c,p.y-c/2);c=new Ak;d=new bl(this.j.l("arrow").stroke.width,this.j.l("arrow").stroke.color);var v=new bl(this.j.l("arrow").font.stroke.width,
this.j.l("arrow").font.stroke.color),y=new al(this.j.l("arrow").font.stroke.color),H=b.ha,J=H/1.8>12?15:H/1.8;H=new Zk(J,this.j.l("arrow").font.name);e=Zi(new bj,N(e),i.x,i.y);i=e.ha;var ma=e.ya;e.ha=b.ha*i+b.Ea*ma;e.ya=b.ya*i+b.sa*ma;i=e.Ea;ma=e.sa;e.Ea=b.ha*i+b.Ea*ma;e.sa=b.ya*i+b.sa*ma;i=e.jb;ma=e.kb;e.jb=b.ha*i+b.Ea*ma+b.jb;e.kb=b.ya*i+b.sa*ma+b.kb;j=R(e,[o,p,q,t,j,m]);c.moveTo(j[0].x,j[0].y);c.lineTo(j[1].x,j[1].y);c.lineTo(j[2].x,j[2].y);c.moveTo(j[1].x,j[1].y);c.lineTo(j[3].x,j[3].y);m=N(f);
f=N(h);h=M(new L(J*Math.cos(m),-J*Math.sin(m)),j[0]);m=M(new L(J*Math.cos(m),-J*Math.sin(m)),j[1]);o=M(new L(J*Math.cos(f),-J*Math.sin(f)),j[0]);J=M(new L(J*Math.cos(f),-J*Math.sin(f)),j[1]);this.Q.we(a.wh,h.x,h.y,m.x,m.y,"center",H,v,y,a.eb);this.Q.we(a.Eg,o.x,o.y,J.x,J.y,"center",H,v,y,a.eb);this.Q.Wb(c,d,l,a.eb)};
mm.prototype.ka=function(a,b,c){b||(b=this.j.l("arrow").highlight.color);c||(c=this.Q.nc());var d=Pg(a.source.x,a.source.y,a.target.x,a.target.y),e=N(Og(d+90));d=N(Og(d-90));var f=this.transform.ha,h=this.j.l("arrow").highlight.radius*f;a=R(this.transform,[a.source,a.target]);f=M(new L(h*Math.cos(e),-h*Math.sin(e)),a[0]);var i=M(new L(h*Math.cos(e),-h*Math.sin(e)),a[1]);e=M(new L(h*Math.cos(d),-h*Math.sin(d)),a[0]);d=M(new L(h*Math.cos(d),-h*Math.sin(d)),a[1]);h=new Ak;h.moveTo(a[0].x,a[0].y);h.lineTo(f.x,
f.y);h.lineTo(i.x,i.y);h.lineTo(a[1].x,a[1].y);h.close();b=new al(b,0.15);this.Q.Wb(h,l,b,c);f=new Ak;f.moveTo(a[0].x,a[0].y);f.lineTo(e.x,e.y);f.lineTo(d.x,d.y);f.lineTo(a[1].x,a[1].y);f.close();this.Q.Wb(f,l,b,c);return c};mm.prototype.M=E("kemia.view.ArrowRenderer");var nm={arrow:{height:0.5,stroke:{width:2,color:"black"},fill:{color:"black"},font:{name:"Arial",stroke:{width:0.1,color:"grey"}},highlight:{radius:0.75,color:"grey"}}};function om(a,b){Ql.call(this,a,pm,b)}A(om,Ql);om.prototype.R=function(a,b){this.setTransform(b);a.eb=this.Q.nc();var c=a.a,d=this.j.l("plus").size,e=new L(c.x,c.y-d),f=new L(c.x,c.y+d),h=new L(c.x-d,c.y),i=new L(c.x+d,c.y);c=new Ak;d=new bl(this.j.l("plus").stroke.width,this.j.l("plus").stroke.color);e=R(b,[e,f,h,i]);c.moveTo(e[0].x,e[0].y);c.lineTo(e[1].x,e[1].y);c.moveTo(e[2].x,e[2].y);c.lineTo(e[3].x,e[3].y);this.Q.Wb(c,d,l,a.eb)};
om.prototype.ka=function(a,b,c){b||(b=this.j.l("plus").highlight.color);c||(c=this.Q.nc());b=new al(b,0.3);var d=this.j.l("plus").highlight.radius*this.transform.ha;a=R(this.transform,[a.a])[0];this.Q.tf(a.x,a.y,d,d,l,b,c);return c};var pm={plus:{highlight:{color:"blue",radius:0.4},size:0.25,stroke:{width:2,color:"black"}}};function qm(a,b){Ql.call(this,a,rm,b);this.$e=1;this.ca=new km(a,this.j);this.nf=new mm(a,this.j);this.dg=new om(a,this.j)}A(qm,Ql);qm.prototype.R=function(a){var b=a.sd;if(!this.transform)if(b.length>0){var c=sm(this,b),d=this.j.l("margin");c.expand(d,d,d,d);this.setTransform(Rl(this,c))}else this.setTransform(new bj(25,0,0,-25,100,100));B(b,function(e){this.ca.R(e,this.transform)},this);B(a.Hb,function(e){this.dg.R(e,this.transform)},this);B(a.ia,function(e){this.nf.R(e,this.transform)},this)};
function sm(a,b){var c=Za(C(b,function(d){return d.e}));c=C(c,function(d){return d.a});if(c.length>0)return Sd.apply(l,c)}qm.prototype.M=E("kemia.view.ReactionRenderer");qm.prototype.je=function(a){this.$e=a;this.ca.je(a)};var rm={margin:4};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function tm(a,b){this.id=a.id;this.am=xc(a);this.$=a;var c=a.clientWidth,d=a.clientHeight;c=F?new Bl(c,d,void 0,void 0,void 0):I&&(!K("420")||cc)?new cl(c,d,void 0,void 0,void 0):new nl(c,d,void 0,void 0,void 0);c.i();this.Q=c;this.Q.R(a);this.r=[];this.Lc={};this.ce={};for(var e in Bh)this.ce[e]=[];this.j=new lb(um);b&&this.j.Hd(b);this.k=new qm(this.Q,this.j);this.Ci=this.Ei=n;this.Rd=new Od(this);this.gj=new Rh(document);this.wl=[];vm(this,"keydown",this.md);vm(this,"keypress",this.tm);vm(this,
"keyup",this.vm);vm(this,"mousedown",this.Ak);vm(this,"mousemove",this.Ck);vm(this,"mouseup",this.si);vm(this,"paste",this.Ek);Ed(this.gj,"shortcut",this.xk,undefined,this);if(this.Wj&&this.Om()){e=this.Wj;c=this.f();c=xc(c);var f=l;if(F){f=c.ba.createStyleSheet();le(f,e)}else{d=Cc(c.ba,"head",void 0,void 0)[0];if(!d){f=Cc(c.ba,"body",void 0,void 0)[0];d=c.i("head");f.parentNode.insertBefore(d,f)}f=c.i("style");le(f,e);c.appendChild(d,f)}}this.dispatchEvent(wm);for(var h in this.Lc)this.Lc[h].vf(this);
this.Wf=xm;this.Ci=this.Ei=n;this.selected=[];this.Pe=[]}var ym;A(tm,Qd);function di(a,b){a.selected.push(b)}u=tm.prototype;u.clear=function(){zm(this);this.dispatchEvent(Am)};function zm(a){a.Q.clear();a.r=[new wi];a.Pe=new Ml([],1,0.5);var b=new al(a.j.l("background").color);a.Q.Pg(0,0,a.Q.kd().width,a.Q.kd().height,l,b)}u.je=function(a){this.k.transform=undefined;this.k.je(a)};
function S(a,b){zm(a);a.r=[];B(b,function(d){var e;if(d instanceof wi)e=d;if(d instanceof U){e=new wi;e.wg(d)}this.r.push(e)},a);var c=Za(C(b,function(d){if(d instanceof U)return Pl([d]);if(d instanceof wi)return Ol([d])}));if(c.length>0)a.Pe=new Ml(c,1,0.5);a.R()}u.Mc=function(a){Q(this);S(this,a)};u.R=function(){B(this.r,function(a){a instanceof wi&&this.k.R(a);a instanceof U&&this.k.ca.R(a)},this)};u.fk=r("r");
function Q(a){a.Gj=Ei(C(a.r,function(b){if(b instanceof wi)return rj(b);else if(b instanceof U)return nj(b)}));a.dispatchEvent(Vj)}u.de=function(a){for(var b=this.ce[a],c=Ua(arguments,1),d=0;d<b.length;++d){var e=b[d];if((e.la(this)||Ah[a])&&e[Bh[a]].apply(e,c))return k}return n};function P(a){a.Ei=k;a.Ci=k}
function ci(a,b,c){b=Jj(a,b,c);a=Ja(b,function(d){return d instanceof T},a);if(a.length>0)return a[0];a=Ja(b,function(d){return d instanceof X});if(a.length>0)return a[0];a=Ja(b,function(d){return d instanceof U});if(a.length>0)return a[0];a=Ja(b,function(d){return d instanceof Ih});if(a.length>0)return a[0];b=Ja(b,function(d){return d instanceof Mh});if(b.length>0)return b[0]}function Mj(a,b){return mi(a.k.transform?a.k.transform.ob():a.k.ca.transform.ob(),[b])[0]}
function hi(a){var b=a.currentTarget,c=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;c-=b.offsetLeft;for(a-=b.offsetTop;b=b.offsetParent;){c-=b.offsetLeft;a-=b.offsetTop}return new L(c,a)}function Jj(a,b,c){c!==undefined||(c=hi(b));b=mi(a.k.transform?a.k.transform.ob():a.k.ca.transform.ob(),[c])[0];return yj(a.Pe,{x:b.x,y:b.y})}
u.Wg=function(a,b){b!==undefined||(b=[]);return Ja(C(a,function(c){var d=yj(this.Pe,{x:c.a.x,y:c.a.y},this);d=Ja(d,function(e){if(e instanceof T)return!D(b,e)});return d.length>0?[c,d[0]]:n},this),function(c){return c!=n},this)};u.Ck=function(a){try{this.de(12,a)}catch(b){this.M.info(b)}};u.si=function(a){this.de(9,a)};u.Ak=function(a){try{this.de(8,a)}catch(b){this.M.info(b);this.M.info("reverting state");this.Mc(C(eval("("+this.Gj+")"),qj))}};u.si=function(a){this.de(9,a)};
u.xk=function(a){this.de(5,a)};u.Ek=function(a){this.de(25,a)};function Bm(a,b,c){for(var d=a.ce[7],e=0;e<d.length;++e){var f=d[e];if(f.la(a)&&f.Xb(b)&&(c||f.Xh()))return f.queryCommandValue(b)}return c?l:n}function Ch(a){B(a.ce[7],function(b){b.xd&&b.xd()})}u.queryCommandValue=function(a){var b=this.Qf();if(x(a))return Bm(this,a,b);else{for(var c={},d=0;d<a.length;d++)c[a[d]]=Bm(this,a[d],b);return c}};
u.execCommand=function(a){for(var b=arguments,c,d=this.ce[6],e=0;e<d.length;++e){var f=d[e];if(f.la(this)&&f.Xb(a)){c=f.execCommand.apply(f,b);break}}return c};u.gl=function(a){var b=a.Gc();this.Lc[b]&&this.M.log(zb,"Cannot register the same class of plugin twice ["+b+"]",void 0);this.Lc[b]=a;for(var c in Bh)a[Bh[c]]&&this.ce[c].push(a);zh(a,this);this.Qf()&&a.vf(this)};u.Qf=function(){return this.Wf==xm};var xm=2;tm.prototype.M=E("kemia.controller.ReactionEditor");var Dh="cvc_"+Nd++,wm="load_"+Nd++;
Nd++;var Vj="beforechange_"+Nd++;Nd++;var Am="clear_"+Nd++;tm.prototype.p=function(){if(this.Wf==1||this.Qf())this.M.log(Ab,"Disposing an editor that is in use.",void 0);this.$&&this.execCommand(Fg.Bl);for(var a in this.Lc){var b=this.Lc[a];b.Xh()||b.Lg(this)}this.Wf=0;this.Rd&&this.Rd.We();this.Jm=l;if(this.Rd){this.Rd.aa();this.Rd=l}for(;a=this.wl.pop();)a.aa();if(ym==this.id)ym=l;for(var c in this.Lc){a=this.Lc[c];a.Tj&&a.aa()}delete this.Lc;tm.h.p.call(this)};
tm.prototype.Qf=function(){return this.Wf==xm};function vm(a,b,c,d,e){a.Rd.u(a.$,b,c,d,e)}tm.prototype.xh=function(a,b){this.gj.xh(a,b)};var um={background:{color:"#F0FFF0"},margin:{left:1,right:1,top:1,bottom:1}};function Cm(a,b){this.Fb=new Od(this);this.uf=a;this.Mb=b;this.vh=[];xe(this.Mb,function(c){c.Ib&&this.vh.push(Dm(this,se(c)))},this);this.Mb.vc(n);this.Fb.u(this.uf,Dh,this.ul).u(this.Mb,"action",this.qk)}A(Cm,Qd);function Dm(a,b){return b}u=Cm.prototype;u.db=r("Fb");u.$a=function(){return this.Mb.$a()};u.Aa=function(a){this.Mb.Aa(a)};u.la=function(){return this.Mb.la()};u.uc=function(a){this.Mb.uc(a)};u.blur=function(){this.Mb.Vc(l)};
u.p=function(){Cm.h.p.call(this);if(this.Fb){this.Fb.aa();delete this.Fb}if(this.Mb){this.Mb.aa();delete this.Mb}delete this.uf;delete this.vh};u.ul=function(a){if(this.Mb.la()&&this.dispatchEvent("change")){var b;try{b=this.uf.queryCommandValue(a.Vl||this.vh)}catch(c){b={}}a=b;for(var d in a)if(b=ve(this.Mb,d)){var e=a[d];b.jf?b.jf(e):Xe(b,!!e)}}};u.qk=function(a){var b;b=se(a.target);var c=a.target.Sa(),d;if(a.target.Pf)d=a.target.Pf();this.uf.execCommand(b,c,d,a)};u.M=E("kemia.controller.ToolbarController");var Em=3;Em=3;
function Fm(a,b,c,d){switch(a){case 1:switch(b){case 0:return new X(c,d);case 1:return new X(c,d,fi,11);case 4:return new X(c,d,fi,12);case 6:return new X(c,d,fi,13);default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}case 2:return new X(c,d,2);case Em:return new X(c,d,3);case 4:a=new X(c,d);a.dc=k;return a;case 5:g(Error("type not implemented ["+a+"]"));case 6:g(Error("type not implemented ["+a+"]"));case 7:g(Error("type not implemented ["+a+"]"));case 8:g(Error("type not implemented ["+a+
"]"));default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}};var Gm=RegExp(/\[[^[]+\]|Br|B|Cl|C|N|F|O|P]|S|c|n|o|s|-|=[0-9]|=[0-9]|=|#[0-9]|#[0-9][0-9]|#|\$|%[0-9][0-9]|[0-9]|\(|\)|./g),Hm=RegExp(/^\[([0-9]*)([A-Z][a-z]?|c|n|o|se|s|as)(@|@@)?(H)?([0-9])?([+-][\d]?)?\]$/),Im=["C","c","N","n","O","o","S","s","P","F","Br","Cl","I","B"],Jm=["c","n","o","s","as","se"];
function Km(a,b,c){var d=a;if(a=="NONE")d=b.dc&&c.dc?":":"-";switch(d){case "-":return new X(b,c,fi);case "=":return new X(b,c,2);case "#":return new X(b,c,3);case ":":a=new X(b,c);a.dc=k;return a;default:g(Error("invalid bond type ["+a+"]"))}}
function Lm(a,b){for(var c=0,d=b.length;c<d;c++){var e=a.e[b[c]];if(e!=undefined){var f=b[++c];++c;var h=[],i=0,j=l;B(a.e,function(o){var p=Wi(a,e,o);if(p!=l&&p!=undefined){if(p.source!=e){p.source=e;p.target=o}i++;a:{o=dj(a);for(var q=0,t=o.length;q<t;q++)for(var v=0,y=o[q].g.length;v<y;v++)if(p==o[q].g[v]){o=k;break a}o=n}o||h.push(p)}});var m=h.length;if((i==3||i==4)&&m>0){j=0;if(i==3&&m>1||i==4&&m>2)j=1;j=h[j];j.fa=f=="@"?11:13}if(i==4&&m>1){j=1;if(m==4)j=3;else if(m==4)j=2;j=h[j];j.fa=f=="@"?
13:11}}}}
var Mm={H:{number:1,name:"Hydrogen"},He:{number:2,name:"Helium"},Li:{number:3,name:"Lithium"},Be:{number:4,name:"Beryllium"},B:{number:5,name:"Boron"},C:{number:6,name:"Carbon"},c:{number:6,name:"Carbon"},N:{number:7,name:"Nitrogen"},n:{number:7,name:"Nitrogen"},O:{number:8,name:"Oxygen"},o:{number:8,name:"Oxygen"},F:{number:9,name:"Fluorine"},Ne:{number:10,name:"Neon"},Na:{number:11,name:"Sodium"},Mg:{number:12,name:"Magnesium"},Al:{number:13,name:"Aluminium"},Si:{number:14,name:"Silicon"},P:{number:15,
name:"Phosphorus"},S:{number:16,name:"Sulfur"},s:{number:16,name:"Sulfur"},Cl:{number:17,name:"Chlorine"},Ar:{number:18,name:"Argon"},K:{number:19,name:"Potassium"},Ca:{number:20,name:"Calcium"},Sc:{number:21,name:"Scandium"},Ti:{number:22,name:"Titanium"},V:{number:23,name:"Vanadium"},Cr:{number:24,name:"Chromium"},Mn:{number:25,name:"Manganese"},Fe:{number:26,name:"Iron"},Co:{number:27,name:"Cobalt"},Ni:{number:28,name:"Nickel"},Cu:{number:29,name:"Copper"},Zn:{number:30,name:"Zinc"},Ga:{number:31,
name:"Gallium"},Ge:{number:32,name:"Germanium"},As:{number:33,name:"Arsenic"},as:{number:33,name:"Arsenic"},Se:{number:34,name:"Selenium"},se:{number:34,name:"Selenium"},Br:{number:35,name:"Bromine"},Kr:{number:36,name:"Krypton"},Rb:{number:37,name:"Rubidium"},Sr:{number:38,name:"Strontium"},Y:{number:39,name:"Yttrium"},Zr:{number:40,name:"Zirconium"},Nb:{number:41,name:"Niobium"},Mo:{number:42,name:"Molybdenum"},Tc:{number:43,name:"Technetium"},Ru:{number:44,name:"Ruthenium"},Rh:{number:45,name:"Rhodium"},
Pd:{number:46,name:"Palladium"},Ag:{number:47,name:"Silver"},Cd:{number:48,name:"Cadmium"},In:{number:49,name:"Indium"},Sn:{number:50,name:"Tin"},Sb:{number:51,name:"Antimony"},Te:{number:52,name:"Tellurium"},I:{number:53,name:"Iodine"},Xe:{number:54,name:"Xenon"},Cs:{number:55,name:"Caesium"},Ba:{number:56,name:"Barium"},La:{number:57,name:"Lanthanum"},Ce:{number:58,name:"Cerium"},Pr:{number:59,name:"Praseodymium"},Nd:{number:60,name:"Neodymium"},Pm:{number:61,name:"Promethium"},Sm:{number:62,name:"Samarium"},
Eu:{number:63,name:"Europium"},Gd:{number:64,name:"Gadolinium"},Tb:{number:65,name:"Terbium"},Dy:{number:66,name:"Dysprosium"},Ho:{number:67,name:"Holmium"},Er:{number:68,name:"Erbium"},Tm:{number:69,name:"Thulium"},Yb:{number:70,name:"Ytterbium"},Lu:{number:71,name:"Lutetium"},Hf:{number:72,name:"Hafnium"},Ta:{number:73,name:"Tantalum"},W:{number:74,name:"Tungsten"},Re:{number:75,name:"Rhenium"},Os:{number:76,name:"Osmium"},Ir:{number:77,name:"Iridium"},Pt:{number:78,name:"Platinum"},Au:{number:79,
name:"Gold"},Hg:{number:80,name:"Mercury"},Tl:{number:81,name:"Thallium"},Pb:{number:82,name:"Lead"},Bi:{number:83,name:"Bismuth"},Po:{number:84,name:"Polonium"},At:{number:85,name:"Astatine"},Rn:{number:86,name:"Radon"},Fr:{number:87,name:"Francium"},Ra:{number:88,name:"Radium"},Ac:{number:89,name:"Actinium"},Th:{number:90,name:"Thorium"},Pa:{number:91,name:"Protactinium"},U:{number:92,name:"Uranium"},Np:{number:93,name:"Neptunium"},Pu:{number:94,name:"Plutonium"},Am:{number:95,name:"Americium"},
Cm:{number:96,name:"Curium"},Bk:{number:97,name:"Berkelium"},Cf:{number:98,name:"Californium"},Es:{number:99,name:"Einsteinium"},Fm:{number:100,name:"Fermium"},Md:{number:101,name:"Mendelevium"},No:{number:102,name:"Nobelium"},Lr:{number:103,name:"Lawrencium"},Rf:{number:104,name:"Rutherfordium"},Db:{number:105,name:"Dubnium"},Sg:{number:106,name:"Seaborgium"},Bh:{number:107,name:"Bohrium"},Hs:{number:108,name:"Hassium"},Mt:{number:109,name:"Meitnerium"},Ds:{number:110,name:"Darmstadtium"},Rg:{number:111,
name:"Roentgenium"},Cn:{number:112,name:"Copernicium"}};function $(a,b){if(arguments.length>0){this.x=a;this.y=b}}u=$.prototype;u.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};u.add=function(a){return new $(this.x+a.x,this.y+a.y)};u.df=function(a){return new $(this.x-a.x,this.y-a.y)};u.toString=function(){return this.x+","+this.y};u.scale=function(a){this.x*=a;this.y*=a};u.normalize=function(){var a=1/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=a;this.y*=a};u.sub=function(a){this.x-=a.x;this.y-=a.y};
u.Ri=function(a){this.x=-a.x;this.y=-a.y};u.Ri=function(){this.x=-this.x;this.y=-this.y};u.mf=function(a){a=(this.x*a.x+this.y*a.y)/(this.length()*a.length());if(a<-1)a=-1;if(a>1)a=1;return Math.acos(a)};function Nm(a){var b,c;b=Y(a);for(var d=Array(b),e=0;e<b;++e){d[e]=Array(b);for(var f=0;f<b;f++)d[e][f]=0}e=a.Bb();for(f=0;f<e;f++){c=a.g[f];b=Ui(a,c.source);c=Ui(a,c.target);d[b][c]=1;d[c][b]=1}e=d.length;b=Array(e);for(f=0;f<e;++f)b[f]=Array(e);for(f=0;f<e;f++)for(c=0;c<e;c++)b[f][c]=d[f][c]==0?999999:1;for(f=0;f<e;f++)b[f][f]=0;for(d=0;d<e;d++)for(f=0;f<e;f++)for(c=0;c<e;c++)if(b[f][d]+b[d][c]<b[f][c])b[f][c]=b[f][d]+b[d][c];d=0;e=-1;f=a.Bb();c=b.length;for(var h=0;h<c;h++)if(Om(a.e[h],a,f)==1)for(var i=
0;i<c;i++)if(b[h][i]>d){d=b[h][i];e=h}return Pm(a,a.e[e])}function Pm(a,b){for(var c=0,d=0,e=0,f=0,h=[],i=Y(a),j=a.Bb(),m=0;m<i;m++){a.e[m].lb(1,n);h[m]=new U;li(h[m],b)}m=[];m.push(b);b.ea[1]=k;Qm(a,m,h,j);for(m=0;m<i;m++)if(Y(h[m])>=d){f=h[m];for(var o=0,p=Y(f),q=0;q<p;q++)o+=Om(f.e[q],a,j);f=o;if(f>e){e=f;c=m;d=Y(h[m])}}return h[c]}function Om(a,b,c){for(var d=0,e=0;e<c;e++)if(b.g[e].source==a||b.g[e].target==a)d++;return d}
function Qm(a,b,c,d){for(var e=[],f=b.length,h=0;h<f;h++){var i=b[h];if(!i.ea[2])for(var j=Ui(a,i),m=ej(a,i),o=0;o<m.length;o++){var p=m[o],q=V(p,i);if(!q.ea[1]&&!q.ea[0]){for(var t=Ui(a,q),v=c,y=t,H=c[j],J=new U,ma=0,W=Y(H);ma<W;ma++)li(J,H.e[ma]);v[y]=J;li(c[t],q);ii(c[t],p);Om(q,a,d)>1&&e.push(q)}}}if(e.length>0){for(b=0;b<e.length;b++)e[b].lb(1,k);Qm(a,e,c,d)}}
function Rm(a,b,c){var d=b;for(b=0;b<Y(a)-1;b++){var e=a.e[b],f=a.e[b+1],h=new L(e.a.x,e.a.y);d.normalize();d.scale(c);h.x+=d.x;h.y+=d.y;f.a=h;f.lb(0,k);d=k;if(Sm(a)==2)d=n;d=Tm(f,e,Um(a),d)}}function Sm(a){if(a==l)return 0;var b=n,c=n;B(a.e,function(d){if(d.a==l||d.a.x==0&&d.a.y==0)b=k;else c=k});return!b&&c?2:b&&c?1:0}function Um(a){for(var b=0,c=0,d=0,e=0,f=Y(a);e<f;e++){var h=a.e[e];if(h.ea[0]==k){b+=h.a.x;c+=h.a.y;d++}}return new L(b/d,c/d)}
function Vm(a){for(var b=0,c=0,d=0,e=0,f=a.length;e<f;e++){var h=a[e];if(h.ea[0]==k){b+=h.a.x;c+=h.a.y;d++}}return new L(b/d,c/d)}function Wm(a,b){var c=0;if(a>=0&&b>=0)c=Math.atan(b/a);else if(a<0&&b>=0)c=Math.PI+Math.atan(b/a);else if(a<0&&b<0)c=Math.PI+Math.atan(b/a);else if(a>=0&&b<0)c=2*Math.PI+Math.atan(b/a);return c}
function Tm(a,b,c,d){b=Wm(b.a.x-a.a.x,b.a.y-a.a.y);var e=Math.PI*(120/180);d||(e=Math.PI*(60/180));b+=e;d=new $(Math.cos(b),Math.sin(b));var f=uc(new L(a.a.x+d.x,a.a.y+d.y),c);b+=e;b=new $(Math.cos(b),Math.sin(b));return uc(new L(a.a.x+b.x,a.a.y+b.y),c)>f?b:d}function Xm(a,b){for(var c=0;c<b;c++)if(!a.e[c].ea[0])return n;return k}
function Ym(a,b,c,d,e){var f=0,h=0,i=0;i=0;var j=new $(c.x,c.y);f=new $(a.a.x,a.a.y);var m=new $(c.x,c.y);m.sub(f);c=[];var o=Y(b);h=Y(d);if(o==1){for(f=0;f<h;f++)c.push(d.e[f]);i=Math.PI*2/(h+o);d=b.e[0];h=Wm(d.a.x-a.a.x,d.a.y-a.a.y);Zm(c,new L(a.a.x,a.a.y),h,i,e)}else if(o==0){for(f=0;f<h;f++)c.push(d.e[f]);i=Math.PI*2/h;Zm(c,new L(a.a.x,a.a.y),0,i,e)}else{i=[];j.sub(f);f=j;f.normalize();f.scale(e);f.Ri();j=new L(a.a.x,a.a.y);j.x+=f.x;j.y+=f.y;for(f=0;f<o;f++)i.push(b.e[f]);do{b=n;f=0;for(o=i.length;f<
o-1;f++){var p=i[f],q=i[f+1];if(uc(j,q.a)<uc(j,p.a)){i[f]=q;i[f+1]=p;b=k}}}while(b);f=new $(i[0].a.x,i[0].a.y);b=new $(i[1].a.x,i[1].a.y);f.sub(new $(a.a.x,a.a.y));b.sub(new $(a.a.x,a.a.y));f=f.mf(m);f+=b.mf(m);b=Wm(i[0].a.x-a.a.x,i[0].a.y-a.a.y);j=Wm(j.x-a.a.x,j.y-a.a.y);m=l;m=b>j?b-j<Math.PI?i[1]:i[0]:j-b<Math.PI?i[0]:i[1];i=2*Math.PI-f;i=i/(h+1);for(j=0;j<h;j++)c.push(d.e[j]);h=Wm(m.a.x-a.a.x,m.a.y-a.a.y);Zm(c,new L(a.a.x,a.a.y),h,i,e)}}
function Zm(a,b,c,d,e){var f=[];c=c;for(var h=0,i=a.length;h<i;h++){c+=d;if(c>=2*Math.PI)c-=2*Math.PI;var j=a[h];if(j.T=="H")e*=0.6;f.push(new L(Math.cos(c)*e+b.x,Math.sin(c)*e+b.y))}h=0;for(i=a.length;h<i;h++){j=a[h];j.a=f[h];j.ea[0]=k}}function $m(a,b,c,d){var e=0;B(b.g.L(),function(f){e++;f=V(f,b);f.ea[0]?li(d,f):li(c,f)});return e}function an(a){B(a,function(b){b.lb(0,n)})}function bn(a){B(a,function(b){b.lb(0,k)})};function cn(a,b,c){a=Math.sqrt(Math.pow(c/(2*Math.sin(Math.PI/a.e.length)),2)-Math.pow(c/2,2));b=Wm(b.x,b.y);b+=Math.PI/2;return new $(Math.cos(b)*a,Math.sin(b)*a)}
function dn(a,b,c,d,e){var f=b.e.length;if(f>2){f=e/(2*Math.sin(Math.PI/a.e.length));d.normalize();d.scale(f);c=new L(c.x+d.x,c.y+d.y);var h=en(b);e=h[0];h=h[1];var i=new $(e.a.x,e.a.y),j=new $(h.a.x,h.a.y);i.sub(d);j.sub(d);i=i.mf(j);i=(2*Math.PI-i)/(a.e.length-b.e.length+1);var m;a:{if(vc(e.a,h.a).x==0){if(e.a.y>h.a.y){m=e;break a}}else if(e.a.x>h.a.x){m=e;break a}m=h}j=N(Pg(m.a.x,m.a.y,d.x,d.y));a=fn(m,b.g[0],a.g);b=1;h=vc(e.a,h.a);if(h.x==0){if(d.x>e.a.x)b=-1}else if(d.y-e.a.y<(d.x-e.a.x)*h.y/
h.x)b=-1;i*=b;Zm(a,c,j,i,f)}else if(f==2){f=e/(2*Math.sin(Math.PI/a.e.length));e=Math.sqrt(Math.pow(f,2)-Math.pow(e/2,2));d.normalize();d.scale(e);d=new L(c.x+d.x,c.y+d.y);h=b.e[0];i=b.e[1];c=new $(h.a.x,h.a.y);e=new $(i.a.x,i.a.y);j=new $(d.x,d.y);c.sub(j);e.sub(j);c=c.mf(e);c=(2*Math.PI-c)/(a.e.length-1);j=d.x;m=d.y;var o=h.a.x-i.a.x,p=h.a.y-i.a.y;e=1;if(o==0){i=h.a.y>i.a.y?h:i;e=j<h.a.x?1:-1}else{i=h.a.x>i.a.x?h:i;e=m-h.a.y>(j-h.a.x)*p/o?1:-1}h=Wm(i.a.x-d.x,i.a.y-d.y);i=i;b=b.g[0];j=[];m=0;for(o=
a.g.length-2;m<o;m++){a:{for(p=0;p<a.g.length;p++)if(a.g[p]!=b&&(a.g[p].source==i||a.g[p].target==i)){b=a.g[p];break a}b=l}i=V(b,i);j.push(i)}c*=e;Zm(j,d,h,c,f)}else if(f==1){f=e/(2*Math.sin(Math.PI/a.e.length));d.normalize();d.scale(f);d=new L(c.x+d.x,c.y+d.y);c=2*Math.PI/a.e.length;h=b.e[0];e=Wm(h.a.x-d.x,h.a.y-d.y);a=fn(h,b.g[0],a.g);Zm(a,d,e,c,f)}}
function gn(a,b,c){var d=new U,e=0;B(b,function(f){B(f.e,function(h){var i=new U,j=new U,m=Ja(b,function(o){return D(o.e,h)});m=Za(C(m,function(o){return o.e}));m=hn(m);e+=$m(a,h,i,j);an(i.e);B(i.e,function(o){li(d,o)});i.e.length>0&&Ym(h,j,m,i,c)})});return d}function fn(a,b,c){var d=Na(c,function(e){return V(e,a)});b=Ja(c,function(e){return e!==d});if(b.length>0){c=V(d,a);return Qa(c,fn(c,d,b))}else return[]}
function en(a){var b=[];B(a.e,function(c){B(c.g.L(),function(d){D(a.g,d)&&b.push(V(d,c))})});return b}function jn(a,b){var c=[];B(b.e,function(d){D(a.e,d)&&c.push(d)});return c}function kn(a,b){var c=[];B(b.g,function(d){D(a.g,d)&&c.push(d)});return c}function hn(a){var b=Ka(a,function(c,d){return M(c,d.a)},new L(0,0));return new L(b.x/a.length,b.y/a.length)}
function ln(a,b,c,d){for(var e=mn(b,a),f=0,h=e.length;f<h;f++){var i=e[f];if(!i.ea[0]){var j={e:jn(b,i),g:kn(b,i)},m=j.e.length;if(m==2&&c=="FUSED"||m==1&&c=="SPIRO"||m>2&&c=="BRIDGED"){m="";for(var o=0;o<j.e.length;o++)m+="\n         "+j.e[o].a+" "+j.e[o].ea[0];m=Vm(j.e);o=Vm(b.e);var p=new $(m.x,m.y);p=new $(p.x,p.y);p.sub(new $(o.x,o.y));dn(i,j,m,p,d);i.lb(0,k);ln(a,i,c,d)}}}}function nn(a){B(a,function(b){b.Fi||B(b.e,function(c){c.lb(0,n)})})}
function on(a){return Na(a,function(b){return La([b.source,b.target],function(c){return c.ea[2]&&!c.ea[0]&&V(b,c).ea[0]})})}
function pn(a,b,c,d){nn(c);c=Ja(b.e,function(p){return p.ea[0]});var e=on(b.g);if(e){var f=Na([e.source,e.target],function(p){return p.ea[2]&&!p.ea[0]});e=V(e,f);d=Na(d,function(p){return Na(p,function(q){return D(q.e,f)})});var h=f.a.ja(),i=e.a.ja();qn(a,d);an(c);a=gn(b,d,rn);bn(c);c=Qa(a.e,Za(C(d,function(p){return p.e})));Va(c);a=f.a;b=e.a;a=Wm(h.x-i.x,h.y-i.y)-Wm(a.x-b.x,a.y-b.y);var j=new $(i.x,i.y);j.sub(new $(b.x,b.y));B(c,function(p){p.a.x+=j.x;p.a.y+=j.y});var m=Math.cos(a),o=Math.sin(a);
B(c,function(p){p=p.a;var q=p.x-i.x,t=p.y-i.y;p.x=q*m-t*o+i.x;p.y=q*o+t*m+i.y});B(d,function(p){p.Fi=k})}};function sn(a){for(var b=[],c=Array(a.length),d=0,e=a.length;d<e;d++)c[d]=n;d=0;for(e=a.length;d<e;d++)if(!c[d]){var f=[];f.push(a[d]);c[d]=k;for(var h=a[d].e.length,i=d+1;i<a.length;i++)if(!c[i]){var j=a[i].e.length,m=0;a:for(;m<f.length;m++){h=f[m].e.length;for(var o=0;o<h;o++)for(var p=0;p<j;p++)if(f[m].e[o]==a[i].e[p]){f.push(a[i]);c[i]=k;i=d;break a}}}b.push(f)}return b}
function mn(a,b){for(var c=[],d=a.e.length,e=0,f=b.length;e<f;e++)if(a!=b[e]){var h=b[e].e.length,i=0;a:for(;i<d;i++)for(var j=0;j<h;j++)if(a.e[i]==b[e].e[j]){c.push(b[e]);break a}}return c}sn=function(a){var b=[],c=a;B(a,function(d){if(!D(Za(b),d)){var e=Na(b,function(h){return D(h,d)});if(e==l){e=[d];c=Ja(c,function(h){return h!==d})}var f=mn(d,c);e=Qa(e,f);c=Ja(c,function(h){D(f,h)});b.push(e)}});return b};
mn=function(a,b){var c=[];B(b,function(d){La(d.e,function(e){return d===a?n:D(a.e,e)})&&c.push(d)});return c};function tn(a){var b=[],c=un(a,b);if(c>0){c=0;do{var d=Math.round(Math.random()*b.length);if(d>=b.length)d=b.length-1;var e=b[d];if(e!=undefined){var f=e[0];e=e[1];d=new $(e.a.x-f.a.x,e.a.y-f.a.y);d.normalize();if(isNaN(d.x))d.x=0.01;if(isNaN(d.y))d.y=0.01;d.scale(-1*rn/3);if(Math.random()>0.5){e.a.x+=d.x;e.a.y+=d.y}else{f.a.x-=d.x;f.a.y-=d.y}f=un(a,b);c++}else alert("problem kemia.layout.OverlapResolver.displace p is "+d+" and len "+b.length+" and "+e)}while(f>0&&!(c>25));c=f}return c}
function un(a,b){for(var c=0,d=rn/5,e=Y(a),f=0;f<e;f++)for(var h=a.e[f],i=h.a,j=f+1;j<e;j++){var m=a.e[j];if(uc(i,m.a)<d){c+=d;b.push([h,m])}}return c};var rn=1.5;function qn(a,b){var c=vn(b);if(!c.ea[0]){var d={e:wn(c.g[0],a),g:[c.g[0]]},e=Ka(d.e,function(f,h){return M(f,h.a)},new L(0,0));dn(c,d,new $(e.x/d.e.length,e.y/d.e.length),cn(c,a,rn),rn);c.lb(0,k)}d=0;do{if(c.ea[0]){ln(b,c,"FUSED",rn);ln(b,c,"BRIDGED",rn);ln(b,c,"SPIRO",rn)}d++;if(d==b.length)d=0;c=b[d]}while(!xn(b))}function wn(a,b){b.normalize();b.scale(rn);a.source.a=new L(0,0);a.source.lb(0,k);a.target.a=new L(b.x,b.y);a.target.lb(0,k);return[a.source,a.target]}
function xn(a){for(var b=0;b<a.length;b++)if(!a[b].ea[0])return n;return k}function yn(a,b,c,d){c=new U;b=ej(b,a);for(var e=0,f=b.length;e<f;e++){var h=V(b[e],a);if(d&&h.ea[0])li(c,h);else!d&&!h.ea[0]&&li(c,h)}return c}
function zn(a,b,c){var d=0,e;do{d++;var f=n;a:{for(var h=0;h<b;h++){e=a.g[h];if(e.source.ea[0]&&!e.target.ea[0]){e=e.source;break a}if(!e.source.ea[0]&&e.target.ea[0]){e=e.target;break a}}e=l}var i=l,j=l;if(e!=l){i=yn(e,a,b,n);j=yn(e,a,b,k);h=Pm(a,e);if(Y(h)>1){if(Y(j)>1){Ym(e,j,Um(j),i,c);i=new $(h.e[1].a.x,h.e[1].a.y);j=new $(e.a.x,e.a.y);i.sub(j)}else i=Tm(e,j.e[0],Um(a),k);e=1;for(j=Y(h);e<j;e++)h.e[e].ea[0]=n;Rm(h,i,c)}else f=k}else f=k}while(!f&&d<=Y(a))}
function vn(a){for(var b=Array(a.length),c=0;c<b.length;c++)b[c]=0;var d=0,e=0;for(c=0;c<a.length;c++)for(var f=a[c],h=0;h<f.e.length;h++)for(var i=f[h],j=c+1;j<a.length;j++){var m=a[j];if(f!=m)for(var o=0;o<m.e.length;o++)if(i==m[o]){b[c]++;b[j]++;break}}for(c=0;c<b.length;c++)if(b[c]>d){d=b[c];e=c}return a[e]};function An(){}An.prototype.bi=l;function Bn(a){var b;if(!(b=a.bi)){b={};if(Cn(a)){b[0]=k;b[1]=k}b=a.bi=b}return b};function Dn(){return En(Fn)}var Fn;function Gn(){}A(Gn,An);function En(a){return(a=Cn(a))?new ActiveXObject(a):new XMLHttpRequest}Gn.prototype.hh=l;
function Cn(a){if(!a.hh&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);return a.hh=d}catch(e){}}g(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.hh}Fn=new Gn;function Hn(){if(G){this.ed={};this.pg={};this.ig=[]}}Hn.prototype.ab=E("goog.net.xhrMonitor");Hn.prototype.Da=G;Hn.prototype.uc=function(a){this.Da=G&&a};function In(a,b){if(a.Da){var c=x(b)?b:na(b)?oa(b):"";a.ab.log(Eb,"Pushing context: "+b+" ("+c+")",void 0);a.ig.push(c)}}function Jn(a){if(a.Da){var b=a.ig.pop();a.ab.log(Eb,"Popping context: "+b,void 0);Kn(a,b)}}
function Ln(a,b){if(a.Da){var c=oa(b);Gb(a.ab,"Opening XHR : "+c);for(var d=0;d<a.ig.length;d++){var e=a.ig[d];Mn(a,a.ed,e,c);Mn(a,a.pg,c,e)}}}function Kn(a,b){var c=a.pg[b],d=a.ed[b];if(c&&d){a.ab.log(Eb,"Updating dependent contexts",void 0);B(c,function(e){B(d,function(f){Mn(this,this.ed,e,f);Mn(this,this.pg,f,e)},this)},a)}}function Mn(a,b,c,d){b[c]||(b[c]=[]);D(b[c],d)||b[c].push(d)}var Nn=new Hn;var On=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Pn(a){this.headers=new lb;this.qg=a||l}A(Pn,Qd);Pn.prototype.ab=E("goog.net.XhrIo");var Qn=/^https?:?$/i,Rn=[];function Sn(a,b,c,d,e,f){var h=new Pn;Rn.push(h);b&&Ed(h,"complete",b);Ed(h,"ready",ua(Tn,h));if(f)h.ef=Math.max(0,f);h.send(a,c,d,e)}function Tn(a){a.aa();Oa(Rn,a)}u=Pn.prototype;u.Nc=n;u.ma=l;u.og=l;u.Oe="";u.Ji="";u.Le=0;u.Me="";u.Qg=n;u.Lf=n;u.ih=n;u.pd=n;u.ef=0;u.Bd=l;
u.send=function(a,b,c,d){if(this.ma)g(Error("[goog.net.XhrIo] Object is active with another request"));b=b||"GET";this.Oe=a;this.Me="";this.Le=0;this.Ji=b;this.Qg=n;this.Nc=k;this.ma=this.qg?En(this.qg):new Dn;this.og=this.qg?Bn(this.qg):Bn(Fn);Ln(Nn,this.ma);this.ma.onreadystatechange=ta(this.Wi,this);try{Gb(this.ab,Un(this,"Opening Xhr"));this.ih=k;this.ma.open(b,a,k);this.ih=n}catch(e){Gb(this.ab,Un(this,"Error opening Xhr: "+e.message));Vn(this,5,e);return}a=c||"";var f=this.headers.ja();d&&kb(d,
function(i,j){f.Jb(j,i)});b=="POST"&&!nb(f.Ua,"Content-Type")&&f.Jb("Content-Type","application/x-www-form-urlencoded;charset=utf-8");kb(f,function(i,j){this.ma.setRequestHeader(j,i)},this);try{if(this.Bd){jf.clearTimeout(this.Bd);this.Bd=l}if(this.ef>0){Gb(this.ab,Un(this,"Will abort after "+this.ef+"ms if incomplete"));this.Bd=jf.setTimeout(ta(this.sl,this),this.ef)}Gb(this.ab,Un(this,"Sending request"));this.Lf=k;this.ma.send(a);this.Lf=n}catch(h){Gb(this.ab,Un(this,"Send error: "+h.message));
Vn(this,5,h)}};u.dispatchEvent=function(a){if(this.ma){In(Nn,this.ma);try{return Pn.h.dispatchEvent.call(this,a)}finally{Jn(Nn)}}else return Pn.h.dispatchEvent.call(this,a)};u.sl=function(){if(typeof ca!="undefined")if(this.ma){this.Me="Timed out after "+this.ef+"ms, aborting";this.Le=8;Gb(this.ab,Un(this,this.Me));this.dispatchEvent("timeout");this.abort(8)}};function Vn(a,b,c){a.Nc=n;if(a.ma){a.pd=k;a.ma.abort();a.pd=n}a.Me=c;a.Le=b;Wn(a);Xn(a)}
function Wn(a){if(!a.Qg){a.Qg=k;a.dispatchEvent("complete");a.dispatchEvent("error")}}u.abort=function(a){if(this.ma&&this.Nc){Gb(this.ab,Un(this,"Aborting"));this.Nc=n;this.pd=k;this.ma.abort();this.pd=n;this.Le=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");Xn(this)}};u.p=function(){if(this.ma){if(this.Nc){this.Nc=n;this.pd=k;this.ma.abort();this.pd=n}Xn(this,k)}Pn.h.p.call(this)};u.Wi=function(){!this.ih&&!this.Lf&&!this.pd?this.Xk():Yn(this)};u.Xk=function(){Yn(this)};
function Yn(a){if(a.Nc)if(typeof ca!="undefined")if(a.og[1]&&Zn(a)==4&&$n(a)==2)Gb(a.ab,Un(a,"Local request error detected and ignored"));else if(a.Lf&&Zn(a)==4)jf.setTimeout(ta(a.Wi,a),0);else{a.dispatchEvent("readystatechange");if(Zn(a)==4){Gb(a.ab,Un(a,"Request complete"));a.Nc=n;var b;a:switch($n(a)){case 0:b=(b=x(a.Oe)?a.Oe.match(On)[1]||l:a.Oe.cm())?Qn.test(b):self.location?Qn.test(self.location.protocol):k;b=!b;break a;case 200:case 204:case 304:b=k;break a;default:b=n}if(b){a.dispatchEvent("complete");
a.dispatchEvent("success")}else{a.Le=6;var c;try{c=Zn(a)>2?a.ma.statusText:""}catch(d){Gb(a.ab,"Can not get status: "+d.message);c=""}a.Me=c+" ["+$n(a)+"]";Wn(a)}Xn(a)}}}
function Xn(a,b){if(a.ma){var c=a.ma,d=a.og[0]?fa:l;a.ma=l;a.og=l;if(a.Bd){jf.clearTimeout(a.Bd);a.Bd=l}if(!b){In(Nn,c);a.dispatchEvent("ready");Jn(Nn)}if(Nn.Da){var e=oa(c);Gb(Nn.ab,"Closing XHR : "+e);delete Nn.pg[e];for(var f in Nn.ed){Oa(Nn.ed[f],e);Nn.ed[f].length==0&&delete Nn.ed[f]}}try{c.onreadystatechange=d}catch(h){a.ab.log(zb,"Problem encountered resetting onreadystatechange: "+h.message,void 0)}}}u.qa=function(){return!!this.ma};function Zn(a){return a.ma?a.ma.readyState:0}
function $n(a){try{return Zn(a)>2?a.ma.status:-1}catch(b){a.ab.log(Ab,"Can not get status: "+b.message,void 0);return-1}}function Un(a,b){return b+" ["+a.Ji+" "+a.Oe+" "+$n(a)+"]"};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
var ao={};ao.l=function(a,b){Sn(a,function(c){c=c.target;c=c.ma?Di(c.ma.responseText):void 0;b.apply(this,[c])})};w("goog.dom.getElement",function(a){return x(a)?document.getElementById(a):a},void 0);w("goog.dom.getAncestor",function(a,b,c,d){if(!c)a=a.parentNode;c=d==l;for(var e=0;a&&(c||e<=d);){if(b(a))return a;a=a.parentNode;e++}return l},void 0);w("goog.dom.getElementsByClass",Ac,void 0);w("goog.dom.getElementByClass",function(a,b){var c=b||document,d=l;return(d=Bc(c)?c.querySelector("."+a):Ac(a,b)[0])||l},void 0);w("goog.dom.getFirstElementChild",function(a){return Oc(a.firstChild,k)},void 0);
w("goog.dom.getNextElementSibling",function(a){return Oc(a.nextSibling,k)},void 0);w("goog.array.forEach",B,void 0);w("goog.dom.setTextContent",Qc,void 0);w("goog.ui.Prompt",Pf,void 0);w("goog.ui.Prompt.prototype.setDefaultValue",Pf.prototype.ll,void 0);w("goog.ui.Prompt.prototype.setVisible",Pf.prototype.Aa,void 0);w("goog.now",va,void 0);w("goog.debug.Console",Qb,void 0);w("goog.debug.Console.prototype.setCapturing",Qb.prototype.kl,void 0);w("goog.ui.Select",zg,void 0);
w("goog.ui.Select.prototype.addItem",zg.prototype.Cc,void 0);w("goog.ui.Select.prototype.setSelectedIndex",zg.prototype.af,void 0);w("goog.ui.Select.prototype.render",zg.prototype.R,void 0);w("goog.ui.Select.prototype.getValue",zg.prototype.Sa,void 0);w("goog.ui.MenuItem",gf,void 0);w("goog.ui.Component.EventType.ACTION","action",void 0);w("goog.events.EventType.LOAD","load",void 0);w("goog.events.listen",Ed,void 0);w("goog.array.filter",Ja,void 0);w("kemia.io.json.readMolecule",mj,void 0);
w("kemia.io.json.writeMolecule",function(a){return Fi(new Gi,nj(a))},void 0);w("kemia.io.json.readReaction",qj,void 0);w("kemia.io.json.writeReaction",function(a){return Fi(new Gi,rj(a))},void 0);w("kemia.io.json.reactionToJson",rj,void 0);
w("kemia.io.mdl.readMolfile",function(a){a=a.split(a.indexOf("\r\n")>0?"\r\n":"\n");var b=new U(a[0]),c=wa(a[1].slice(46,52));b.id=c;var d=parseInt(a[3].substr(0,3),10),e=parseInt(a[3].substr(3,3),10);for(c=1;c<=d;c++){var f=a[c+3],h=f.substr(30,4).replace(/(^\s*)|(\s*$)/g,""),i=parseFloat(f.substr(0,10)),j=parseFloat(f.substr(10,10));f=parseInt(f.substr(36,3),10);var m=0;if(f!=0)if(f==1)m=3;else if(f==2)m=2;else if(f==3)m=1;else if(f!=4)if(f==5)m=-1;else if(f==6)m=-2;else if(f==7)m=-3;f=new T(h,
i,j,m);li(b,f)}for(c=1;c<=e;c++){f=a[c+3+d];f=Fm(parseInt(f.substr(6,3),10),parseInt(f.substr(9,3),10),b.e[parseInt(f.substr(0,3),10)-1],b.e[parseInt(f.substr(3,3),10)-1]);ii(b,f)}c=4+d+e;d=a.length;for(e=n;;){f=a[c++];if(c==d||f.indexOf("M  END")>=0)break;if(f.indexOf("M  CHG")>=0){if(!e){m=0;for(e=Y(b);m<e;m++)b.e[m].Ya=0;e=k}h=parseInt(f.substr(6,3),10);for(i=0;i<h;i++){j=parseInt(f.substr(10+8*i,3),10);m=parseInt(f.substr(14+8*i,3),10);b.e[j-1].Ya=m}}}return b},void 0);
w("kemia.io.smiles.SmilesParser.parse",function(a){for(var b=a.match(Gm),c=new U(a),d=0,e,f="NONE",h=[],i=[],j=[],m="",o=[],p=0;p<b.length;p++){var q=b[p];if(q!=".")if(q=="(")h.push(e);else if(q==")")if(h.length)e=h.pop();else m=" Unbalanced parents";else if(q=="-")f="-";else if(q=="=")f="=";else if(q=="#")f="#";else if(q=="$")f="$";else if(q==":")f=":";else if(q[0]=="%"){var t=parseInt(q[1]+q[2],10),v=i[t];if(v){ii(c,Km(f,e,v));f="NONE";i[t]=l}else i[t]=e}else if(q!="/")if(q!="\\")if(isNaN(t=parseInt(q,
10)))if(q.length>1&&(q.lastIndexOf("=",0)==0||q.lastIndexOf("#",0)==0||q.lastIndexOf("$",0)==0)&&!isNaN(t=parseInt(q.substr(1),10)))if(v=i[t]){ii(c,Km(j[t],e,v));f="NONE";i[t]=l;j[t]=l}else{i[t]=e;j[t]=q.substr(0,1)}else{t=q;v={Sf:l,symbol:l,fa:"NONE",Fk:l,Ya:l,dc:n,ei:n};var y=Hm.exec(t);if(y){v.Sf=y[1];if(Mm[y[2]])v.T=y[2];if(y[3]=="@"||y[3]=="@@"){v.fa=y[3];if(y[4]=="H")v.ei=k}else v.fa="NONE";if(y[4]=="H")v.Fk=y[5]?y[5]:1;v.Ya=y[6]=="+"?1:y[6]=="-"?-1:parseInt(y[6],10)}else if(D(Im,t))v.T=t;if(D(Jm,
v.T)){v.dc=k;v.T=v.T.length==1?v.T.toUpperCase():v.T[0].toUpperCase()+v.T[1]}t=v;if(t.T){d+=1;q=new T(t.T,0,0,t.Ya,t.dc,t.Sf);if(e){ii(c,Km(f,e,q));f="NONE"}li(c,q);if(t.fa!="NONE"){o.push(Ui(c,q));o.push(t.fa);o.push(t.ei)}e=q}else m=" unknown atom "+q}else if(v=i[t]){ii(c,Km(f,e,v));f="NONE";i[t]=l}else i[t]=e;if(m)g(Error(a+m))}Lm(c,o);if(h.length)g(Error("unbalanced parens"));for(a=0;a<i.length;++a)if(i[a])g(Error("unclosed rings"));if(f!="NONE")g(Error("unpaired bond "+f));return c},void 0);
w("kemia.io.xhr",ao,void 0);w("kemia.io.xhr.get",ao.l,void 0);
w("kemia.layout.CoordinateGenerator.generate",function(a){for(var b=0,c=new $(0,1),d=Y(a),e=0;e<d;e++){var f=a.e[e];f.lb(0,n);f.lb(1,n);f.lb(2,n);f.lb(oi.Hl,n)}if(d==1){a.e[0].coords=new L(0,0);return a}if(a.Sd>1)g(Error("Molecule not connected."));e=a.Bb();b=e-Y(a)+1;f=dj(a);var h=new sn(f);if(b>0){B(f,function(i){B(i.e,function(j){j.lb(2,k)})});Wa(h,function(i,j){return Xa(i.length,j.length)});b=h[h.length-1];qn(c,b);gn(a,b,rn);B(b,function(i){i.Fi=k})}else{b=Nm(a);b.e[0].a=new L(0,0);b.e[0].ea[0]=
k;Rm(b,c,rn)}b=0;do{b++;zn(a,e,rn);pn(c,a,f,h)}while(!Xm(a,d)&&b<=Y(a));tn(a,f);return a},void 0);w("kemia.model.Reaction",wi,void 0);w("kemia.model.Reaction.prototype.addReactant",wi.prototype.wg,void 0);w("kemia.model.Reaction.prototype.addProduct",wi.prototype.Yh,void 0);w("kemia.model.Reaction.prototype.getReactants",wi.prototype.Vd,void 0);w("kemia.model.Reaction.prototype.getProducts",wi.prototype.Ud,void 0);w("kemia.model.Reaction.prototype.setConditionsText",wi.prototype.fg,void 0);
w("kemia.model.Reaction.prototype.setReagentsText",wi.prototype.hg,void 0);w("kemia.model.Reaction.prototype.getPluses",wi.prototype.gk,void 0);w("kemia.model.Reaction.prototype.generatePluses",wi.prototype.Zg,void 0);w("kemia.controller.ReactionEditor",tm,void 0);w("kemia.controller.ReactionEditor.prototype.setModels",tm.prototype.Mc,void 0);w("kemia.controller.ReactionEditor.prototype.getModels",tm.prototype.fk,void 0);w("kemia.controller.ReactionEditor.prototype.render",tm.prototype.R,void 0);
w("kemia.controller.ReactionEditor.prototype.registerPlugin",tm.prototype.gl,void 0);w("kemia.controller.ReactionEditor.EventType.CLEAR",Am,void 0);w("kemia.controller.ToolbarController",Cm,void 0);w("kemia.controller.DefaultToolbar.makeDefaultMoleculeToolbar",function(a){var b=Zj([]);b=ak(b);b=bk(b);return ck(b,a)},void 0);w("kemia.controller.plugins.ArrowPlusEdit",Nh,void 0);w("kemia.controller.DefaultToolbar.makeDefaultToolbar",{}.Gm,void 0);
w("kemia.controller.DefaultToolbar.makeDefaultReactionToolbar",function(a){var b=Zj([]);b=b;var c=vh("editPlus","Plus","","tr-icon tr-plus");c.Ib=k;b.push(c);c=vh("editArrow","Arrow","","tr-icon tr-arrow");c.Ib=k;b.push(c);b.push(new Eg);b=ak(b);b=bk(b);return ck(b,a)},void 0);w("kemia.controller.plugins.AtomEdit",$h,void 0);w("kemia.controller.plugins.BondEdit",ti,void 0);w("kemia.controller.plugins.Cleanup",{}.Dl,void 0);w("kemia.controller.plugins.ClearEditor",xi,void 0);
w("kemia.controller.plugins.Erase",yi,void 0);w("kemia.controller.plugins.MoleculeEdit",sj,void 0);w("kemia.controller.plugins.Move",zj,void 0);w("kemia.controller.plugins.UndoRedo",Oj,void 0);w("kemia.controller.plugins.Zoom",Wj,void 0);})();
