/*
 * Kemia JavaScript Library v0.2-73-gdaf9339
 * http://http://kemia.github.com/
 * 
 * Copyright (c) 2010 Paul Novak (paul@wingu.com)
 * 
 * Licensed under the Apache License, Version 2.0 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Date: January 13 2011
 * Revision: v0.2-73-gdaf9339
 */
(function(){function g(a){throw a;}var k=true,l=null,n=false;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function ca(a){return function(){return this[a]}}function r(a){return function(){return a}}var s,da=da||{},ea=this;function u(a,b,c){a=a.split(".");c=c||ea;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}}
function fa(a,b){for(var c=a.split("."),d=b||ea,e;e=c.shift();)if(d[e]!=l)d=d[e];else return l;return d}function ga(){}function ha(a){a.ra=function(){return a.rl||(a.rl=new a)}}
function ia(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function ja(a){return ia(a)=="array"}function ka(a){var b=ia(a);return b=="array"||b=="object"&&typeof a.length=="number"}function w(a){return typeof a=="string"}function la(a){return typeof a=="number"}function ma(a){return ia(a)=="function"}function oa(a){a=ia(a);return a=="object"||a=="array"||a=="function"}function pa(a){return a[qa]||(a[qa]=++ra)}
var qa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ra=0;function sa(a){return a.call.apply(a.bind,arguments)}function ta(a,b){var c=b||ea;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}
function ua(){ua=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sa:ta;return ua.apply(l,arguments)}function va(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var wa=Date.now||function(){return+new Date};function x(a,b){var c=b||{},d;for(d in c){var e=(""+c[d]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e)}return a}
function z(a,b){function c(){}c.prototype=b.prototype;a.h=b.prototype;a.prototype=new c;a.prototype.constructor=a};function xa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ya(a,b){if(b)return a.replace(za,"&amp;").replace(Aa,"&lt;").replace(Ba,"&gt;").replace(Ca,"&quot;");else{if(!Da.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(za,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Aa,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Ba,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ca,"&quot;");return a}}var za=/&/g,Aa=/</g,Ba=/>/g,Ca=/\"/g,Da=/[&<>\"]/;function Ea(a,b){return Array(b+1).join(a)}
function Fa(a,b,c){a=c!==undefined?a.toFixed(c):String(a);c=a.indexOf(".");if(c==-1)c=a.length;return Ea("0",Math.max(0,b-c))+a}
function Ga(a,b){for(var c=0,d=xa(String(a)).split("."),e=xa(String(b)).split("."),f=Math.max(d.length,e.length),h=0;c==0&&h<f;h++){var i=d[h]||"",j=e[h]||"",m=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(i)||["","",""],q=o.exec(j)||["","",""];if(p[0].length==0&&q[0].length==0)break;c=Ha(p[1].length==0?0:parseInt(p[1],10),q[1].length==0?0:parseInt(q[1],10))||Ha(p[2].length==0,q[2].length==0)||Ha(p[2],q[2])}while(c==0)}return c}
function Ha(a,b){if(a<b)return-1;else if(a>b)return 1;return 0}var Ia=Math.random()*2147483648|0;function Ja(a){return a};var Ka=Array.prototype,La=Ka.indexOf?function(a,b,c){return Ka.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(w(a)){if(!w(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},A=Ka.forEach?function(a,b,c){Ka.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ma=Ka.filter?function(a,b,c){return Ka.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,
e=[],f=0,h=w(a)?a.split(""):a,i=0;i<d;i++)if(i in h){var j=h[i];if(b.call(c,j,i,a))e[f++]=j}return e},B=Ka.map?function(a,b,c){return Ka.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,h=0;h<d;h++)if(h in f)e[h]=b.call(c,f[h],h,a);return e};function Na(a,b,c,d){if(a.reduce)return d?a.reduce(ua(b,d),c):a.reduce(b,c);var e=c;A(a,function(f,h){e=b.call(d,e,f,h,a)});return e}
var Oa=Ka.some?function(a,b,c){return Ka.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return k;return n},Pa=Ka.every?function(a,b,c){return Ka.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return n;return k};
function Qa(a,b,c){a:{for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a)){b=f;break a}b=-1}return b<0?l:w(a)?a.charAt(b):a[b]}function C(a,b){return La(a,b)>=0}function Ra(a,b){var c=La(a,b),d;if(d=c>=0)Sa(a,c);return d}function Sa(a,b){return Ka.splice.call(a,b,1).length==1}function Ta(){return Ka.concat.apply(Ka,arguments)}function Ua(a){if(ja(a))return Ta(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Va(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(ja(c)||(d=ka(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var e=a.length,f=c.length,h=0;h<f;h++)a[e+h]=c[h];else a.push(c)}}function Wa(a){return Ka.splice.apply(a,Xa(arguments,1))}function Xa(a,b,c){return arguments.length<=2?Ka.slice.call(a,b):Ka.slice.call(a,b,c)}
function Ya(a,b){for(var c=b||a,d={},e=0,f=0;f<a.length;){var h=a[f++],i=oa(h)?pa(h):h;if(!Object.prototype.hasOwnProperty.call(d,i)){d[i]=k;c[e++]=h}}c.length=e}function Za(a,b){Ka.sort.call(a,b||$a)}function $a(a,b){return a>b?1:a<b?-1:0}function ab(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function bb(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];ja(c)?a.push.apply(a,bb.apply(l,c)):a.push(c)}return a};function cb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function db(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function eb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function fb(a,b){var c;if(c=b in a)delete a[b];return c}function gb(a,b,c){if(b in a)g(Error('The object already contains the key "'+b+'"'));a[b]=c}function hb(a){var b={},c;for(c in a)b[a[c]]=c;return b}var ib=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function jb(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<ib.length;e++){b=ib[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}}function kb(){var a=arguments.length;if(a==1&&ja(arguments[0]))return kb.apply(l,arguments[0]);if(a%2)g(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b}
function lb(){var a=arguments.length;if(a==1&&ja(arguments[0]))return lb.apply(l,arguments[0]);for(var b={},c=0;c<a;c++)b[arguments[c]]=k;return b};function mb(a){if(typeof a.J=="function")return a.J();if(w(a))return a.split("");if(ka(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return db(a)}function nb(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ka(a)||w(a))A(a,b,c);else{var d;if(typeof a.kh=="function")d=a.kh();else if(typeof a.J!="function")if(ka(a)||w(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f);d=d}else d=eb(a);else d=void 0;e=mb(a);f=e.length;for(var h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};function ob(a){this.Va={};this.ha=[];var b=arguments.length;if(b>1){if(b%2)g(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.zb(arguments[c],arguments[c+1])}else a&&this.Id(a)}s=ob.prototype;s.fa=0;s.di=0;s.Df=ca("fa");s.J=function(){pb(this);for(var a=[],b=0;b<this.ha.length;b++)a.push(this.Va[this.ha[b]]);return a};s.kh=function(){pb(this);return this.ha.concat()};s.clear=function(){this.Va={};this.di=this.fa=this.ha.length=0};
s.remove=function(a){if(qb(this.Va,a)){delete this.Va[a];this.fa--;this.di++;this.ha.length>2*this.fa&&pb(this);return k}return n};function pb(a){if(a.fa!=a.ha.length){for(var b=0,c=0;b<a.ha.length;){var d=a.ha[b];if(qb(a.Va,d))a.ha[c++]=d;b++}a.ha.length=c}if(a.fa!=a.ha.length){var e={};for(c=b=0;b<a.ha.length;){d=a.ha[b];if(!qb(e,d)){a.ha[c++]=d;e[d]=1}b++}a.ha.length=c}}s.l=function(a,b){if(qb(this.Va,a))return this.Va[a];return b};
s.zb=function(a,b){if(!qb(this.Va,a)){this.fa++;this.ha.push(a);this.di++}this.Va[a]=b};s.Id=function(a){var b;if(a instanceof ob){b=a.kh();a=a.J()}else{b=eb(a);a=db(a)}for(var c=0;c<b.length;c++)this.zb(b[c],a[c])};s.la=function(){return new ob(this)};function qb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function rb(a){this.Va=new ob;a&&this.Id(a)}function sb(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+pa(a):b.substr(0,1)+a}s=rb.prototype;s.Df=function(){return this.Va.Df()};s.add=function(a){this.Va.zb(sb(a),a)};s.Id=function(a){a=mb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};s.We=function(a){a=mb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};s.remove=function(a){return this.Va.remove(sb(a))};s.clear=function(){this.Va.clear()};
s.contains=function(a){a=sb(a);return qb(this.Va.Va,a)};s.Ri=function(a){var b=new rb;a=mb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};s.J=function(){return this.Va.J()};s.la=function(){return new rb(this)};function tb(a){return ub(a||arguments.callee.caller,[])}
function ub(a,b){var c=[];if(C(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push(vb(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=vb(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";c.push(f)}b.push(a);c.push(")\n");try{c.push(ub(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function vb(a){a=String(a);if(!wb[a]){var b=/function ([^\(]+)/.exec(a);wb[a]=b?b[1]:"[Anonymous]"}return wb[a]}var wb={};function xb(a,b,c,d,e){this.reset(a,b,c,d,e)}xb.prototype.Vl=0;xb.prototype.eh=l;xb.prototype.dh=l;var yb=0;xb.prototype.reset=function(a,b,c,d,e){this.Vl=typeof e=="number"?e:yb++;this.Lj=d||wa();this.sd=a;this.fj=b;this.xl=c;delete this.eh;delete this.dh};xb.prototype.uj=ba("sd");function zb(a){this.El=a}zb.prototype.Aa=l;zb.prototype.sd=l;zb.prototype.qa=l;zb.prototype.ae=l;function Ab(a,b){this.name=a;this.value=b}Ab.prototype.toString=ca("name");var Bb=new Ab("SHOUT",1200),Cb=new Ab("SEVERE",1E3),Db=new Ab("WARNING",900),Eb=new Ab("INFO",800),Fb=new Ab("CONFIG",700),Gb=new Ab("FINE",500),Hb=new Ab("FINEST",300);s=zb.prototype;s.uj=ba("sd");function Ib(a){if(a.sd)return a.sd;if(a.Aa)return Ib(a.Aa);return l}
s.log=function(a,b,c){if(a.value>=Ib(this).value){a=this.Nk(a,b,c);ea.console&&ea.console.markTimeline&&ea.console.markTimeline("log:"+a.fj);for(b=this;b;){c=b;var d=a;if(c.ae)for(var e=0,f=void 0;f=c.ae[e];e++)f(d);b=b.Aa}}};
s.Nk=function(a,b,c){var d=new xb(a,String(b),this.El);if(c){d.eh=c;var e;var f=arguments.callee.caller;try{var h,i=fa("window.location.href");h=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:i,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.un||"Not available",fileName:c.fileName||c.filename||c.sourceURL||i,stack:c.stack||"Not available"}:c;e="Message: "+ya(h.message)+'\nUrl: <a href="view-source:'+
h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+ya(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ya(tb(f)+"-> ")}catch(j){e="Exception trying to expose exception! You win, we lose. "+j}d.dh=e}return d};s.info=function(a,b){this.log(Eb,a,b)};s.j=function(a,b){this.log(Fb,a,b)};function Jb(a,b,c){a.log(Gb,b,c)}var Kb={},Lb=l;function Mb(){if(!Lb){Lb=new zb("");Kb[""]=Lb;Lb.uj(Fb)}}
function D(a){Mb();var b;if(!(b=Kb[a])){b=new zb(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=D(a.substr(0,c));if(!c.qa)c.qa={};c.qa[d]=b;b.Aa=c;b=Kb[a]=b}return b};function Nb(){this.pj=wa()}var Ob=new Nb;Nb.prototype.zb=ba("pj");Nb.prototype.reset=function(){this.zb(wa())};Nb.prototype.l=ca("pj");function Pb(a){this.Pl=a||"";this.bm=Ob}s=Pb.prototype;s.yj=k;s.Zl=k;s.Yl=k;s.zj=n;s.$l=n;function Qb(a){if(a<10)return"0"+a;return String(a)}function Rb(a,b){var c=(a.Lj-b)/1E3,d=c.toFixed(3),e=0;if(c<1)e=2;else for(;c<100;){e++;c*=10}for(;e-- >0;)d=" "+d;return d}function Sb(a){Pb.call(this,a)}z(Sb,Pb);function Tb(){this.nj=ua(this.qk,this);this.ih=new Sb;this.ih.yj=n;this.Ui=this.ih.zj=n;this.wl=""}Tb.prototype.Wl=function(a){if(a!=this.Ui){var b;Mb();b=Lb;if(a){var c=this.nj;if(!b.ae)b.ae=[];b.ae.push(c)}else{(b=b.ae)&&Ra(b,this.nj);this.vn=""}this.Ui=a}};
Tb.prototype.qk=function(a){var b;b=this.ih;var c=[];c.push(b.Pl," ");if(b.yj){var d=new Date(a.Lj);c.push("[",Qb(d.getFullYear()-2E3)+Qb(d.getMonth()+1)+Qb(d.getDate())+" "+Qb(d.getHours())+":"+Qb(d.getMinutes())+":"+Qb(d.getSeconds())+"."+Qb(Math.floor(d.getMilliseconds()/10)),"] ")}b.Zl&&c.push("[",Rb(a,b.bm.l()),"s] ");b.Yl&&c.push("[",a.xl,"] ");b.$l&&c.push("[",a.sd.name,"] ");c.push(a.fj,"\n");b.zj&&a.eh&&c.push(a.dh,"\n");b=c.join("");if(window.console&&window.console.firebug)switch(a.sd){case Bb:window.console.info(b);
break;case Cb:window.console.error(b);break;case Db:window.console.warn(b);break;default:window.console.debug(b)}else if(window.console)window.console.log(b);else if(window.opera)window.opera.postError(b);else this.wl+=b};var Ub,Vb,Wb,Xb,Yb,Zb,$b;function ac(){return ea.navigator?ea.navigator.userAgent:l}function bc(){return ea.navigator}Yb=Xb=Wb=Vb=Ub=n;var cc;if(cc=ac()){var dc=bc();Ub=cc.indexOf("Opera")==0;Vb=!Ub&&cc.indexOf("MSIE")!=-1;Xb=(Wb=!Ub&&cc.indexOf("WebKit")!=-1)&&cc.indexOf("Mobile")!=-1;Yb=!Ub&&!Wb&&dc.product=="Gecko"}var ec=Ub,E=Vb,F=Yb,G=Wb,fc=Xb,gc,hc=bc();gc=hc&&hc.platform||"";Zb=gc.indexOf("Mac")!=-1;$b=gc.indexOf("Win")!=-1;var ic=!!bc()&&(bc().appVersion||"").indexOf("X11")!=-1,jc;
a:{var kc="",lc;if(ec&&ea.opera){var mc=ea.opera.version;kc=typeof mc=="function"?mc():mc}else{if(F)lc=/rv\:([^\);]+)(\)|;)/;else if(E)lc=/MSIE\s+([^\);]+)(\)|;)/;else if(G)lc=/WebKit\/(\S+)/;if(lc){var nc=lc.exec(ac());kc=nc?nc[1]:""}}if(E){var oc,pc=ea.document;oc=pc?pc.documentMode:undefined;if(oc>parseFloat(kc)){jc=String(oc);break a}}jc=kc}var qc={};function I(a){return qc[a]||(qc[a]=Ga(jc,a)>=0)};var rc,sc=!E||I("9"),tc=E&&!I("9");function uc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function vc(a){var b=uc(a),c;c=Xa(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!C(b,c[e])){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c}function wc(a){var b=uc(a),c;c=Xa(arguments,1);for(var d=0,e=0;e<b.length;e++)if(C(c,b[e])){Wa(b,e--,1);d++}c=d==c.length;a.className=b.join(" ");return c};function J(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}J.prototype.la=function(){return new J(this.x,this.y)};function xc(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function yc(a,b){return new J(a.x-b.x,a.y-b.y)}function L(a,b){return new J(a.x+b.x,a.y+b.y)};function zc(a,b){this.width=a;this.height=b}s=zc.prototype;s.la=function(){return new zc(this.width,this.height)};s.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};s.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};s.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};s.scale=function(a){this.width*=a;this.height*=a;return this};function Ac(a){return a?new Bc(Cc(a)):rc||(rc=new Bc)}function Dc(a,b){var c=b||document;if(Ec(c))return c.querySelectorAll("."+a);else if(c.getElementsByClassName)return c.getElementsByClassName(a);return Fc(document,"*",a,b)}function Ec(a){return a.querySelectorAll&&a.querySelector&&(!G||Gc(document)||I("528"))}
function Fc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(Ec(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)if(b==h.nodeName)d[e++]=h;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++){b=h.className;if(typeof b.split=="function"&&C(b.split(/\s+/),c))d[e++]=h}d.length=e;return d}else return a}
function Hc(a,b){cb(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Ic)a.setAttribute(Ic[d],c);else a[d]=c})}var Ic={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function Jc(a){var b=a.document;if(G&&!I("500")&&!fc){if(typeof a.innerHeight=="undefined")a=window;b=a.innerHeight;var c=a.document.documentElement.scrollHeight;if(a==a.top)if(c<b)b-=15;return new zc(a.innerWidth,b)}a=Gc(b);if(ec&&!I("9.50"))a=n;a=a?b.documentElement:b.body;return new zc(a.clientWidth,a.clientHeight)}function Kc(a){return a.parentWindow||a.defaultView}function Lc(){return Mc(document,arguments)}
function Mc(a,b){var c=b[0],d=b[1];if(!sc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ya(d.name),'"');if(d.type){c.push(' type="',ya(d.type),'"');var e={};jb(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(w(d))c.className=d;else ja(d)?vc.apply(l,[c].concat(d)):Hc(c,d);b.length>2&&Nc(a,c,b,2);return c}
function Nc(a,b,c,d){function e(h){if(h)b.appendChild(w(h)?a.createTextNode(h):h)}for(d=d;d<c.length;d++){var f=c[d];ka(f)&&!(oa(f)&&f.nodeType>0)?A(Oc(f)?Ua(f):f,e):e(f)}}function Gc(a){return a.compatMode=="CSS1Compat"}function Pc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Qc(a){return a&&a.parentNode?a.parentNode.removeChild(a):l}function Rc(a,b){for(;a&&a.nodeType!=1;)a=b?a.nextSibling:a.previousSibling;return a}
function Sc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Cc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Tc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{Pc(a);a.appendChild(Cc(a).createTextNode(b))}}var Uc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Vc={IMG:" ",BR:"\n"};function Wc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){a=a.tabIndex;return la(a)&&a>=0}return n}
function Xc(a){if(tc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Yc(a,b,k);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");E||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function Yc(a,b,c){if(!(a.nodeName in Uc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Vc)b.push(Vc[a.nodeName]);else for(a=a.firstChild;a;){Yc(a,b,c);a=a.nextSibling}}
function Oc(a){if(a&&typeof a.length=="number")if(oa(a))return typeof a.item=="function"||typeof a.item=="string";else if(ma(a))return typeof a.item=="function";return n}function Bc(a){this.ba=a||ea.document||document}s=Bc.prototype;s.T=Ac;function Zc(a){return a.ba}s.f=function(a){return w(a)?this.ba.getElementById(a):a};s.i=function(){return Mc(this.ba,arguments)};s.createElement=function(a){return this.ba.createElement(a)};s.createTextNode=function(a){return this.ba.createTextNode(a)};
s.wi=function(a,b,c){var d=this.ba,e=!!c;c=["<tr>"];for(var f=0;f<b;f++)c.push(e?"<td>&nbsp;</td>":"<td></td>");c.push("</tr>");c=c.join("");b=["<table>"];for(f=0;f<a;f++)b.push(c);b.push("</table>");a=d.createElement("DIV");a.innerHTML=b.join("");return a.removeChild(a.firstChild)};function $c(a){a=!G&&Gc(a.ba)?a.ba.documentElement:a.ba.body;return new J(a.scrollLeft,a.scrollTop)}s.appendChild=function(a,b){a.appendChild(b)};s.append=function(a){Nc(Cc(a),a,arguments,1)};s.contains=Sc;var ad,bd=!E||I("9"),cd=E&&!I("8");function dd(){}dd.prototype.Zg=n;dd.prototype.$=function(){if(!this.Zg){this.Zg=k;this.m()}};dd.prototype.m=aa();function ed(a,b){this.type=a;this.currentTarget=this.target=b}z(ed,dd);s=ed.prototype;s.m=function(){delete this.type;delete this.target;delete this.currentTarget};s.wd=n;s.Ye=k;s.stopPropagation=function(){this.wd=k};s.preventDefault=function(){this.Ye=n};function fd(a){a.preventDefault()};var gd=new Function("a","return a");function hd(a,b){a&&this.Ke(a,b)}z(hd,ed);var id=[1,4,2];s=hd.prototype;s.target=l;s.relatedTarget=l;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=n;s.altKey=n;s.shiftKey=n;s.metaKey=n;s.Nl=n;s.pc=l;
s.Ke=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(F)try{gd(d.nodeName)}catch(e){d=l}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=
a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Nl=Zb?a.metaKey:a.ctrlKey;this.state=a.state;this.pc=a;delete this.Ye;delete this.wd};function jd(a,b){return bd?a.pc.button==b:a.type=="click"?b==0:!!(a.pc.button&id[b])}
s.stopPropagation=function(){hd.h.stopPropagation.call(this);if(this.pc.stopPropagation)this.pc.stopPropagation();else this.pc.cancelBubble=k};s.preventDefault=function(){hd.h.preventDefault.call(this);var a=this.pc;if(a.preventDefault)a.preventDefault();else{a.returnValue=n;if(cd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};s.m=function(){hd.h.m.call(this);this.relatedTarget=this.currentTarget=this.target=this.pc=l};function kd(){}var ld=0;s=kd.prototype;s.key=0;s.ge=n;s.ri=n;s.Ke=function(a,b,c,d,e,f){if(ma(a))this.Wi=k;else if(a&&a.handleEvent&&ma(a.handleEvent))this.Wi=n;else g(Error("Invalid listener argument"));this.ee=a;this.mj=b;this.src=c;this.type=d;this.capture=!!e;this.Lf=f;this.ri=n;this.key=++ld;this.ge=n};s.handleEvent=function(a){if(this.Wi)return this.ee.call(this.Lf||this.src,a);return this.ee.handleEvent.call(this.ee,a)};function md(a,b){this.cj=b;this.kd=[];if(a>this.cj)g(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.kd.push(this.Fc?this.Fc():{})}z(md,dd);md.prototype.Fc=l;md.prototype.zi=l;function nd(a){if(a.kd.length)return a.kd.pop();return a.Fc?a.Fc():{}}function od(a,b){a.kd.length<a.cj?a.kd.push(b):pd(a,b)}function pd(a,b){if(a.zi)a.zi(b);else if(oa(b))if(ma(b.$))b.$();else for(var c in b)delete b[c]}
md.prototype.m=function(){md.h.m.call(this);for(var a=this.kd;a.length;)pd(this,a.pop());delete this.kd};var qd;var rd=(qd="ScriptEngine"in ea&&ea.ScriptEngine()=="JScript")?ea.ScriptEngineMajorVersion()+"."+ea.ScriptEngineMinorVersion()+"."+ea.ScriptEngineBuildVersion():"0";var sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd;
(function(){function a(){return{fa:0,ic:0}}function b(){return[]}function c(){function q(t){return h.call(q.src,q.key,t)}return q}function d(){return new kd}function e(){return new hd}var f=qd&&!(Ga(rd,"5.7")>=0),h;xd=function(q){h=q};if(f){sd=function(){return nd(i)};td=function(q){od(i,q)};ud=function(){return nd(j)};vd=function(q){od(j,q)};wd=function(){return nd(m)};yd=function(){od(m,c())};zd=function(){return nd(o)};Ad=function(q){od(o,q)};Bd=function(){return nd(p)};Cd=function(q){od(p,q)};
var i=new md(0,600);i.Fc=a;var j=new md(0,600);j.Fc=b;var m=new md(0,600);m.Fc=c;var o=new md(0,600);o.Fc=d;var p=new md(0,600);p.Fc=e}else{sd=a;td=ga;ud=b;vd=ga;wd=c;yd=ga;zd=d;Ad=ga;Bd=e;Cd=ga}})();var Dd={},Ed={},Fd={},Gd={};
function Hd(a,b,c,d,e){if(b)if(ja(b)){for(var f=0;f<b.length;f++)Hd(a,b[f],c,d,e);return l}else{d=!!d;var h=Ed;b in h||(h[b]=sd());h=h[b];if(!(d in h)){h[d]=sd();h.fa++}h=h[d];var i=pa(a),j;h.ic++;if(h[i]){j=h[i];for(f=0;f<j.length;f++){h=j[f];if(h.ee==c&&h.Lf==e){if(h.ge)break;return j[f].key}}}else{j=h[i]=ud();h.fa++}f=wd();f.src=a;h=zd();h.Ke(c,f,a,b,d,e);c=h.key;f.key=c;j.push(h);Dd[c]=h;Fd[i]||(Fd[i]=ud());Fd[i].push(h);if(a.addEventListener){if(a==ea||!a.Wg)a.addEventListener(b,f,d)}else a.attachEvent(Id(b),
f);return c}else g(Error("Invalid event type"))}function Jd(a,b,c,d,e){if(ja(b)){for(var f=0;f<b.length;f++)Jd(a,b[f],c,d,e);return l}d=!!d;a=Kd(a,b,d);if(!a)return n;for(f=0;f<a.length;f++)if(a[f].ee==c&&a[f].capture==d&&a[f].Lf==e)return Ld(a[f].key);return n}
function Ld(a){if(!Dd[a])return n;var b=Dd[a];if(b.ge)return n;var c=b.src,d=b.type,e=b.mj,f=b.capture;if(c.removeEventListener){if(c==ea||!c.Wg)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Id(d),e);c=pa(c);e=Ed[d][f][c];if(Fd[c]){var h=Fd[c];Ra(h,b);h.length==0&&delete Fd[c]}b.ge=k;e.gj=k;Md(d,f,c,e);delete Dd[a];return k}
function Md(a,b,c,d){if(!d.cg)if(d.gj){for(var e=0,f=0;e<d.length;e++)if(d[e].ge){var h=d[e].mj;h.src=l;yd(h);Ad(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.gj=n;if(f==0){vd(d);delete Ed[a][b][c];Ed[a][b].fa--;if(Ed[a][b].fa==0){td(Ed[a][b]);delete Ed[a][b];Ed[a].fa--}if(Ed[a].fa==0){td(Ed[a]);delete Ed[a]}}}}
function Nd(a,b,c){var d=0,e=b==l,f=c==l;c=!!c;if(a==l)cb(Fd,function(j){for(var m=j.length-1;m>=0;m--){var o=j[m];if((e||b==o.type)&&(f||c==o.capture)){Ld(o.key);d++}}});else{a=pa(a);if(Fd[a]){a=Fd[a];for(var h=a.length-1;h>=0;h--){var i=a[h];if((e||b==i.type)&&(f||c==i.capture)){Ld(i.key);d++}}}}return d}function Kd(a,b,c){var d=Ed;if(b in d){d=d[b];if(c in d){d=d[c];a=pa(a);if(d[a])return d[a]}}return l}function Id(a){if(a in Gd)return Gd[a];return Gd[a]="on"+a}
function Od(a,b,c,d,e){var f=1;b=pa(b);if(a[b]){a.ic--;a=a[b];if(a.cg)a.cg++;else a.cg=1;try{for(var h=a.length,i=0;i<h;i++){var j=a[i];if(j&&!j.ge)f&=Pd(j,e)!==n}}finally{a.cg--;Md(c,d,b,a)}}return Boolean(f)}function Pd(a,b){var c=a.handleEvent(b);a.ri&&Ld(a.key);return c}
xd(function(a,b){if(!Dd[a])return k;var c=Dd[a],d=c.type,e=Ed;if(!(d in e))return k;e=e[d];var f,h;if(ad===undefined)ad=E&&!ea.addEventListener;if(ad){f=b||fa("window.event");var i=k in e,j=n in e;if(i){if(f.keyCode<0||f.returnValue!=undefined)return k;a:{var m=n;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(o){m=k}if(m||f.returnValue==undefined)f.returnValue=k}}m=Bd();m.Ke(f,this);f=k;try{if(i){for(var p=ud(),q=m.currentTarget;q;q=q.parentNode)p.push(q);h=e[k];h.ic=h.fa;for(var t=p.length-1;!m.wd&&
t>=0&&h.ic;t--){m.currentTarget=p[t];f&=Od(h,p[t],d,k,m)}if(j){h=e[n];h.ic=h.fa;for(t=0;!m.wd&&t<p.length&&h.ic;t++){m.currentTarget=p[t];f&=Od(h,p[t],d,n,m)}}}else f=Pd(c,m)}finally{if(p){p.length=0;vd(p)}m.$();Cd(m)}return f}d=new hd(b,this);try{f=Pd(c,d)}finally{d.$()}return f});var Qd=0;function Rd(a){this.Gb=a}z(Rd,dd);var Sd=new md(0,100);s=Rd.prototype;s.u=function(a,b,c,d,e){if(ja(b))for(var f=0;f<b.length;f++)this.u(a,b[f],c,d,e);else{a=Hd(a,b,c||this,d||n,e||this.Gb||this);if(this.ha)this.ha[a]=k;else if(this.$c){this.ha=nd(Sd);this.ha[this.$c]=k;this.$c=l;this.ha[a]=k}else this.$c=a}return this};
s.mb=function(a,b,c,d,e){if(this.$c||this.ha)if(ja(b))for(var f=0;f<b.length;f++)this.mb(a,b[f],c,d,e);else{a:{c=c||this;e=e||this.Gb||this;d=!!d;if(a=Kd(a,b,d))for(b=0;b<a.length;b++)if(a[b].ee==c&&a[b].capture==d&&a[b].Lf==e){a=a[b];break a}a=l}if(a){a=a.key;Ld(a);if(this.ha)fb(this.ha,a);else if(this.$c==a)this.$c=l}}return this};s.We=function(){if(this.ha){for(var a in this.ha){Ld(a);delete this.ha[a]}od(Sd,this.ha);this.ha=l}else this.$c&&Ld(this.$c)};s.m=function(){Rd.h.m.call(this);this.We()};
s.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function Td(){}z(Td,dd);s=Td.prototype;s.Wg=k;s.ig=l;s.Ph=ba("ig");s.addEventListener=function(a,b,c,d){Hd(this,a,b,c,d)};s.removeEventListener=function(a,b,c,d){Jd(this,a,b,c,d)};
s.dispatchEvent=function(a){a=a;if(w(a))a=new ed(a,this);else if(a instanceof ed)a.target=a.target||this;else{var b=a;a=new ed(a.type,this);jb(a,b)}b=1;var c,d=a.type,e=Ed;if(d in e){e=e[d];d=k in e;var f;if(d){c=[];for(f=this;f;f=f.ig)c.push(f);f=e[k];f.ic=f.fa;for(var h=c.length-1;!a.wd&&h>=0&&f.ic;h--){a.currentTarget=c[h];b&=Od(f,c[h],a.type,k,a)&&a.Ye!=n}}if(n in e){f=e[n];f.ic=f.fa;if(d)for(h=0;!a.wd&&h<c.length&&f.ic;h++){a.currentTarget=c[h];b&=Od(f,c[h],a.type,n,a)&&a.Ye!=n}else for(c=this;!a.wd&&
c&&f.ic;c=c.ig){a.currentTarget=c;b&=Od(f,c,a.type,n,a)&&a.Ye!=n}}a=Boolean(b)}else a=k;return a};s.m=function(){Td.h.m.call(this);Nd(this);this.ig=l};function Ud(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}function Vd(){for(var a=new Ud(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),b=1;b<arguments.length;b++){var c=arguments[b];a.top=Math.min(a.top,c.y);a.right=Math.max(a.right,c.x);a.bottom=Math.max(a.bottom,c.y);a.left=Math.min(a.left,c.x)}return a}Ud.prototype.la=function(){return new Ud(this.top,this.right,this.bottom,this.left)};
Ud.prototype.contains=function(a){a=!this||!a?n:a instanceof Ud?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};Ud.prototype.expand=function(a,b,c,d){if(oa(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=c;this.left-=d}return this};function Wd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Wd.prototype.la=function(){return new Wd(this.left,this.top,this.width,this.height)};function Xd(a){return new Wd(a.left,a.top,a.right-a.left,a.bottom-a.top)}Wd.prototype.Ri=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a){this.left=b;this.top=d;this.width=c-b;this.height=a-d;return k}}return n};
Wd.prototype.contains=function(a){return a instanceof Wd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Wd.prototype.md=function(){return new zc(this.width,this.height)};function Yd(a,b){var c=Cc(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,l))return c[b]||c.getPropertyValue(b);return""}function Zd(a,b){return Yd(a,b)||(a.currentStyle?a.currentStyle[b]:l)||a.style[b]}function $d(a){return Zd(a,"position")}function ae(a,b,c){var d,e=F&&(Zb||ic)&&I("1.9");if(b instanceof J){d=b.x;b=b.y}else{d=b;b=c}a.style.left=be(d,e);a.style.top=be(b,e)}
function ce(a){var b=a.getBoundingClientRect();if(E){a=a.ownerDocument;b.left-=a.documentElement.clientLeft+a.body.clientLeft;b.top-=a.documentElement.clientTop+a.body.clientTop}return b}
function de(a){if(E)return a.offsetParent;var b=Cc(a),c=Zd(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Zd(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return l}
function ee(a){var b=new Ud(0,Infinity,Infinity,0),c=Ac(a),d=c.ba.body,e=!G&&Gc(c.ba)?c.ba.documentElement:c.ba.body,f;for(a=a;a=de(a);)if((!E||a.clientWidth!=0)&&(!G||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&Zd(a,"overflow")!="visible"){var h=fe(a),i;i=a;if(F&&!I("1.9")){var j=parseFloat(Yd(i,"borderLeftWidth"));if(ge(i)){var m=i.offsetWidth-i.clientWidth-j-parseFloat(Yd(i,"borderRightWidth"));j+=m}i=new J(j,parseFloat(Yd(i,"borderTopWidth")))}else i=
new J(i.clientLeft,i.clientTop);h.x+=i.x;h.y+=i.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);f=f||a!=e}d=e.scrollLeft;e=e.scrollTop;if(G){b.left+=d;b.top+=e}else{b.left=Math.max(b.left,d);b.top=Math.max(b.top,e)}if(!f||G){b.right+=d;b.bottom+=e}c=Jc(Kc(c.ba)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,e+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?
b:l}
function fe(a){var b,c=Cc(a),d=Zd(a,"position"),e=F&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),f=new J(0,0),h;b=c?c.nodeType==9?c:Cc(c):document;if(h=E){h=Ac(b);h=!Gc(h.ba)}h=h?b.body:b.documentElement;if(a==h)return f;if(a.getBoundingClientRect){b=ce(a);a=$c(Ac(c));f.x=b.left+a.x;f.y=b.top+a.y}else if(c.getBoxObjectFor&&!e){b=c.getBoxObjectFor(a);a=c.getBoxObjectFor(h);f.x=b.screenX-a.screenX;f.y=b.screenY-a.screenY}else{e=a;
do{f.x+=e.offsetLeft;f.y+=e.offsetTop;if(e!=a){f.x+=e.clientLeft||0;f.y+=e.clientTop||0}if(G&&$d(e)=="fixed"){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(ec||G&&d=="absolute")f.y-=c.body.offsetTop;for(e=a;(e=de(e))&&e!=c.body&&e!=h;){f.x-=e.scrollLeft;if(!ec||e.tagName!="TR")f.y-=e.scrollTop}}return f}
function he(a,b,c){if(b instanceof zc){c=b.height;b=b.width}else{if(c==undefined)g(Error("missing height argument"));c=c}a.style.width=be(b,k);a.style.height=be(c,k)}function be(a,b){if(typeof a=="number")a=(b?Math.round(a):a)+"px";return a}
function ie(a){var b=ec&&!I("10");if(Zd(a,"display")!="none")return b?new zc(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new zc(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new zc(b,a)}
function je(a){var b=fe(a);a=ie(a);return new Wd(b.x,b.y,a.width,a.height)}var ke={};function le(a){return ke[a]||(ke[a]=String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()}))}function me(a,b){var c=a.style;if("opacity"in c)c.opacity=b;else if("MozOpacity"in c)c.MozOpacity=b;else if("filter"in c)c.filter=b===""?"":"alpha(opacity="+b*100+")"}function ne(a,b){a.style.display=b?"":"none"}function oe(a,b){if(E)a.cssText=b;else a[G?"innerText":"innerHTML"]=b}
function ge(a){return"rtl"==Zd(a,"direction")}var pe=F?"MozUserSelect":G?"WebkitUserSelect":l;function qe(a,b,c){c=!c?a.getElementsByTagName("*"):l;if(pe){b=b?"none":"";a.style[pe]=b;if(c){a=0;for(var d;d=c[a];a++)d.style[pe]=b}}else if(E||ec){b=b?"on":"";a.setAttribute("unselectable",b);if(c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}};function re(){}ha(re);re.prototype.Fl=0;re.ra();function se(a){this.Eb=a||Ac();this.Ze=te}z(se,Td);se.prototype.pl=re.ra();var te=l;function ue(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}g(Error("Invalid component state"))}s=se.prototype;s.Ib=l;s.X=n;s.q=l;s.Ze=l;s.Fh=l;s.Aa=l;s.qa=l;s.ec=l;s.gm=n;
function ve(a){return a.Ib||(a.Ib=":"+(a.pl.Fl++).toString(36))}function we(a,b){if(a.Aa&&a.Aa.ec){fb(a.Aa.ec,a.Ib);gb(a.Aa.ec,b,a)}a.Ib=b}s.f=ca("q");s.eb=function(){return this.Xd||(this.Xd=new Rd(this))};function xe(a,b){if(a==b)g(Error("Unable to set parent component"));if(b&&a.Aa&&a.Ib&&ye(a.Aa,a.Ib)&&a.Aa!=b)g(Error("Unable to set parent component"));a.Aa=b;se.h.Ph.call(a,b)}s.Ph=function(a){if(this.Aa&&this.Aa!=a)g(Error("Method not supported"));se.h.Ph.call(this,a)};s.T=ca("Eb");
s.i=function(){this.q=this.Eb.createElement("div")};s.Q=function(a){ze(this,a)};function ze(a,b,c){if(a.X)g(Error("Component already rendered"));a.q||a.i();b?b.insertBefore(a.q,c||l):a.Eb.ba.body.appendChild(a.q);if(!a.Aa||a.Aa.X)a.ta()}s.ta=function(){this.X=k;Ae(this,function(a){!a.X&&a.f()&&a.ta()})};s.xb=function(){Ae(this,function(a){a.X&&a.xb()});this.Xd&&this.Xd.We();this.X=n};
s.m=function(){se.h.m.call(this);this.X&&this.xb();if(this.Xd){this.Xd.$();delete this.Xd}Ae(this,function(a){a.$()});!this.gm&&this.q&&Qc(this.q);this.Aa=this.Fh=this.q=this.ec=this.qa=l};s.wa=function(a,b){this.oe(a,Be(this),b)};
s.oe=function(a,b,c){if(a.X&&(c||!this.X))g(Error("Component already rendered"));if(b<0||b>Be(this))g(Error("Child component index out of bounds"));if(!this.ec||!this.qa){this.ec={};this.qa=[]}if(a.Aa==this){this.ec[ve(a)]=a;Ra(this.qa,a)}else gb(this.ec,ve(a),a);xe(a,this);Wa(this.qa,b,0,a);if(a.X&&this.X&&a.Aa==this){c=this.ya();c.insertBefore(a.f(),c.childNodes[b]||l)}else if(c){this.q||this.i();b=Ce(this,b+1);ze(a,this.ya(),b?b.q:l)}else this.X&&!a.X&&a.q&&a.ta()};s.ya=ca("q");
function De(a){if(a.Ze==l)a.Ze=ge(a.X?a.q:a.Eb.ba.body);return a.Ze}s.dd=function(a){if(this.X)g(Error("Component already rendered"));this.Ze=a};function Be(a){return a.qa?a.qa.length:0}function ye(a,b){var c;if(a.ec&&b){c=a.ec;c=b in c?c[b]:void 0;c=c||l}else c=l;return c}function Ce(a,b){return a.qa?a.qa[b]||l:l}function Ae(a,b,c){a.qa&&A(a.qa,b,c)}function Ee(a,b){return a.qa&&b?La(a.qa,b):-1}
s.removeChild=function(a,b){if(a){var c=w(a)?a:ve(a);a=ye(this,c);if(c&&a){fb(this.ec,c);Ra(this.qa,a);if(b){a.xb();a.q&&Qc(a.q)}xe(a,l)}}if(!a)g(Error("Child is not in parent component"));return a};function Fe(a,b,c,d,e){if(!E&&!(G&&I("525")))return k;if(Zb&&e)return Ge(a);if(e&&!d)return n;if(!c&&(b==17||b==18))return n;if(E&&d&&b==a)return n;switch(a){case 13:return k;case 27:return!G}return Ge(a)}
function Ge(a){if(a>=48&&a<=57)return k;if(a>=96&&a<=106)return k;if(a>=65&&a<=90)return k;if(G&&a==0)return k;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return k;default:return n}};function He(a,b){a&&Ie(this,a,b)}z(He,Td);s=He.prototype;s.q=l;s.$f=l;s.Ah=l;s.ag=l;s.ad=-1;s.Zc=-1;
var Je={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Ke={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Le={61:187,
59:186},Me=E||G&&I("525");s=He.prototype;s.od=function(a){if(G&&(this.ad==17&&!a.ctrlKey||this.ad==18&&!a.altKey))this.Zc=this.ad=-1;if(Me&&!Fe(a.keyCode,this.ad,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.Zc=F&&a.keyCode in Le?Le[a.keyCode]:a.keyCode};s.hl=function(){this.Zc=this.ad=-1};
s.handleEvent=function(a){var b=a.pc,c,d;if(E&&a.type=="keypress"){c=this.Zc;d=c!=13&&c!=27?b.keyCode:0}else if(G&&a.type=="keypress"){c=this.Zc;d=b.charCode>=0&&b.charCode<63232&&Ge(c)?b.charCode:0}else if(ec){c=this.Zc;d=Ge(c)?b.keyCode:0}else{c=b.keyCode||this.Zc;d=b.charCode||0;if(Zb&&d==63&&!c)c=191}var e=c,f=b.keyIdentifier;if(c)if(c>=63232&&c in Je)e=Je[c];else{if(c==25&&a.shiftKey)e=9}else if(f&&f in Ke)e=Ke[f];a=e==this.ad;this.ad=e;b=new Ne(e,d,a,b);try{this.dispatchEvent(b)}finally{b.$()}};
s.f=ca("q");function Ie(a,b,c){a.ag&&a.detach();a.q=b;a.$f=Hd(a.q,"keypress",a,c);a.Ah=Hd(a.q,"keydown",a.od,c,a);a.ag=Hd(a.q,"keyup",a.hl,c,a)}s.detach=function(){if(this.$f){Ld(this.$f);Ld(this.Ah);Ld(this.ag);this.ag=this.Ah=this.$f=l}this.q=l;this.Zc=this.ad=-1};s.m=function(){He.h.m.call(this);this.detach()};function Ne(a,b,c,d){d&&this.Ke(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}z(Ne,hd);function Oe(a,b){a.setAttribute("role",b);a.An=b}function Pe(a,b,c){a.setAttribute("aria-"+b,c)};function Qe(){}var Re;ha(Qe);s=Qe.prototype;s.Zb=aa();s.i=function(a){return a.T().i("div",this.Ic(a).join(" "),a.Qa)};s.ya=function(a){return a};s.ye=function(a,b,c){if(a=a.f?a.f():a)if(E&&!I("7")){var d=Se(this,uc(a),b);d.push(b);va(c?vc:wc,a).apply(l,d)}else c?vc(a,b):wc(a,b)};s.uc=function(a){De(a)&&this.dd(a.f(),k);a.na()&&this.wc(a,a.ab())};s.ng=function(a,b){qe(a,!b,!E&&!ec)};s.dd=function(a,b){this.ye(a,this.t()+"-rtl",b)};s.Yc=function(a){var b;if(a.fb&32&&(b=a.Sa()))return Wc(b);return n};
s.wc=function(a,b){var c;if(a.fb&32&&(c=a.Sa())){if(!b&&a.Ma&32){try{c.blur()}catch(d){}a.Ma&32&&a.Xc(l)}if(Wc(c)!=b){c=c;if(b)c.tabIndex=0;else c.removeAttribute("tabIndex")}}};s.Da=function(a,b){ne(a,b)};s.Mb=function(a,b,c){var d=a.f();if(d){var e=this.Bf(b);e&&this.ye(a,e,c);this.hf(d,b,c)}};s.hf=function(a,b,c){Re||(Re=kb(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=Re[b])&&Pe(a,b,c)};
s.jc=function(a,b){var c=this.ya(a);if(c){Pc(c);if(b)if(w(b))Tc(c,b);else{var d=function(e){if(e){var f=Cc(c);c.appendChild(w(e)?f.createTextNode(e):e)}};if(ja(b))A(b,d);else ka(b)&&!("nodeType"in b)?A(Ua(b),d):d(b)}}};s.Sa=function(a){return a.f()};s.t=r("goog-control");s.Ic=function(a){var b=this.t(),c=[b],d=this.t();d!=b&&c.push(d);b=a.Ma;for(d=[];b;){var e=b&-b;d.push(this.Bf(e));b&=~e}c.push.apply(c,d);(a=a.qc)&&c.push.apply(c,a);E&&!I("7")&&c.push.apply(c,Se(this,c));return c};
function Se(a,b,c){var d=[];if(c)b=b.concat([c]);A([],function(e){if(Pa(e,va(C,b))&&(!c||C(e,c)))d.push(e.join("_"))});return d}s.Bf=function(a){if(!this.ui){var b=this.t();this.ui=kb(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")}return this.ui[a]};function Te(a,b){if(!a)g(Error("Invalid class name "+a));if(!ma(b))g(Error("Invalid decorator function "+b))}var Ue={};function Ve(a,b,c){se.call(this,c);if(!(b=b)){b=this.constructor;for(var d;b;){d=pa(b);if(d=Ue[d])break;b=b.h?b.h.constructor:l}b=d?ma(d.ra)?d.ra():new d:l}this.w=b;this.og(a)}z(Ve,se);s=Ve.prototype;s.Qa=l;s.Ma=0;s.fb=39;s.oi=255;s.Yh=0;s.nb=k;s.qc=l;s.ph=k;s.Kg=n;function We(a,b){a.X&&b!=a.ph&&Xe(a,b);a.ph=b}s.Sa=function(){return this.w.Sa(this)};s.Ff=function(){return this.$b||(this.$b=new He)};s.Gg=function(a){if(a){if(this.qc)C(this.qc,a)||this.qc.push(a);else this.qc=[a];this.w.ye(this,a,k)}};
s.ye=function(a,b){if(b)this.Gg(a);else if(a&&this.qc){Ra(this.qc,a);if(this.qc.length==0)this.qc=l;this.w.ye(this,a,n)}};s.i=function(){var a=this.w.i(this);this.q=a;var b=this.w.Zb();b&&Oe(a,b);this.Kg||this.w.ng(a,n);this.ab()||this.w.Da(a,n)};s.ya=function(){return this.w.ya(this.f())};s.ta=function(){Ve.h.ta.call(this);this.w.uc(this);if(this.fb&-2){this.ph&&Xe(this,k);if(this.fb&32){var a=this.Sa();if(a){var b=this.Ff();Ie(b,a);this.eb().u(b,"key",this.sc).u(a,"focus",this.If).u(a,"blur",this.Xc)}}}};
function Xe(a,b){var c=a.eb(),d=a.f();if(b){c.u(d,"mouseover",a.$d).u(d,"mousedown",a.ib).u(d,"mouseup",a.pd).u(d,"mouseout",a.Zd);E&&c.u(d,"dblclick",a.Hi)}else{c.mb(d,"mouseover",a.$d).mb(d,"mousedown",a.ib).mb(d,"mouseup",a.pd).mb(d,"mouseout",a.Zd);E&&c.mb(d,"dblclick",a.Hi)}}s.xb=function(){Ve.h.xb.call(this);this.$b&&this.$b.detach();this.ab()&&this.na()&&this.w.wc(this,n)};s.m=function(){Ve.h.m.call(this);if(this.$b){this.$b.$();delete this.$b}delete this.w;this.qc=this.Qa=l};
s.jc=function(a){this.w.jc(this.f(),a);this.og(a)};s.og=ba("Qa");function Ye(a,b){var c=a.Qa;if(!c||w(c))return c;return(c=ja(c)?B(c,b).join(""):Xc(c))&&xa(c)}s.ze=function(){return Ye(this,Xc)};s.dd=function(a){Ve.h.dd.call(this,a);var b=this.f();b&&this.w.dd(b,a)};s.ng=function(a){this.Kg=a;var b=this.f();b&&this.w.ng(b,a)};s.ab=ca("nb");s.Da=function(a,b){if(b||this.nb!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.f();c&&this.w.Da(c,a);this.na()&&this.w.wc(this,a);this.nb=a;return k}return n};
s.na=function(){return!(this.Ma&1)};s.vc=function(a){var b=this.Aa;if(!(b&&typeof b.na=="function"&&!b.na())&&Ze(this,1,!a)){if(!a){this.setActive(n);this.xc(n)}this.ab()&&this.w.wc(this,a);this.Mb(1,!a)}};s.xc=function(a){Ze(this,2,a)&&this.Mb(2,a)};s.aa=function(){return!!(this.Ma&4)};s.setActive=function(a){Ze(this,4,a)&&this.Mb(4,a)};s.Uh=function(a){Ze(this,8,a)&&this.Mb(8,a)};s.Uf=function(){return!!(this.Ma&16)};function $e(a,b){Ze(a,16,b)&&a.Mb(16,b)}
s.va=function(a){Ze(this,64,a)&&this.Mb(64,a)};s.Mb=function(a,b){if(this.fb&a&&b!=!!(this.Ma&a)){this.w.Mb(this,a,b);this.Ma=b?this.Ma|a:this.Ma&~a}};function af(a,b,c){if(a.X&&a.Ma&b&&!c)g(Error("Component already rendered"));!c&&a.Ma&b&&a.Mb(b,n);a.fb=c?a.fb|b:a.fb&~b}function bf(a,b){return!!(a.oi&b)&&!!(a.fb&b)}function Ze(a,b,c){return!!(a.fb&b)&&!!(a.Ma&b)!=c&&(!(a.Yh&b)||a.dispatchEvent(ue(b,c)))&&!a.Zg}
s.$d=function(a){!cf(a,this.f())&&this.dispatchEvent("enter")&&this.na()&&bf(this,2)&&this.xc(k)};s.Zd=function(a){if(!cf(a,this.f())&&this.dispatchEvent("leave")){bf(this,4)&&this.setActive(n);bf(this,2)&&this.xc(n)}};function cf(a,b){return!!a.relatedTarget&&Sc(b,a.relatedTarget)}s.ib=function(a){if(this.na()){bf(this,2)&&this.xc(k);if(jd(a,0)){bf(this,4)&&this.setActive(k);this.w.Yc(this)&&this.Sa().focus()}}!this.Kg&&jd(a,0)&&a.preventDefault()};
s.pd=function(a){if(this.na()){bf(this,2)&&this.xc(k);this.aa()&&this.Mc(a)&&bf(this,4)&&this.setActive(n)}};s.Hi=function(a){this.na()&&this.Mc(a)};s.Mc=function(a){bf(this,16)&&$e(this,!this.Uf());bf(this,8)&&this.Uh(k);bf(this,64)&&this.va(!(this.Ma&64));var b=new ed("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,e=0;d=c[e];e++)b[d]=a[d];return this.dispatchEvent(b)};s.If=function(){bf(this,32)&&Ze(this,32,k)&&this.Mb(32,k)};
s.Xc=function(){bf(this,4)&&this.setActive(n);bf(this,32)&&Ze(this,32,n)&&this.Mb(32,n)};s.sc=function(a){if(this.ab()&&this.na()&&this.Yd(a)){a.preventDefault();a.stopPropagation();return k}return n};s.Yd=function(a){return a.keyCode==13&&this.Mc(a)};if(!ma(Ve))g(Error("Invalid component class "+Ve));if(!ma(Qe))g(Error("Invalid renderer class "+Qe));var df=pa(Ve);Ue[df]=Qe;Te("goog-control",function(){return new Ve(l)});function ef(){this.vi=[]}z(ef,Qe);ha(ef);function ff(a,b){var c=a.vi[b];if(!c){switch(b){case 0:c=a.t()+"-highlight";break;case 1:c=a.t()+"-checkbox";break;case 2:c=a.t()+"-content"}a.vi[b]=c}return c}s=ef.prototype;s.Zb=r("menuitem");s.i=function(a){var b=a.T().i("div",this.Ic(a).join(" "),gf(this,a.Qa,a.T()));hf(this,a,b,!!(a.fb&8)||!!(a.fb&16));return b};s.ya=function(a){return a&&a.firstChild};
s.jc=function(a,b){var c=this.ya(a),d=jf(this,a)?c.firstChild:l;ef.h.jc.call(this,a,b);if(d&&!jf(this,a))c.insertBefore(d,c.firstChild||l)};function gf(a,b,c){a=ff(a,2);return c.i("div",a,b)}s.Sh=function(a,b,c){if(b){Oe(b,c?"menuitemradio":this.Zb());hf(this,a,b,c)}};s.Lh=function(a,b,c){if(b){Oe(b,c?"menuitemcheckbox":this.Zb());hf(this,a,b,c)}};function jf(a,b){var c=a.ya(b);if(c){c=c.firstChild;var d=ff(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return n}
function hf(a,b,c,d){if(d!=jf(a,c)){d?vc(c,"goog-option"):wc(c,"goog-option");c=a.ya(c);if(d){a=ff(a,1);c.insertBefore(b.T().i("div",a),c.firstChild||l)}else c.removeChild(c.firstChild)}}s.Bf=function(a){switch(a){case 2:return ff(this,0);case 16:case 8:return"goog-option-selected";default:return ef.h.Bf.call(this,a)}};s.t=r("goog-menuitem");function kf(a,b,c,d){Ve.call(this,a,d||ef.ra(),c);this.Ia(b)}z(kf,Ve);s=kf.prototype;s.Ua=function(){var a=this.Fh;return a!=l?a:this.ze()};s.Ia=ba("Fh");s.Sh=function(a){af(this,8,a);this.Uf()&&!a&&$e(this,n);var b=this.f();b&&this.w.Sh(this,b,a)};s.Lh=function(a){af(this,16,a);var b=this.f();b&&this.w.Lh(this,b,a)};s.ze=function(){return Ye(this,function(a){return C(uc(a),"goog-menuitem-accel")?"":Xc(a)})};Te("goog-menuitem",function(){return new kf(l)});function lf(a,b){this.Tf=a||1;this.ff=b||mf;this.Ng=ua(this.cm,this);this.Dh=wa()}z(lf,Td);lf.prototype.enabled=n;var mf=ea.window;s=lf.prototype;s.bc=l;s.cm=function(){if(this.enabled){var a=wa()-this.Dh;if(a>0&&a<this.Tf*0.8)this.bc=this.ff.setTimeout(this.Ng,this.Tf-a);else{this.dispatchEvent(nf);if(this.enabled){this.bc=this.ff.setTimeout(this.Ng,this.Tf);this.Dh=wa()}}}};s.start=function(){this.enabled=k;if(!this.bc){this.bc=this.ff.setTimeout(this.Ng,this.Tf);this.Dh=wa()}};
s.stop=function(){this.enabled=n;if(this.bc){this.ff.clearTimeout(this.bc);this.bc=l}};s.m=function(){lf.h.m.call(this);this.stop();delete this.ff};var nf="tick";function of(a,b,c){if(ma(a)){if(c)a=ua(a,c)}else if(a&&typeof a.handleEvent=="function")a=ua(a.handleEvent,a);else g(Error("Invalid listener argument"));return b>2147483647?-1:mf.setTimeout(a,b||0)};function pf(a){this.q=a;a=E?"focusout":"blur";this.ul=Hd(this.q,E?"focusin":"focus",this,!E);this.vl=Hd(this.q,a,this,!E)}z(pf,Td);pf.prototype.handleEvent=function(a){var b=new hd(a.pc);b.type=a.type=="focusin"||a.type=="focus"?"focusin":"focusout";try{this.dispatchEvent(b)}finally{b.$()}};pf.prototype.m=function(){pf.h.m.call(this);Ld(this.ul);Ld(this.vl);delete this.q};function qf(a,b,c){this.target=a;this.handle=b||a;this.Eh=c||new Wd(NaN,NaN,NaN,NaN);this.ba=Cc(a);this.oc=new Rd(this);Hd(this.handle,"mousedown",this.Bc,n,this)}z(qf,Td);var rf=E||F&&I("1.9.3");s=qf.prototype;s.screenX=0;s.screenY=0;s.Fj=0;s.Gj=0;s.vb=0;s.wb=0;s.Ea=k;s.Rc=n;s.Pi=0;s.Bl=0;s.ql=n;s.eb=ca("oc");s.vc=ba("Ea");s.m=function(){qf.h.m.call(this);Jd(this.handle,"mousedown",this.Bc,n,this);this.oc.$();delete this.target;delete this.handle;delete this.oc};
s.Bc=function(a){if(this.Ea&&!this.Rc&&(a.type!="mousedown"||jd(a,0))){if(this.Pi==0){sf(this,a);if(this.Rc)a.preventDefault();else return}else a.preventDefault();var b=this.ba,c=b.documentElement,d=!rf;this.oc.u(b,"mousemove",this.Dl,d);this.oc.u(b,"mouseup",this.yf,d);if(rf){c.setCapture(n);this.oc.u(c,"losecapture",this.yf)}else this.oc.u(b?Kc(b):window,"blur",this.yf);E&&this.ql&&this.oc.u(b,"dragstart",fd);this.Ul&&this.oc.u(this.Ul,"scroll",this.Il,d);this.screenX=this.Fj=a.screenX;this.screenY=
this.Gj=a.screenY;this.vb=this.target.offsetLeft;this.wb=this.target.offsetTop;this.Ue=$c(Ac(this.ba));this.Bl=wa()}};function sf(a,b){if(a.dispatchEvent(new tf("start",a,b.clientX,b.clientY,b))!==n)a.Rc=k}s.yf=function(a,b){this.oc.We();rf&&this.ba.releaseCapture();if(this.Rc){this.Rc=n;this.dispatchEvent(new tf("end",this,a.clientX,a.clientY,a,uf(this,this.vb),vf(this,this.wb),b))}};
s.Dl=function(a){if(this.Ea){var b=a.screenX-this.screenX,c=a.screenY-this.screenY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Rc){var d=this.Fj-this.screenX,e=this.Gj-this.screenY;if(d*d+e*e>this.Pi){sf(this,a);if(!this.Rc){this.yf(a);return}}}c=wf(this,b,c);b=c.x;c=c.y;if(this.Rc)if(this.dispatchEvent(new tf("beforedrag",this,a.clientX,a.clientY,a,b,c))!==n){xf(this,a,b,c,n);a.preventDefault()}}};
function wf(a,b,c){var d=$c(Ac(a.ba));b+=d.x-a.Ue.x;c+=d.y-a.Ue.y;a.Ue=d;a.vb+=b;a.wb+=c;return new J(uf(a,a.vb),vf(a,a.wb))}s.Il=function(a){var b=wf(this,0,0);a.clientX=this.Ue.x-this.screenX;a.clientY=this.Ue.x-this.screenY;xf(this,a,b.x,b.y,k)};function xf(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new tf("drag",a,b.clientX,b.clientY,b,c,d))}
function uf(a,b){var c=a.Eh,d=!isNaN(c.left)?c.left:l;c=!isNaN(c.width)?c.width:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}function vf(a,b){var c=a.Eh,d=!isNaN(c.top)?c.top:l;c=!isNaN(c.height)?c.height:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}function tf(a,b,c,d,e,f,h,i){ed.call(this,a);this.clientX=c;this.clientY=d;this.Hm=e;this.left=f!==undefined?f:b.vb;this.top=h!==undefined?h:b.wb;this.Qm=b;this.Om=!!i}z(tf,ed);function yf(a,b,c){se.call(this,c);this.Xb=a||"modal-dialog";this.bi=!!b;this.Wb=zf()}z(yf,se);s=yf.prototype;s.Af=l;s.Ik=k;s.Oi=k;s.bi=n;s.dg=k;s.Di=k;s.Ck=0.5;s.Nj="";s.Qa="";s.Wb=l;s.Rd=l;s.nb=n;s.Hk=n;s.Oa=l;s.Ka=l;s.rg=l;s.gf=l;s.Mj=l;s.qg=l;s.qe=l;s.lc=l;s.jc=function(a){this.Qa=a;if(this.qe)this.qe.innerHTML=a};s.ya=function(){this.f()||this.Q();return this.qe};
s.i=function(){if(this.bi&&this.dg&&!this.Ka){this.Ka=this.T().i("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});this.Ka.className=this.Xb+"-bg";ne(this.Ka,n);me(this.Ka,0)}else if((!this.bi||!this.dg)&&this.Ka){Qc(this.Ka);this.Ka=l}if(this.dg&&!this.Oa){this.Oa=this.T().i("div",this.Xb+"-bg");me(this.Oa,this.Ck);ne(this.Oa,n)}else if(!this.dg&&this.Oa){Qc(this.Oa);this.Oa=l}var a=this.T();this.q=a.i("div",{className:this.Xb,tabIndex:0},this.rg=a.i("div",{className:this.Xb+
"-title",id:ve(this)},this.gf=a.i("span",this.Xb+"-title-text",this.Nj),this.qg=a.i("span",this.Xb+"-title-close")),this.qe=a.i("div",this.Xb+"-content"),this.lc=a.i("div",this.Xb+"-buttons"),this.Hj=a.i("span",{tabIndex:0}));this.Mj=this.rg.id;Oe(this.f(),"dialog");Pe(this.f(),"labelledby",this.Mj||"");if(this.Qa)this.qe.innerHTML=this.Qa;ne(this.qg,this.Oi);ne(this.f(),n);if(this.Wb){a=this.Wb;a.q=this.lc;a.Q()}};
s.Q=function(a){if(this.X)g(Error("Component already rendered"));this.f()||this.i();a=a||Zc(this.T()).body;this.Ka&&a.appendChild(this.Ka);this.Oa&&a.appendChild(this.Oa);yf.h.Q.call(this,a)};s.ta=function(){yf.h.ta.call(this);this.Af=new pf(Zc(this.T()));if(this.Di&&!this.Rd){var a=new qf(this.f(),this.rg);vc(this.rg,this.Xb+"-title-draggable");this.Rd=a}this.eb().u(this.qg,"click",this.Kl).u(this.Af,"focusin",this.Gl);Oe(this.f(),"dialog");this.gf.id!==""&&Pe(this.f(),"labelledby",this.gf.id)};
s.xb=function(){this.ab()&&this.Da(n);this.Af.$();this.Af=l;if(this.Rd){this.Rd.$();this.Rd=l}yf.h.xb.call(this)};
s.Da=function(a){if(a!=this.nb){var b=Zc(this.T()),c=(b?Kc(b):window)||window;this.X||this.Q(b.body);if(a){Af(this);this.xd();this.eb().u(this.f(),"keydown",this.gg).u(this.f(),"keypress",this.gg).u(c,"resize",this.lj)}else this.eb().mb(this.f(),"keydown",this.gg).mb(this.f(),"keypress",this.gg).mb(c,"resize",this.lj);this.Ka&&ne(this.Ka,a);this.Oa&&ne(this.Oa,a);ne(this.f(),a);a&&this.focus();if(this.nb=a)this.eb().u(this.lc,"click",this.ij);else{this.eb().mb(this.lc,"click",this.ij);this.dispatchEvent(Bf);
this.Hk&&this.$()}}};s.ab=ca("nb");s.focus=function(){try{this.f().focus()}catch(a){}if(this.Wb){var b=this.Wb.ve;if(b)for(var c=Zc(this.T()),d=this.lc.getElementsByTagName("button"),e=0,f;f=d[e];e++)if(f.name==b){try{if(G||ec){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.f().appendChild(h);h.focus();this.f().removeChild(h)}f.focus()}catch(i){}break}}};
function Af(a){a.Ka&&ne(a.Ka,n);a.Oa&&ne(a.Oa,n);var b=Zc(a.T()),c=Jc((b?Kc(b):window)||window||window),d=Math.max(b.body.scrollWidth,c.width);b=Math.max(b.body.scrollHeight,c.height);if(a.Ka){ne(a.Ka,k);he(a.Ka,d,b)}if(a.Oa){ne(a.Oa,k);he(a.Oa,d,b)}if(a.Di){c=ie(a.f());a.Rd.Eh=new Wd(0,0,d-c.width,b-c.height)}}
s.xd=function(){var a=Zc(this.T()),b=(a?Kc(a):window)||window;if($d(this.f())=="fixed")var c=a=0;else{c=$c(this.T());a=c.x;c=c.y}var d=ie(this.f());b=Jc(b||window);a=Math.max(a+b.width/2-d.width/2,0);c=Math.max(c+b.height/2-d.height/2,0);ae(this.f(),a,c)};s.Kl=function(){if(this.Oi){var a=this.Wb,b=a&&a.Qg;if(b){a=a.l(b);this.dispatchEvent(new Cf(b,a))&&this.Da(n)}else this.Da(n)}};
s.m=function(){yf.h.m.call(this);if(this.Oa){Qc(this.Oa);this.Oa=l}if(this.Ka){Qc(this.Ka);this.Ka=l}this.Hj=this.lc=this.qg=l};s.ij=function(a){a:{for(a=a.target;a!=l&&a!=this.lc;){if(a.tagName=="BUTTON"){a=a;break a}a=a.parentNode}a=l}if(a&&!a.disabled){a=a.name;var b=this.Wb.l(a);this.dispatchEvent(new Cf(a,b))&&this.Da(n)}};
s.gg=function(a){var b=n,c=n,d=this.Wb,e=a.target;if(a.type=="keydown")if(this.Ik&&a.keyCode==27){var f=d&&d.Qg;e=e.tagName=="SELECT"&&!e.disabled;if(f&&!e){c=k;b=d.l(f);b=this.dispatchEvent(new Cf(f,b))}else e||(b=k)}else{if(a.keyCode==9&&a.shiftKey&&e==this.f())c=k}else if(a.keyCode==13){if(e.tagName=="BUTTON")f=e.name;else if(d){var h=d.ve,i;if(i=h)a:{i=d.q.getElementsByTagName("BUTTON");for(var j=0,m;m=i[j];j++)if(m.name==h||m.id==h){i=m;break a}i=l}i=i;e=(e.tagName=="TEXTAREA"||e.tagName=="SELECT")&&
!e.disabled;if(i&&!i.disabled&&!e)f=h}if(f){c=k;b=this.dispatchEvent(new Cf(f,String(d.l(f))))}}if(b||c){a.stopPropagation();a.preventDefault()}b&&this.Da(n)};s.lj=function(){Af(this)};s.Gl=function(a){this.Hj==a.target&&of(this.Jk,0,this)};s.Jk=function(){E&&Zc(this.T()).body.focus();this.f().focus()};function Cf(a,b){this.type=Df;this.key=a;this.caption=b}z(Cf,ed);var Df="dialogselect",Bf="afterhide";function Ef(a){this.Eb=a||Ac();ob.call(this)}z(Ef,ob);s=Ef.prototype;s.Xb="goog-buttonset";
s.ve=l;s.q=l;s.Qg=l;s.zb=function(a,b,c,d){ob.prototype.zb.call(this,a,b);if(c)this.ve=a;if(d)this.Qg=a;return this};function Ff(a,b,c,d){return a.zb(b.key,b.caption,c,d)}s.Q=function(){if(this.q){this.q.innerHTML="";var a=Ac(this.q);nb(this,function(b,c){var d=a.i("button",{name:c},b);if(c==this.ve)d.className=this.Xb+"-default";this.q.appendChild(d)},this)}};
var Gf=x("OK"),Hf=x("Cancel"),If=x("Yes"),Jf=x("No"),Kf=x("Save"),Lf=x("Continue"),Mf={key:"ok",caption:Gf},Nf={key:"cancel",caption:Hf},Of={key:"yes",caption:If},Pf={key:"no",caption:Jf},Qf={key:"save",caption:Kf},Rf={key:"continue",caption:Lf};function zf(){return Ff(Ff(new Ef,Mf,k),Nf,n,k)}Ff(new Ef,Mf,k,k);zf();Ff(Ff(new Ef,Of,k),Pf,n,k);Ff(Ff(Ff(new Ef,Of),Pf,k),Nf,n,k);Ff(Ff(Ff(new Ef,Rf),Qf),Nf,k,k);function Sf(a,b,c,d,e,f,h){yf.call(this,e,f,h);this.Nj=a;this.gf&&Tc(this.gf,a);this.jc(b+"<br><br>");this.Pg=c;this.vf=d!==undefined?d:"";Hd(this,Df,this.jj);a=x("OK");b=x("Cancel");h=new Ef(h);h.zb("ok",a,k);h.zb("cancel",b,n,k);this.Wb=h;if(this.lc)if(this.Wb){h=this.Wb;h.q=this.lc;h.Q()}else this.lc.innerHTML=""}z(Sf,yf);s=Sf.prototype;s.Pg=ga;s.vf="";s.Qb=l;s.uh=n;s.Ih=1;s.sf=0;
s.i=function(){Sf.h.i.call(this);var a={className:this.Xb+"-userInput",value:this.vf};if(this.Ih==1){this.Qb=this.T().i("input",a);this.Qb.type="text";if(this.sf)this.Qb.size=this.sf}else{this.Qb=this.T().i("textarea",a);this.Qb.rows=this.Ih;if(this.sf)this.Qb.cols=this.sf}this.ya().appendChild(this.T().i("div",{style:"overflow: auto"},this.Qb));if(this.Ih>1)this.Wb.ve=l};s.Da=function(a){yf.prototype.Da.call(this,a);if(a){this.uh=n;this.Qb.value=this.vf;this.focus()}};
s.focus=function(){ec&&this.Qb.focus();this.Qb.select()};s.Xl=ba("vf");s.jj=function(a){if(!this.uh){this.uh=k;a.key=="ok"?of(ua(this.Pg,this,this.Qb.value),1):of(ua(this.Pg,this,l),1)}};s.m=function(){Qc(this.Qb);Jd(this,Df,this.jj,k,this);Sf.h.m.call(this);this.Qb=this.Nm=l};function Tf(a,b,c,d,e,f,h,i){var j,m=c.offsetParent;if(m){var o=m.tagName=="HTML"||m.tagName=="BODY";if(!o||$d(m)!="static"){j=fe(m);o||(j=yc(j,new J(m.scrollLeft,m.scrollTop)))}}m=je(a);(o=ee(a))&&m.Ri(Xd(o));o=Ac(a);var p=Ac(c);if(o.ba!=p.ba){var q=o.ba.body;p=Kc(p.ba);var t=new J(0,0),v=Cc(q)?Kc(Cc(q)):window,y=q;do{var H;if(v==p)H=fe(y);else{var K=y;H=new J;if(K.nodeType==1)if(K.getBoundingClientRect){var na=ce(K);H.x=na.left;H.y=na.top}else{na=$c(Ac(K));K=fe(K);H.x=K.x-na.x;H.y=K.y-na.y}else{H.x=
K.clientX;H.y=K.clientY}H=H}H=H;t.x+=H.x;t.y+=H.y}while(v&&v!=p&&(y=v.frameElement)&&(v=v.parent));q=yc(t,fe(q));if(E&&!Gc(o.ba))q=yc(q,$c(o));m.left+=q.x;m.top+=q.y}a=(b&4&&ge(a)?b^2:b)&-5;b=new J(a&2?m.left+m.width:m.left,a&1?m.top+m.height:m.top);if(j)b=yc(b,j);if(e){b.x+=(a&2?-1:1)*e.x;b.y+=(a&1?-1:1)*e.y}var Y;if(h)if((Y=ee(c))&&j){Y.top=Math.max(0,Y.top-j.y);Y.right-=j.x;Y.bottom-=j.y;Y.left=Math.max(0,Y.left-j.x)}a:{j=Y;e=b.la();Y=0;a=(d&4&&ge(c)?d^2:d)&-5;d=ie(c);i=i?i.la():d;if(f||a!=0){if(a&
2)e.x-=i.width+(f?f.right:0);else if(f)e.x+=f.left;if(a&1)e.y-=i.height+(f?f.bottom:0);else if(f)e.y+=f.top}if(h){if(j){f=e;Y=0;if(f.x<j.left&&h&1){f.x=j.left;Y|=1}if(f.x<j.left&&f.x+i.width>j.right&&h&16){i.width-=f.x+i.width-j.right;Y|=4}if(f.x+i.width>j.right&&h&1){f.x=Math.max(j.right-i.width,j.left);Y|=1}if(h&2)Y|=(f.x<j.left?16:0)|(f.x+i.width>j.right?32:0);if(f.y<j.top&&h&4){f.y=j.top;Y|=2}if(f.y>=j.top&&f.y+i.height>j.bottom&&h&32){i.height-=f.y+i.height-j.bottom;Y|=8}if(f.y+i.height>j.bottom&&
h&4){f.y=Math.max(j.bottom-i.height,j.top);Y|=2}if(h&8)Y|=(f.y<j.top?64:0)|(f.y+i.height>j.bottom?128:0);h=Y}else h=256;Y=h;if(Y&496){c=Y;break a}}ae(c,e);h=d==i?k:!d||!i?n:d.width==i.width&&d.height==i.height;h||he(c,i);c=Y}return c};function Uf(){}Uf.prototype.xd=aa();function Vf(a,b){this.element=a;this.Qd=b}z(Vf,Uf);Vf.prototype.xd=function(a,b,c){Tf(this.element,this.Qd,a,b,undefined,c)};function Wf(a,b,c){Vf.call(this,a,b);this.rk=c}z(Wf,Vf);Wf.prototype.xd=function(a,b,c,d){var e=Tf(this.element,this.Qd,a,b,l,c,10,d);if(e&496){var f=this.Qd,h=b;if(e&48){f^=2;h^=2}if(e&192){f^=1;h^=1}e=Tf(this.element,f,a,h,l,c,10,d);if(e&496)this.rk?Tf(this.element,this.Qd,a,b,l,c,5,d):Tf(this.element,this.Qd,a,b,l,c,0,d)}};function Xf(a,b,c,d){Wf.call(this,a,b,c);this.Sl=d}z(Xf,Wf);Xf.prototype.xd=function(a,b,c,d){this.Sl?Tf(this.element,this.Qd,a,b,l,c,33,d):Xf.h.xd.call(this,a,b,c,d)};function Yf(){}z(Yf,Qe);ha(Yf);s=Yf.prototype;s.Zb=r("button");s.hf=function(a,b,c){b==16?Pe(a,"pressed",c):Yf.h.hf.call(this,a,b,c)};s.i=function(a){var b=Yf.h.i.call(this,a),c=a.Wd();c&&this.bf(b,c);(c=a.Ua())&&this.Ia(b,c);a.fb&16&&this.hf(b,16,n);return b};s.Ua=ga;s.Ia=ga;s.Wd=function(a){return a.title};s.bf=function(a,b){if(a)a.title=b||""};s.t=r("goog-button");function Zf(){}z(Zf,Yf);ha(Zf);s=Zf.prototype;s.Zb=aa();s.i=function(a){We(a,n);a.oi&=-256;af(a,32,n);return a.T().i("button",{"class":this.Ic(a).join(" "),disabled:!a.na(),title:a.Wd()||"",value:a.Ua()||""},a.ze()||"")};s.uc=function(a){a.eb().u(a.f(),"click",a.Mc)};s.ng=ga;s.dd=ga;s.Yc=function(a){return a.na()};s.wc=ga;s.Mb=function(a,b,c){Zf.h.Mb.call(this,a,b,c);if((a=a.f())&&b==1)a.disabled=c};s.Ua=function(a){return a.value};s.Ia=function(a,b){if(a)a.value=b};s.hf=ga;function $f(a,b,c){Ve.call(this,a,b||Zf.ra(),c)}z($f,Ve);s=$f.prototype;s.Ua=ca("Qj");s.Ia=function(a){this.Qj=a;this.w.Ia(this.f(),a)};s.Wd=ca("Oj");s.bf=function(a){this.Oj=a;this.w.bf(this.f(),a)};s.m=function(){$f.h.m.call(this);delete this.Qj;delete this.Oj};s.ta=function(){$f.h.ta.call(this);if(this.fb&32){var a=this.Sa();a&&this.eb().u(a,"keyup",this.Yd)}};s.Yd=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Mc(a);return a.keyCode==32};
Te("goog-button",function(){return new $f(l)});function ag(){}z(ag,Qe);ha(ag);ag.prototype.i=function(a){return a.T().i("div",this.t())};ag.prototype.jc=aa();ag.prototype.t=r("goog-menuseparator");function bg(a,b){Ve.call(this,l,a||ag.ra(),b);af(this,1,n);af(this,2,n);af(this,4,n);af(this,32,n);this.Ma=1}z(bg,Ve);bg.prototype.ta=function(){bg.h.ta.call(this);Oe(this.f(),"separator")};Te("goog-menuseparator",function(){return new bg});function cg(){}ha(cg);s=cg.prototype;s.Zb=aa();function dg(a,b,c){if(b)b.tabIndex=c?0:-1}s.i=function(a){return a.T().i("div",this.Ic(a).join(" "))};s.ya=function(a){return a};s.uc=function(a){a=a.f();qe(a,k,F);if(E)a.hideFocus=k;var b=this.Zb();b&&Oe(a,b)};s.Sa=function(a){return a.f()};s.t=r("goog-container");s.Ic=function(a){var b=this.t(),c=[b,a.Gf()==eg?b+"-horizontal":b+"-vertical"];a.na()||c.push(b+"-disabled");return c};s.Fi=function(){return fg};function gg(a,b,c){se.call(this,c);this.w=b||cg.ra();this.fe=a||this.w.Fi()}z(gg,se);var eg="horizontal",fg="vertical";s=gg.prototype;s.aj=l;s.$b=l;s.w=l;s.fe=l;s.nb=k;s.Ea=k;s.hh=k;s.pa=-1;s.Wa=l;s.Lc=n;s.uk=n;s.Ll=k;s.Pc=l;s.Sa=function(){return this.aj||this.w.Sa(this)};s.Ff=function(){return this.$b||(this.$b=new He(this.Sa()))};s.i=function(){this.q=this.w.i(this)};s.ya=function(){return this.w.ya(this.f())};
s.ta=function(){gg.h.ta.call(this);Ae(this,function(b){b.X&&hg(this,b)},this);var a=this.f();this.w.uc(this);this.Da(this.nb,k);this.eb().u(this,"enter",this.nh).u(this,"highlight",this.oh).u(this,"unhighlight",this.qh).u(this,"open",this.ll).u(this,"close",this.cl).u(a,"mousedown",this.ib).u(Cc(a),"mouseup",this.el).u(a,["mousedown","mouseup","mouseover","mouseout"],this.bl);this.Yc()&&ig(this,k)};
function ig(a,b){var c=a.eb(),d=a.Sa();b?c.u(d,"focus",a.If).u(d,"blur",a.Xc).u(a.Ff(),"key",a.sc):c.mb(d,"focus",a.If).mb(d,"blur",a.Xc).mb(a.Ff(),"key",a.sc)}s.xb=function(){this.rb(-1);this.Wa&&this.Wa.va(n);this.Lc=n;gg.h.xb.call(this)};s.m=function(){gg.h.m.call(this);if(this.$b){this.$b.$();this.$b=l}this.w=this.Wa=this.Pc=l};s.nh=r(k);
s.oh=function(a){var b=Ee(this,a.target);if(b>-1&&b!=this.pa){var c=Ce(this,this.pa);c&&c.xc(n);this.pa=b;c=Ce(this,this.pa);this.Lc&&c.setActive(k);if(this.Ll&&this.Wa&&c!=this.Wa)c.fb&64?c.va(k):this.Wa.va(n)}Pe(this.f(),"activedescendant",a.target.f().id)};s.qh=function(a){if(a.target==Ce(this,this.pa))this.pa=-1;Pe(this.f(),"activedescendant","")};s.ll=function(a){if((a=a.target)&&a!=this.Wa&&a.Aa==this){this.Wa&&this.Wa.va(n);this.Wa=a}};s.cl=function(a){if(a.target==this.Wa)this.Wa=l};
s.ib=function(a){if(this.Ea)this.Lc=k;var b=this.Sa();b&&Wc(b)?b.focus():a.preventDefault()};s.el=function(){this.Lc=n};s.bl=function(a){var b;a:{b=a.target;if(this.Pc)for(var c=this.f();b&&b!==c;){var d=b.id;if(d in this.Pc){b=this.Pc[d];break a}b=b.parentNode}b=l}if(b)switch(a.type){case "mousedown":b.ib(a);break;case "mouseup":b.pd(a);break;case "mouseover":b.$d(a);break;case "mouseout":b.Zd(a)}};s.If=aa();s.Xc=function(){this.rb(-1);this.Lc=n;this.Wa&&this.Wa.va(n)};
s.sc=function(a){if(this.na()&&this.ab()&&(Be(this)!=0||this.aj)&&this.Yd(a)){a.preventDefault();a.stopPropagation();return k}return n};
s.Yd=function(a){var b=Ce(this,this.pa);if(b&&typeof b.sc=="function"&&b.sc(a))return k;if(this.Wa&&this.Wa!=b&&typeof this.Wa.sc=="function"&&this.Wa.sc(a))return k;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return n;switch(a.keyCode){case 27:if(this.Yc())this.Sa().blur();else return n;break;case 36:jg(this);break;case 35:kg(this);break;case 38:if(this.fe==fg)lg(this);else return n;break;case 37:if(this.fe==eg)De(this)?mg(this):lg(this);else return n;break;case 40:if(this.fe==fg)mg(this);else return n;
break;case 39:if(this.fe==eg)De(this)?lg(this):mg(this);else return n;break;default:return n}return k};function hg(a,b){var c=b.f();c=c.id||(c.id=ve(b));if(!a.Pc)a.Pc={};a.Pc[c]=b}s.wa=function(a,b){gg.h.wa.call(this,a,b)};s.oe=function(a,b,c){a.Yh|=2;a.Yh|=64;if(this.Yc()||!this.uk)af(a,32,n);We(a,n);gg.h.oe.call(this,a,b,c);c&&this.X&&hg(this,a);b<=this.pa&&this.pa++};
s.removeChild=function(a,b){if(a=w(a)?ye(this,a):a){var c=Ee(this,a);if(c!=-1)if(c==this.pa)a.xc(n);else c<this.pa&&this.pa--;(c=a.f())&&c.id&&fb(this.Pc,c.id)}a=gg.h.removeChild.call(this,a,b);We(a,k);return a};s.Gf=ca("fe");s.ab=ca("nb");s.Da=function(a,b){if(b||this.nb!=a&&this.dispatchEvent(a?"show":"hide")){this.nb=a;var c=this.f();if(c){ne(c,a);this.Yc()&&dg(this.w,this.Sa(),this.Ea&&this.nb);b||this.dispatchEvent(this.nb?"aftershow":"afterhide")}return k}return n};s.na=ca("Ea");
s.vc=function(a){if(this.Ea!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.Ea=k;Ae(this,function(b){if(b.Sj)delete b.Sj;else b.vc(k)})}else{Ae(this,function(b){if(b.na())b.vc(n);else b.Sj=k});this.Lc=this.Ea=n}this.Yc()&&dg(this.w,this.Sa(),a&&this.nb)}};s.Yc=ca("hh");s.wc=function(a){a!=this.hh&&this.X&&ig(this,a);this.hh=a;this.Ea&&this.nb&&dg(this.w,this.Sa(),a)};s.rb=function(a){if(a=Ce(this,a))a.xc(k);else this.pa>-1&&Ce(this,this.pa).xc(n)};s.xc=function(a){this.rb(Ee(this,a))};
function jg(a){ng(a,function(b,c){return(b+1)%c},Be(a)-1)}function kg(a){ng(a,function(b,c){b--;return b<0?c-1:b},0)}function mg(a){ng(a,function(b,c){return(b+1)%c},a.pa)}function lg(a){ng(a,function(b,c){b--;return b<0?c-1:b},a.pa)}function ng(a,b,c){c=c<0?Ee(a,a.Wa):c;var d=Be(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=Ce(a,c);if(f&&a.si(f)){a.rb(c);return k}e++;c=b.call(a,c,d)}return n}s.si=function(a){return a.ab()&&a.na()&&!!(a.fb&2)};function og(){}z(og,Qe);ha(og);og.prototype.t=r("goog-menuheader");function pg(a,b,c){Ve.call(this,a,c||og.ra(),b);af(this,1,n);af(this,2,n);af(this,4,n);af(this,32,n);this.Ma=1}z(pg,Ve);Te("goog-menuheader",function(){return new pg(l)});function qg(){}z(qg,cg);ha(qg);qg.prototype.Zb=r("menu");qg.prototype.fd=function(a,b){return Sc(a.f(),b)};qg.prototype.t=r("goog-menu");qg.prototype.uc=function(a){qg.h.uc.call(this,a);a=a.f();Pe(a,"haspopup","true")};function rg(a){bg.call(this,ag.ra(),a)}z(rg,bg);Te("goog-menuseparator",function(){return new bg});function sg(a,b){gg.call(this,fg,b||qg.ra(),a);this.wc(n)}z(sg,gg);s=sg.prototype;s.Jg=k;s.vk=n;s.t=function(){return this.w.t()};s.fd=function(a){if(this.w.fd(this,a))return k;for(var b=0,c=Be(this);b<c;b++){var d=Ce(this,b);if(typeof d.fd=="function"&&d.fd(a))return k}return n};s.Ec=function(a){this.wa(a,k)};s.Jd=function(a,b){this.oe(a,b,k)};s.Ud=function(a){return Ce(this,a)};s.Ef=function(){return Be(this)};
s.Da=function(a,b){var c=sg.h.Da.call(this,a,b);c&&a&&this.X&&this.Jg&&this.Sa().focus();return c};s.nh=function(a){this.Jg&&this.Sa().focus();return sg.h.nh.call(this,a)};s.si=function(a){return(this.vk||a.na())&&a.ab()&&!!(a.fb&2)};function tg(){}z(tg,Yf);ha(tg);s=tg.prototype;s.i=function(a){var b={"class":"goog-inline-block "+this.Ic(a).join(" "),title:a.Wd()||""};return a.T().i("div",b,this.Tg(a.Qa,a.T()))};s.Zb=r("button");s.ya=function(a){return a&&a.firstChild.firstChild};s.Tg=function(a,b){return b.i("div","goog-inline-block "+(this.t()+"-outer-box"),b.i("div","goog-inline-block "+(this.t()+"-inner-box"),a))};s.t=r("goog-custom-button");function ug(){}z(ug,tg);ha(ug);if(F)ug.prototype.jc=function(a,b){var c=ug.h.ya.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,Ac(a)),e=c.parentNode;e&&e.replaceChild(d,c)}};s=ug.prototype;s.ya=function(a){a=ug.h.ya.call(this,a&&a.firstChild);if(F&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};s.Tg=function(a,b){return ug.h.Tg.call(this,[this.createCaption(a,b),this.Ug(b)],b)};s.createCaption=function(a,b){return vg(a,this.t(),b)};
function vg(a,b,c){return c.i("div","goog-inline-block "+(b+"-caption"),a)}s.Ug=function(a){return a.i("div","goog-inline-block "+(this.t()+"-dropdown")," ")};s.t=r("goog-menu-button");function wg(a,b,c,d){$f.call(this,a,c||ug.ra(),d);af(this,64,k);b&&this.cd(b);this.bc=new lf(500)}z(wg,$f);s=wg.prototype;s.ni=k;s.Jh=n;s.wh=n;s.ta=function(){wg.h.ta.call(this);this.G&&xg(this,this.G,k);Pe(this.f(),"haspopup","true")};s.xb=function(){wg.h.xb.call(this);if(this.G){this.va(n);this.G.xb();xg(this,this.G,n);var a=this.G.f();a&&Qc(a)}};s.m=function(){wg.h.m.call(this);if(this.G){this.G.$();delete this.G}delete this.Ol;this.bc.$()};
s.ib=function(a){wg.h.ib.call(this,a);if(this.aa()){this.va(!(this.Ma&64));if(this.G)this.G.Lc=!!(this.Ma&64)}};s.pd=function(a){wg.h.pd.call(this,a);if(this.G&&!this.aa())this.G.Lc=n};s.Mc=function(){this.setActive(n);return k};s.dl=function(a){this.G&&this.G.ab()&&!this.fd(a.target)&&this.va(n)};s.fd=function(a){return a&&Sc(this.f(),a)||this.G&&this.G.fd(a)||n};
s.Yd=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!="keyup")return n}else if(a.type!="key")return n;if(this.G&&this.G.ab()){var b=this.G.sc(a);if(a.keyCode==27){this.va(n);return k}return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.va(k);return k}return n};s.Ee=function(){this.va(n)};s.il=function(){this.aa()||this.va(n)};s.Xc=function(a){this.wh||this.va(n);wg.h.Xc.call(this,a)};function yg(a){a.G||a.cd(new sg(a.T()));return a.G||l}
s.cd=function(a){var b=this.G;if(a!=b){if(b){this.va(n);this.X&&xg(this,b,n);delete this.G}if(a){this.G=a;xe(a,this);a.Da(n);var c=this.wh;(a.Jg=c)&&a.wc(k);this.X&&xg(this,a,k)}}return b};s.Ec=function(a){yg(this).wa(a,k)};s.Jd=function(a,b){yg(this).oe(a,b,k)};s.Ud=function(a){return this.G?Ce(this.G,a):l};s.Ef=function(){return this.G?Be(this.G):0};s.Da=function(a,b){var c=wg.h.Da.call(this,a,b);c&&!this.ab()&&this.va(n);return c};s.vc=function(a){wg.h.vc.call(this,a);this.na()||this.va(n)};
s.va=function(a){wg.h.va.call(this,a);if(this.G&&!!(this.Ma&64)==a){if(a){this.G.X||this.G.Q();this.Rj=ee(this.f());this.pi=je(this.f());zg(this);this.G.rb(-1)}else{this.setActive(n);this.G.Lc=n;if(this.hg!=l){this.hg=undefined;var b=this.G.f();b&&he(b,"","")}}this.G.Da(a);b=this.eb();var c=a?b.u:b.mb;c.call(b,Zc(this.T()),"mousedown",this.dl,k);this.wh&&c.call(b,this.G,"blur",this.il);c.call(b,this.bc,nf,this.Jl);a?this.bc.start():this.bc.stop()}};
function zg(a){if(a.G.X){var b=a.Ol||a.f();b=new Xf(b,a.ni?5:7,!a.Jh,a.Jh);var c=a.G.f();if(!a.G.ab()){c.style.visibility="hidden";ne(c,k)}if(!a.hg&&a.Jh)a.hg=ie(c);b.xd(c,a.ni?4:6,l,a.hg);if(!a.G.ab()){ne(c,n);c.style.visibility="visible"}}}
s.Jl=function(){var a=je(this.f()),b=ee(this.f()),c;c=this.pi;c=c==a?k:!c||!a?n:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c)){c=this.Rj;c=c==b?k:!c||!b?n:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left;c=!c}if(c){this.pi=a;this.Rj=b;zg(this)}};function xg(a,b,c){var d=a.eb();c=c?d.u:d.mb;c.call(d,b,"action",a.Ee);c.call(d,b,"highlight",a.oh);c.call(d,b,"unhighlight",a.qh)}s.oh=function(a){Pe(this.f(),"activedescendant",a.target.f().id)};
s.qh=function(){Ce(this.G,this.G.pa)||Pe(this.f(),"activedescendant","")};Te("goog-menu-button",function(){return new wg(l)});function Ag(a){this.rd=[];Bg(this,a)}z(Ag,Td);s=Ag.prototype;s.bd=l;s.Kh=l;s.Ef=function(){return this.rd.length};s.Ud=function(a){return this.rd[a]||l};function Bg(a,b){if(b){A(b,function(c){this.he(c,n)},a);Va(a.rd,b)}}s.Ec=function(a){this.Jd(a,this.Ef())};s.Jd=function(a,b){if(a){this.he(a,n);Wa(this.rd,b,0,a)}};s.ld=ca("bd");s.zc=function(a){if(a!=this.bd){this.he(this.bd,n);this.bd=a;this.he(a,k)}this.dispatchEvent("select")};s.Vd=function(){return this.bd?La(this.rd,this.bd):-1};s.af=function(a){this.zc(this.Ud(a))};
s.clear=function(){var a=this.rd;if(!ja(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.bd=l};s.m=function(){Ag.h.m.call(this);delete this.rd;this.bd=l};s.he=function(a,b){if(a)if(typeof this.Kh=="function")this.Kh(a,b);else typeof a.Uh=="function"&&a.Uh(b)};function Cg(a,b,c,d){wg.call(this,a,b,c,d);this.uf=a;Dg(this)}z(Cg,wg);s=Cg.prototype;s.A=l;s.uf=l;s.ta=function(){Cg.h.ta.call(this);Dg(this);Eg(this)};s.m=function(){Cg.h.m.call(this);if(this.A){this.A.$();this.A=l}this.uf=l};s.Ee=function(a){this.zc(a.target);Cg.h.Ee.call(this,a);a.stopPropagation();this.dispatchEvent("action")};s.Kf=function(){var a=this.ld();Cg.h.Ia.call(this,a&&a.Ua());Dg(this)};
s.cd=function(a){var b=Cg.h.cd.call(this,a);if(a!=b){this.A&&this.A.clear();if(a)this.A?Ae(a,function(c){this.A.Ec(c)},this):Fg(this,a)}return b};s.Ec=function(a){Cg.h.Ec.call(this,a);this.A?this.A.Ec(a):Fg(this,yg(this))};s.Jd=function(a,b){Cg.h.Jd.call(this,a,b);this.A?this.A.Jd(a,b):Fg(this,yg(this))};s.zc=function(a){this.A&&this.A.zc(a)};s.af=function(a){this.A&&this.zc(this.A.Ud(a))};
s.Ia=function(a){if(a!=l&&this.A)for(var b=0,c;c=this.A.Ud(b);b++)if(c&&typeof c.Ua=="function"&&c.Ua()==a){this.zc(c);return}this.zc(l)};s.ld=function(){return this.A?this.A.ld():l};s.Vd=function(){return this.A?this.A.Vd():-1};function Fg(a,b){a.A=new Ag;b&&Ae(b,function(c){this.A.Ec(c)},a);Eg(a)}function Eg(a){a.A&&a.eb().u(a.A,"select",a.Kf)}function Dg(a){var b=a.ld();a.jc(b?b.ze():a.uf)}s.va=function(a){Cg.h.va.call(this,a);this.Ma&64&&yg(this).rb(this.Vd())};Te("goog-select",function(){return new Cg(l)});function Gg(a){this.kc=qd?[]:"";a!=l&&this.append.apply(this,arguments)}Gg.prototype.zb=function(a){this.clear();this.append(a)};if(qd){Gg.prototype.Og=0;Gg.prototype.append=function(a,b){if(b==l)this.kc[this.Og++]=a;else{this.kc.push.apply(this.kc,arguments);this.Og=this.kc.length}return this}}else Gg.prototype.append=function(a,b){this.kc+=a;if(b!=l)for(var c=1;c<arguments.length;c++)this.kc+=arguments[c];return this};Gg.prototype.clear=function(){if(qd)this.Og=this.kc.length=0;else this.kc=""};
Gg.prototype.Gi=function(){return this.toString().length};Gg.prototype.toString=function(){if(qd){var a=this.kc.join("");this.clear();a&&this.append(a);return a}else return this.kc};function Hg(){}z(Hg,ag);ha(Hg);Hg.prototype.i=function(a){return a.T().i("div",this.t()+" goog-inline-block"," ")};Hg.prototype.t=r("goog-toolbar-separator");function Ig(a,b){bg.call(this,a||Hg.ra(),b)}z(Ig,bg);Te("goog-toolbar-separator",function(){return new Ig});var Jg={};function Kg(){}z(Kg,Yf);ha(Kg);Kg.prototype.i=function(a){var b={"class":"goog-inline-block "+this.Ic(a).join(" "),title:a.Wd()||""};return a.T().i("div",b,a.Qa)};Kg.prototype.Zb=r("button");Kg.prototype.Ua=r(l);Kg.prototype.t=r("goog-flat-button");Te("goog-flat-button",function(){return new $f(l,Kg.ra())});function Lg(){}z(Lg,Kg);ha(Lg);s=Lg.prototype;s.i=function(a){var b={"class":"goog-inline-block "+this.Ic(a).join(" "),title:a.Wd()||""};return a.T().i("div",b,[this.createCaption(a.Qa,a.T()),this.Ug(a.T())])};s.ya=function(a){return a&&a.firstChild};s.createCaption=function(a,b){return b.i("div","goog-inline-block "+(this.t()+"-caption"),a)};s.Ug=function(a){return a.i("div","goog-inline-block "+(this.t()+"-dropdown")," ")};s.t=r("goog-flat-menu-button");
Te("goog-flat-menu-button",function(){return new wg(l,l,Lg.ra())});function Mg(a,b,c){kf.call(this,a,b,c);this.Sh(k)}z(Mg,kf);Mg.prototype.Mc=function(){return this.dispatchEvent("action")};Te("goog-option",function(){return new Mg(l)});function Ng(){}z(Ng,cg);ha(Ng);Ng.prototype.Zb=r("toolbar");Ng.prototype.t=r("goog-toolbar");Ng.prototype.Fi=function(){return eg};function Og(a,b,c){gg.call(this,b,a||Ng.ra(),c)}z(Og,gg);function Pg(){}z(Pg,tg);ha(Pg);Pg.prototype.t=r("goog-toolbar-button");function Qg(a,b,c){$f.call(this,a,b||Pg.ra(),c)}z(Qg,$f);Te("goog-toolbar-button",function(){return new Qg(l)});var Rg={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Sg(a){a=a%360;return a*360<0?a+360:a}function M(a){return a*Math.PI/180}function Tg(a,b,c,d){return Sg(Math.atan2(d-b,c-a)*180/Math.PI)}function Ug(a,b){var c=Sg(b)-Sg(a);if(c>180)c-=360;else if(c<=-180)c=360+c;return c};function Vg(a){var b={};a=String(a);var c=a.charAt(0)=="#"?a:"#"+a;if(Wg.test(c)){b.Mf=Xg(c);b.type="hex";return b}else{a:{var d=a.match(Yg);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(c>=0&&c<=255&&e>=0&&e<=255&&d>=0&&d<=255){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||e<0||e>255||isNaN(a)||a<0||a>255||isNaN(c)||c<0||c>255)g(Error('"('+e+","+a+","+c+'") is not a valid RGB color'));e=Zg(e.toString(16));a=Zg(a.toString(16));
c=Zg(c.toString(16));b.Mf="#"+e+a+c;b.type="rgb";return b}else if(Rg)if(c=Rg[a.toLowerCase()]){b.Mf=c;b.type="named";return b}}g(Error(a+" is not a valid color string"))}var $g=/#(.)(.)(.)/;function Xg(a){if(!Wg.test(a))g(Error("'"+a+"' is not a valid hex color"));if(a.length==4)a=a.replace($g,"#$1$1$2$2$3$3");return a.toLowerCase()}var Wg=/^#(?:[0-9a-f]{3}){1,2}$/i,Yg=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Zg(a){return a.length==1?"0"+a:a};function ah(){}z(ah,ug);ha(ah);ah.prototype.createCaption=function(a,b){return ah.h.createCaption.call(this,bh(a,b),b)};function bh(a,b){return b.i("div","goog-color-menu-button-indicator",a)}ah.prototype.Ia=function(a,b){a&&ch(this.ya(a),b)};function ch(a,b){if(a&&a.firstChild){var c;try{c=Vg(b).Mf}catch(d){c=l}a.firstChild.style.borderBottomColor=c||(E?"":"transparent")}}ah.prototype.uc=function(a){this.Ia(a.f(),a.Ua());vc(a.f(),"goog-color-menu-button");ah.h.uc.call(this,a)};function dh(){}z(dh,Qe);ha(dh);var eh=0;dh.prototype.i=function(a){var b=this.Ic(a);return a.T().i("div",b?b.join(" "):l,fh(this,a.Qa,a.md(),a.T()))};function fh(a,b,c,d){for(var e=[],f=0,h=0;f<c.height;f++){for(var i=[],j=0;j<c.width;j++){var m=b&&b[h++];i.push(gh(a,m,d))}e.push(d.i("tr",a.t()+"-row",i))}return a.wi(e,d)}dh.prototype.wi=function(a,b){var c=b.i("table",this.t()+"-table",b.i("tbody",this.t()+"-body",a));c.cellSpacing=0;c.cellPadding=0;Oe(c,"grid");return c};
function gh(a,b,c){a=c.i("td",{"class":a.t()+"-cell",id:a.t()+"-cell-"+eh++},b);Oe(a,"gridcell");return a}
dh.prototype.jc=function(a,b){if(a){var c=Fc(document,"tbody",this.t()+"-body",a)[0];if(c){var d=0;A(c.rows,function(j){A(j.cells,function(m){Pc(m);if(b){var o=b[d++];o&&m.appendChild(o)}})});if(d<b.length){for(var e=[],f=Ac(a),h=c.rows[0].cells.length;d<b.length;){var i=b[d++];e.push(gh(this,i,f));if(e.length==h){i=f.i("tr",this.t()+"-row",e);c.appendChild(i);e.length=0}}if(e.length>0){for(;e.length<h;)e.push(gh(this,"",f));i=f.i("tr",this.t()+"-row",e);c.appendChild(i)}}}qe(a,k,F)}};
function hh(a,b,c){for(b=b.f();c&&c.nodeType==1&&c!=b;){if(c.tagName=="TD"&&C(uc(c),a.t()+"-cell"))return c.firstChild;c=c.parentNode}return l}function ih(a,b,c,d){if(c){c=c.parentNode;a=a.t()+"-cell-hover";d?vc(c,a):wc(c,a);b=b.f().firstChild;Pe(b,"activedescendent",c.id)}}dh.prototype.t=r("goog-palette");function jh(a,b,c){Ve.call(this,a,b||dh.ra(),c)}z(jh,Ve);s=jh.prototype;s.ac=l;s.pa=-1;s.A=l;s.m=function(){jh.h.m.call(this);if(this.A){this.A.$();this.A=l}this.ac=l};s.og=function(a){jh.h.og.call(this,a);kh(this);if(this.A){this.A.clear();Bg(this.A,a)}else{this.A=new Ag(a);this.A.Kh=ua(this.he,this);this.eb().u(this.A,"select",this.Kf)}this.pa=-1};s.ze=r(l);
s.$d=function(a){jh.h.$d.call(this,a);var b=hh(this.w,this,a.target);if(!(b&&a.relatedTarget&&Sc(b,a.relatedTarget)))if(b!=lh(this)){a=this.Qa;this.rb(a?La(a,b):-1)}};s.Zd=function(a){jh.h.Zd.call(this,a);var b=hh(this.w,this,a.target);b&&a.relatedTarget&&Sc(b,a.relatedTarget)||b==lh(this)&&ih(this.w,this,b,n)};s.ib=function(a){jh.h.ib.call(this,a);if(this.aa()){a=hh(this.w,this,a.target);if(a!=lh(this)){var b=this.Qa;this.rb(b?La(b,a):-1)}}};s.Mc=function(){var a=lh(this);if(a){this.zc(a);return this.dispatchEvent("action")}return n};
s.sc=function(a){var b=this.Qa;b=b?b.length:0;var c=this.ac.width;if(b==0||!this.na())return n;if(a.keyCode==13||a.keyCode==32)return this.Mc(a);if(a.keyCode==36){this.rb(0);return k}else if(a.keyCode==35){this.rb(b-1);return k}var d=this.pa<0?this.Vd():this.pa;switch(a.keyCode){case 37:if(d==-1)d=b;if(d>0){this.rb(d-1);a.preventDefault();return k}break;case 39:if(d<b-1){this.rb(d+1);a.preventDefault();return k}break;case 38:if(d==-1)d=b+c-1;if(d>=c){this.rb(d-c);a.preventDefault();return k}break;
case 40:if(d==-1)d=-c;if(d<b-c){this.rb(d+c);a.preventDefault();return k}}return n};s.Kf=aa();s.md=ca("ac");s.Lb=function(a,b){if(this.f())g(Error("Component already rendered"));this.ac=la(a)?new zc(a,b):a;kh(this)};function lh(a){var b=a.Qa;return b&&b[a.pa]}s.rb=function(a){if(a!=this.pa){mh(this,this.pa,n);this.pa=a;mh(this,a,k)}};s.Vd=function(){return this.A?this.A.Vd():-1};s.ld=function(){return this.A?this.A.ld():l};s.af=function(a){this.A&&this.A.af(a)};s.zc=function(a){this.A&&this.A.zc(a)};
function mh(a,b,c){if(a.f()){var d=a.Qa;d&&b>=0&&b<d.length&&ih(a.w,a,d[b],c)}}s.he=function(a,b){if(this.f())if(a){var c=a.parentNode,d=this.w.t()+"-cell-selected";b?vc(c,d):wc(c,d)}};function kh(a){var b=a.Qa;if(b)if(a.ac&&a.ac.width){b=Math.ceil(b.length/a.ac.width);if(!la(a.ac.height)||a.ac.height<b)a.ac.height=b}else{b=Math.ceil(Math.sqrt(b.length));a.ac=new zc(b,b)}else a.ac=new zc(0,0)};function nh(a,b,c){this.rf=a||[];jh.call(this,l,b||dh.ra(),c);this.rf=this.rf;this.fg=l;this.jc(oh(this))}z(nh,jh);nh.prototype.fg=l;nh.prototype.lh=function(){var a=this.ld();if(a){a=a.style[le("background-color")]||"";return ph(a)}else return l};nh.prototype.Vh=function(a){a=ph(a);if(!this.fg)this.fg=B(this.rf,function(b){return ph(b)});this.af(a?La(this.fg,a):-1)};
function oh(a){return B(a.rf,function(b){var c=this.T().i("div",{"class":this.w.t()+"-colorswatch",style:"background-color:"+b});if(b.charAt(0)=="#"){b=Xg(b);b="RGB ("+[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16)].join(", ")+")"}else b=b;c.title=b;return c},a)}function ph(a){if(a)try{return Vg(a).Mf}catch(b){}return l};function qh(a,b,c,d){wg.call(this,a,b,c||ah.ra(),d)}z(qh,wg);
var rh={rm:["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],ym:["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],vm:["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c",
"#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]};function sh(a,b){var c=new sg(b);a&&A(a,function(d){c.wa(d,k)});cb(rh,function(d){d=new nh(d,l,b);d.Lb(8);c.wa(d,k)});return c}s=qh.prototype;s.lh=function(){return this.Ua()};s.Vh=function(a){this.Ia(a)};s.Ia=function(a){for(var b=0,c;c=this.Ud(b);b++)typeof c.Vh=="function"&&c.Vh(a);qh.h.Ia.call(this,a)};
s.Ee=function(a){if(typeof a.target.lh=="function")this.Ia(a.target.lh());else a.target.Ua()=="none"&&this.Ia(l);qh.h.Ee.call(this,a);a.stopPropagation();this.dispatchEvent("action")};s.va=function(a){if(a&&this.Ef()==0){this.cd(sh(l,this.T()));this.Ia(this.Ua())}qh.h.va.call(this,a)};Te("goog-color-menu-button",function(){return new qh(l)});function th(){}z(th,ug);ha(th);th.prototype.t=r("goog-toolbar-menu-button");function uh(){}z(uh,th);ha(uh);uh.prototype.createCaption=function(a,b){return vg(bh(a,b),this.t(),b)};uh.prototype.Ia=function(a,b){a&&ch(this.ya(a),b)};uh.prototype.uc=function(a){this.Ia(a.f(),a.Ua());vc(a.f(),"goog-toolbar-color-menu-button");uh.h.uc.call(this,a)};function vh(a,b,c,d){qh.call(this,a,b,c||uh.ra(),d)}z(vh,qh);Te("goog-toolbar-color-menu-button",function(){return new vh(l)});function wh(a,b,c,d){wg.call(this,a,b,c||th.ra(),d)}z(wh,wg);Te("goog-toolbar-menu-button",function(){return new wh(l)});function xh(a,b,c,d){Cg.call(this,a,b,c||th.ra(),d)}z(xh,Cg);Te("goog-toolbar-select",function(){return new xh(l)});function yh(a,b,c,d,e,f){c=c;if((!c||c=="")&&F&&!I("1.9a"))c=" ";d=(f||Ac()).i("DIV",d?{"class":d}:l,c);e=new Qg(d,e,f);we(e,a);e.bf(b);return e}function zh(a,b,c,d,e,f){a=yh(a,b,c,d,e,f);af(a,16,k);return a}function Ah(a,b,c,d,e,f){e=new xh(l,l,e,f);d&&A(d.split(/\s+/),e.Gg,e);e.Gg("goog-toolbar-select");e.uf=c;Dg(e);we(e,a);e.bf(b);return e};function Bh(a){return function(){return a}}var Ch=Bh(n);/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function N(){this.Ea=this.pk()}z(N,Td);s=N.prototype;s.pk=Ch;function Dh(a,b){a.b=b;A(a.De(),function(c){b.Hh(c.id,c.key)})}s.De=function(){return[]};s.xf=function(a){if(this.b==a)this.Ea=k;else this.v.log(Cb,"Trying to enable an unregistered field with this plugin.",void 0)};s.Yg=function(a){this.v.info("disable");if(this.b==a)this.Ea=n;else this.v.log(Cb,"Trying to disable an unregistered field with this plugin.",void 0)};s.v=D("kemia.controller.Plugin");
s.na=function(a){return this.b==a?this.Ea:n};s.m=function(){if(this.b)if(this.b){this.Yg(this.b);this.b=l}N.h.m.call(this)};s.Ak=k;var Eh={};N.prototype.mi=Ch;var Fh=hb({kn:1,ln:2,nn:3,Kf:4,Jf:5,execCommand:6,queryCommandValue:7,ib:8,pd:9,$d:10,Zd:11,Ie:12,en:13,dn:14,cn:15,hn:16,gn:17,fn:18,bn:19,an:20,$m:21,sn:22,rn:23,qn:24,pn:25,jn:26});N.prototype.execCommand=function(a){var b=this.$i(a);try{Gh(this.b);var c=this.Hc.apply(this,arguments)}finally{if(!b){O(this.b);this.b.dispatchEvent(Hh)}}return c};
N.prototype.$i=Ch;N.prototype.Jb=r(n);function Ih(a,b){this.source=a;this.target=b}function Jh(a,b,c){return((a.target.x-a.source.x)*(b.y-a.source.y)-(b.x-a.source.x)*(a.target.y-a.source.y))*((a.target.x-a.source.x)*(c.y-a.source.y)-(c.x-a.source.x)*(a.target.y-a.source.y))>0};function Kh(a,b){this.x=Number(a)||0;this.y=Number(b)||0}z(Kh,J);function Lh(a){return new Kh(a.x,a.y)}s=Kh.prototype;s.la=function(){return new Kh(this.x,this.y)};s.scale=function(a){this.x*=a;this.y*=a;return this};s.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y))};s.add=function(a){this.x+=a.x;this.y+=a.y;return this};s.df=function(a){this.x-=a.x;this.y-=a.y;return this};function Mh(a,b,c,d){this.source=a!==undefined?a:new J(10,0);this.target=b!==undefined?b:L(this.source,new J(2,0));this.style=c!==undefined?c:Nh;this.ja=d}Mh.prototype.translate=function(a){this.source=L(this.source,a);this.target=L(this.target,a)};Mh.prototype.Fa=function(){var a=Lh(this.source);return a.add(Lh(this.target).df(a).scale(0.5))};
Mh.prototype.Gf=function(a){var b=new J((this.source.x+this.target.x)/2,(this.source.y+this.target.y)/2),c=new Lh(yc(this.source,this.target));return Jh(new Ih(b,L(b,new Kh(-c.y,c.x))),a,this.target)?Oh:Ph};Mh.prototype.toString=function(){return"kemia.model.Arrow "+this.source.toString()+" "+this.target.toString()};var Nh=1,Oh=1,Ph=2;function Qh(a){this.a=a!==undefined?a:new J(0,0)}Qh.prototype.translate=function(a){this.a=L(this.a,a)};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Rh(){this.Hd={};N.call(this)}z(Rh,N);var Sh=hb({nm:"editArrow",om:"editPlus"});s=Rh.prototype;s.Jb=function(a){return a in Sh};s.rc=Bh("ArrowPlusEdit");s.Hc=function(a,b,c){this.Hd[a]=c};s.v=D("kemia.controller.plugins.ArrowPlusEdit");
s.ib=function(a){if(this.Hd.editArrow){P(this.b);var b=this.b.k.da.transform.pb();a=Q(b,[new J(a.offsetX,a.offsetY)]);b=this.b.r[0];b instanceof R&&Th(b,new Mh(a[0]));S(this.b,this.b.r);O(this.b)}else if(this.Hd.editPlus){P(this.b);b=this.b.k.da.transform.pb();a=Q(b,[new J(a.offsetX,a.offsetY)]);b=this.b.r[0];a=new Qh(a[0]);b.Kb.push(a);a.ja=b;S(this.b,this.b.r);O(this.b)}};s.yd=function(){this.Hd.editArrow=n;this.Hd.editPlus=n};s.queryCommandValue=function(a){var b=l;if(this.Jb(a))b=this.Hd[a];return b};var Uh={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function Vh(a){this.cf={};this.Kc={Ad:[],Jj:0};this.Yk=lb(Wh);this.wk=k;this.tk=this.xk=n;this.zl=k;this.Jc=a;Hd(this.Jc,"keydown",this.od,n,this);Zb&&F&&I("1.8")&&Hd(this.Jc,"keyup",this.Ii,n,this);if($b&&!F){Hd(this.Jc,"keypress",this.Ki,n,this);Hd(this.Jc,"keyup",this.Mi,n,this)}}var Xh;z(Vh,Td);var Wh=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],Yh={bk:"shortcut",ak:"shortcut_"};s=Vh.prototype;
s.Hh=function(a){var b=Zh,c=this.cf,d=arguments;if(w(d[1])){d=d[1];d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();d=d.split(" ");for(var e=[],f,h=0;f=d[h];h++){var i=f.split("+"),j;f=0;for(var m,o=0;m=i[o];o++){switch(m){case "shift":f|=1;continue;case "ctrl":f|=2;continue;case "alt":f|=4;continue;case "meta":f|=8;continue}j=m;if(!Xh){i={};m=void 0;for(m in Uh)i[Uh[m]]=m;Xh=i}j=Xh[j];break}e.push({keyCode:j,ej:f})}d=e}else{e=d;h=1;if(ja(d[1])){e=d[1];h=0}for(d=[];h<e.length;h+=
2)d.push({keyCode:e[h],ej:e[h+1]})}b(c,d,a)};s.m=function(){Vh.h.m.call(this);this.cf={};Jd(this.Jc,"keydown",this.od,n,this);Zb&&F&&I("1.8")&&Jd(this.Jc,"keyup",this.Ii,n,this);if($b&&!F){Jd(this.Jc,"keypress",this.Ki,n,this);Jd(this.Jc,"keyup",this.Mi,n,this)}this.Jc=l};s.Ii=function(a){if(a.keyCode==224){this.dj=k;of(function(){this.dj=n},400,this)}else{var b=a.metaKey||this.dj;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&b){a.metaKey=b;this.od(a)}}};
function $h(a,b){return $b&&!F&&b.ctrlKey&&b.altKey&&!b.shiftKey}s.Ki=function(a){if(a.keyCode>32&&$h(this,a))this.Zi=k};s.Mi=function(a){!this.Zi&&$h(this,a)&&this.od(a)};function Zh(a,b,c){var d=b.shift();d=d.keyCode&255|d.ej<<8;var e=a[d];if(e&&c&&(b.length==0||w(e)))g(Error("Keyboard shortcut conflicts with existing shortcut"));if(b.length){e||(e=a[d]={});Zh(e,b,c)}else a[d]=c}function ai(a,b,c,d){c=c||0;if((d=(d||a.cf)[b[c]])&&!w(d)&&b.length-c>1)return ai(a,b,c+1,d);return d}
s.od=function(a){if(bi(this,a))if(a.type=="keydown"&&$h(this,a))this.Zi=n;else{var b=a.keyCode&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8,c,d,e=wa();if(this.Kc.Ad.length&&e-this.Kc.Jj<=1500)c=ai(this,this.Kc.Ad);else this.Kc.Ad.length=0;c=c?c[b]:this.cf[b];if(!c){c=this.cf[b];this.Kc.Ad=[]}if(c&&w(c))d=c;else if(c){this.Kc.Ad.push(b);this.Kc.Jj=e;F&&a.preventDefault()}else this.Kc.Ad.length=0;if(d){this.wk&&a.preventDefault();this.xk&&a.stopPropagation();b=this.dispatchEvent(new ci(Yh.bk,
d,a.target));b&=this.dispatchEvent(new ci(Yh.ak+d,d,a.target));b||a.preventDefault();this.Kc.Ad.length=0}}};
function bi(a,b){var c=b.keyCode;if(c==16||c==17||c==18)return n;var d=b.target,e=d.tagName=="TEXTAREA"||d.tagName=="INPUT"||d.tagName=="BUTTON"||d.tagName=="SELECT",f=!e&&(d.isContentEditable||d.ownerDocument&&d.ownerDocument.designMode=="on");if(!e&&!f)return k;if(a.Yk[c]||a.tk)return k;if(f)return n;if(a.zl&&(b.altKey||b.ctrlKey||b.metaKey))return k;if(d.tagName=="INPUT"&&(d.type=="text"||d.type=="password"))return c==13;if(d.tagName=="INPUT"||d.tagName=="BUTTON")return c!=32;return n}
function ci(a,b,c){ed.call(this,a,c);this.identifier=b}z(ci,ed);/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function di(){N.call(this)}z(di,N);di.prototype.Jb=function(a){return a=="selectSymbol"};di.prototype.rc=Bh("selectSymbol");var ei=[{id:"H",key:"h"},{id:"C",key:"c"},{id:"N",key:"n"},{id:"S",key:"s"},{id:"P",key:"p"},{id:"O",key:"o"},{id:"F",key:"f"},{id:"I",key:"i"},{id:"+",key:[187,1]},{id:"-",key:189}];s=di.prototype;s.De=function(){return ei};s.yd=function(){this.R=undefined};s.Hc=function(a,b){this.R=b};s.v=D("kemia.controller.plugins.AtomEdit");
s.Jf=function(a){try{var b=a.identifier,c=Qa(ei,function(e){return e.id==b});if(c){A(this.b.selected,function(e){if(e instanceof T)if("+"==c.id){P(this.b);e.Za++;this.b.yc(this.b.r);O(this.b)}else if("-"==c.id){P(this.b);e.Za--;this.b.yc(this.b.r);O(this.b)}else{var f=c.id;if(f!=e.R){P(this.b);fi(this,f,e);this.b.yc(this.b.r);O(this.b);return k}}},this);return k}}catch(d){this.v.info(d)}};
s.Ie=function(a){if(this.R){this.b.selected.length=0;this.b.Z.style.cursor="default";var b=gi(this.b,a);a.currentTarget.p&&a.currentTarget.p.clear();if(b instanceof T){hi(this.b,b);this.b.Z.style.cursor="pointer";a.currentTarget.p=a.currentTarget.p?this.Hb(b,a.currentTarget.p):this.Hb(b);return k}}return n};
s.ib=function(a){if(this.R){var b=this.b.selected;if(b.length)if(b.length==1&&a.shiftKey){a=b[0];ii(a.L,a,ji,ki,this.R);this.b.yc(this.b.r);O(this.b);return k}else A(b,function(c){if(c instanceof T)if(this.R&&this.R!=c.R){P(this.b);fi(this,this.R,c);this.b.yc(this.b.r);O(this.b);return k}},this);else{this.ue(li(a));this.b.yc(this.b.r);O(this.b);return k}}return n};s.Hb=function(a,b){return this.b.k.da.Bb.ma(a,"purple",b)};
function fi(a,b,c){var d=new T(b,c.a.x,c.a.y),e=c.L;A(c.g.J(),function(f){var h=f.la();h.L=undefined;c==h.source?h.source=d:h.target=d;mi(e,h);ni(e,f)});oi(e,c);pi(e,d)}s.ue=function(a){a=qi(this.b.k.transform.pb(),[a])[0];var b=new T(this.R,a.x,a.y);a=new U;pi(a,b);if(this.b.r.length>0){b=this.b.r[0];ri(b,a)}};s.queryCommandValue=function(a){if(a=="selectSymbol")return this.R};var si={};var ti={C:4,Si:4,N:3,P:3,O:2,S:2,H:1,Br:1,Cl:1,I:1,F:1};function T(a,b,c,d,e,f){this.R=a!==undefined?a:"C";this.a=new J(b?b:0,c?c:0);this.g=new rb;this.Za=d?d:0;this.Yf=f?f:0;this.Vb=e!==undefined?e:n;this.tn=l;this.ga=Array(3)}T.prototype.ob=function(){return this.g.Df()};function ui(a){var b=ti[a.R],c=a.g.J();c=Na(c,function(e,f){return e+f.sa},0);var d=0;if(b)d=b-c+a.Za;return d}function vi(a){for(var b=a.g.J(),c=[],d=0,e=b.length;d<e;d++)c.push(V(b[d],a));return c}
function wi(a){var b=a.g.J(),c;if(b.length==0)c=0;else if(b.length==1){var d=V(b[0],a),e=Tg(a.a.x,a.a.y,d.a.x,d.a.y);b=B(d.g.J(),function(f){f=V(f,d);if(f!=a)return Ug(e,Tg(d.a.x,d.a.y,f.a.x,f.a.y))});Za(b);c=b[0]>0?e-120:e+120}else if(b.length==2){b=B(b,function(f){f=V(f,a);return Tg(a.a.x,a.a.y,f.a.x,f.a.y)});c=Ug(b[0],b[1]);if(Math.abs(c)<180)c=180+c/2;else c/=2;c=b[0]+c}else if(b.length==3){Za(b,function(f,h){return $a(V(f,a).g.J().length,V(h,a).g.J().length)});b=Xa(b,0,2);b=B(b,function(f){f=
V(f,a);return Tg(a.a.x,a.a.y,f.a.x,f.a.y)});c=b[0]+Ug(b[0],b[1])/2}return c}T.prototype.la=function(){return new T(this.R,this.a.x,this.a.y,this.Za,this.Vb,this.Yf)};T.prototype.lb=function(a,b){this.ga[a]=b};T.prototype.toString=function(){return"kemia.model.Atom ["+this.R+"] "+this.a.toString()};function W(a,b,c,d,e,f){this.source=a;this.target=b;this.sa=c!==undefined?c:ji;this.ea=d!==undefined?d:ki;this.Vb=e!==undefined?e:n;this.L=f!==undefined?f:l}function V(a,b){if(b===a.source)return a.target;if(b===a.target)return a.source;return l}W.prototype.Gi=function(){return xc(this.source.a,this.target.a)};W.prototype.la=function(){return new W(this.source,this.target,this.sa,this.ea,this.Vb,this.L)};var ji=1,ki=10;
W.prototype.toString=function(){return"kemia.model.Bond["+this.sa+", "+this.ea+"]  "+this.source.toString()+" -- "+this.target.toString()+" mol: "+(this.L?this.L.name:"no molecule")};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function xi(){N.call(this);this.Eg=n}z(xi,N);xi.prototype.Jb=function(a){return a=="selectBond"};xi.prototype.rc=Bh("selectBond");xi.prototype.Hc=function(a,b){this.Ya=b};var yi=[{id:"1",key:"1"},{id:"2",key:"2"},{id:"3",key:"3"},{id:"4",key:"4"},{id:"5",key:"5"},{id:"6",key:"6"},{id:"7",key:"7"},{id:"8",key:"8"},{id:"9",key:"9"}];xi.prototype.De=function(){return yi};
var zi=[{caption:"Single",sa:ji,ea:ki},{caption:"Double",sa:2,ea:ki},{caption:"Triple",sa:3,ea:ki},{caption:"Quadruple",sa:4,ea:ki},{caption:"Single Up",sa:ji,ea:11},{caption:"Single Down",sa:ji,ea:13},{caption:"Single Up or Down",sa:ji,ea:12}];s=xi.prototype;s.v=D("kemia.controller.plugins.BondEdit");
s.Jf=function(a){var b=Qa(yi,function(c){return c.id==a.identifier});b&&A(this.b.selected,function(c){var d=parseInt(b.id);if(c instanceof T){c=c;P(this.b);for(var e=0;e<d;e++){var f=ii(c.L,c,ji,ki);if(f)c=V(f,c)}S(this.b,this.b.r);O(this.b);return k}return k},this)};
s.Ie=function(a){if(this.Ya&&!this.Eg){var b=gi(this.b,a);this.b.selected.length=0;this.b.Z.style.cursor="default";a.currentTarget.p&&a.currentTarget.p.clear();a.currentTarget.p=undefined;if(b instanceof T){hi(this.b,b);this.b.Z.style.cursor="pointer";a.currentTarget.p=a.currentTarget.p?this.Hb(b,a.currentTarget.p):this.Hb(b);return k}else if(b instanceof W){hi(this.b,b);this.b.Z.style.cursor="pointer";a.currentTarget.p=a.currentTarget.p?this.tc(b,a.currentTarget.p):this.tc(b);return k}}return n};
s.ib=function(a){try{var b=this.b.selected;if(b.length)A(b,function(d){if(d instanceof T)if(this.Ya){P(this.b);d=ii(d.L,d,this.Ya.sa,this.Ya.ea);this.b.selected.length=0;hi(this.b,d);S(this.b,this.b.r);O(this.b);return k}if(d instanceof W)if(this.Ya)if(this.Ya.sa!=d.sa||this.Ya.ea!=d.ea||d.ea!=ki){P(this.b);var e=this.Ya.ea!=ki&&d.ea==this.Ya.ea?new W(d.target,d.source,this.Ya.sa,this.Ya.ea):new W(d.source,d.target,this.Ya.sa,this.Ya.ea),f=d.L;ni(f,d);mi(f,e);S(this.b,this.b.r);O(this.b);return k}},
this);else if(this.Ya){P(this.b);this.ue(li(a));S(this.b,this.b.r);O(this.b);return k}}catch(c){this.v.log(Cb,c,void 0)}};s.ue=function(a){a=qi((this.b.k.transform?this.b.k.transform:this.b.k.da.transform).pb(),[a])[0];var b=new T("C",a.x,a.y);a=new U;pi(a,b);ii(a,b,this.Ya.sa,this.Ya.ea);if(this.b.r.length>0){b=this.b.r[0];b instanceof R&&ri(b,a)}else this.b.yc([a])};s.Hb=function(a,b){return this.b.k.da.Bb.ma(a,"green",b)};s.tc=function(a,b){return this.b.k.da.Kd.l(a).ma(a,"green",b)};
s.yd=function(){this.Ya=undefined};s.queryCommandValue=function(a){if(a=="selectBond")return this.Ya};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Ai(){N.call(this)}z(Ai,N);Ai.prototype.rc=Bh("clearEditor");Ai.prototype.Jb=function(a){return a=="clearEditor"};Ai.prototype.Hc=function(){try{P(this.b);this.b.clear()}catch(a){this.v.info(a)}};Ai.prototype.$i=Ch;/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Bi(){N.call(this)}z(Bi,N);s=Bi.prototype;s.Jb=function(a){return a=="erase"};s.rc=Bh("erase");s.v=D("kemia.controller.plugins.Erase");s.Hc=function(a,b,c){this.aa=c};
s.Ie=function(a){if(this.aa){var b=gi(this.b,a);this.b.Z.style.cursor="default";a.currentTarget.p&&a.currentTarget.p.clear();if(b instanceof T){this.b.Z.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.p=a.currentTarget.p?this.Hb(b,a.currentTarget.p):this.Hb(b);return k}else if(b instanceof W){this.b.Z.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.p=a.currentTarget.p?this.tc(b,a.currentTarget.p):this.tc(b);return k}else if(b instanceof
U){this.b.Z.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.p=a.currentTarget.p?this.Je(b,a.currentTarget.p):this.Je(b);return k}else if(b instanceof Qh){this.b.Z.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.p=a.currentTarget.p?this.Of(b,a.currentTarget.p):this.Of(b);return k}else if(b instanceof Mh){this.b.Z.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';if(a.currentTarget.ol)a.currentTarget.p=
this.Nf(b,a.currentTarget.p);else a.currentTarget.ol=this.Nf(b)}else{a.currentTarget.p=undefined;return n}}return n};s.ib=function(a){var b=n;if(this.aa){P(this.b);a=gi(this.b,a);if(a instanceof T){Ci(this,a);b=k}if(a instanceof W){Di(this,a);b=k}if(a instanceof U){(b=a.ja)?Ei(b,a):Ra(this.b.r,a);S(this.b,this.b.r);b=k}if(a instanceof Qh){Ra(a.ja.Kb,a);a.ja=undefined;S(this.b,this.b.r);b=k}if(a instanceof Mh){Ra(a.ja.Ja,a);a.ja=undefined;S(this.b,this.b.r);b=k}O(this.b)}return b};
function Ci(a,b){var c=b.L;A(b.g.J(),function(d){ni(c,d)});oi(c,b);c.e.length==0&&Ei(c.ja,c);S(a.b,a.b.r)}function Di(a,b){var c=a.b.r,d=b.L;ni(d,b);var e=Fi(d);Jb(a.v,"fragements.length: "+e.length);var f=d.ja;if(f){Ei(f,d);A(e,function(h){ri(f,h)})}S(a.b,c)}s.yd=function(){this.aa=n;this.b.Z.style.cursor="default"};s.queryCommandValue=function(a){var b=l;if(a=="erase")b=this.aa;return b};s.Hb=function(a,b){return this.b.k.da.Bb.ma(a,"#ff6666",b)};
s.tc=function(a,b){return this.b.k.da.Kd.l(a).ma(a,"#ff6666",b)};s.Of=function(a,b){return this.b.k.kg.ma(a,"#ff6666",b)};s.Nf=function(a,b){return this.b.k.pf.ma(a,"#ff6666",b)};s.Je=function(a,b){return this.b.k.da.ma(a,"#ff6666",b)};function Gi(a){a=String(a);var b;b=/^\s*$/.test(a)?n:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{return eval("("+a+")")}catch(c){}g(Error("Invalid JSON string: "+a))}function Hi(a){return Ii(new Ji,a)}function Ji(){}function Ii(a,b){var c=[];Ki(a,b,c);return c.join("")}
function Ki(a,b,c){switch(typeof b){case "string":Li(a,b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==l){c.push("null");break}if(ja(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++){c.push(e);Ki(a,b[f],c);e=","}c.push("]");break}c.push("{");d="";for(e in b)if(b.hasOwnProperty(e)){f=b[e];if(typeof f!="function"){c.push(d);Li(a,e,c);c.push(":");Ki(a,f,c);d=","}}c.push("}");break;case "function":break;
default:g(Error("Unknown type: "+typeof b))}}var Mi={'"':'\\"',"\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","":"\\u000b"},Ni=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function Li(a,b,c){c.push('"',b.replace(Ni,function(d){if(d in Mi)return Mi[d];var e=d.charCodeAt(0),f="\\u";if(e<16)f+="000";else if(e<256)f+="00";else if(e<4096)f+="0";return Mi[d]=f+e.toString(16)}),'"')};function Oi(a,b){this.e=a;this.g=b;this.ga=Array(3);this.Ab=l}Oi.prototype.lb=function(a,b){this.ga[a]=b};Oi.prototype.Fa=function(){if(!this.Ab){for(var a=0,b=0,c=0,d=this.e.length;c<d;c++){a+=this.e[c].a.x;b+=this.e[c].a.y}this.Ab=new J(a/this.e.length,b/this.e.length)}return this.Ab};Oi.prototype.toString=function(){return"kemia.ring.Ring \n\t"+B(this.e,function(a){return" "+a.toString()},this).join("\n\t")+"\n\t"+B(this.g,function(a){return" "+a.toString()},this).join("\n\t")+"\n\t"};function Pi(a){this.e=a}function Qi(a){var b=a.e.length-1;return a.e.length>2&&a.e[0]==a.e[b]}
Pi.prototype.splice=function(a){var b;var c=a.e,d=this.e.length-1,e=c.length-1;if(this.e[d]==c[0]||this.e[d]==c[e])b=this.e[d];else if(this.e[0]==c[0]||this.e[0]==c[e])b=this.e[0];else g("Couldn't splice - no intersection");c=[];d=0;for(e=this.e.length;d<e;d++)c.push(this.e[d]);this.e[0]==b&&c.reverse();if(a.e[0]==b){d=1;for(e=a.e.length;d<e;d++)c.push(a.e[d])}else for(d=a.e.length-2;d>=0;d--)c.push(a.e[d]);a:{a=1;for(b=c.length-1;a<b;a++)for(d=1;d<b;d++)if(a!=d)if(c[a]==c[d]){a=n;break a}a=k}if(!a)return l;
return new Pi(c)};function Ri(a){this.Gc=[];this.e=[];for(var b=0,c=a.ob();b<c;b++){var d=a.g[b];this.Gc.push(new Pi([d.source,d.target]))}b=0;for(c=X(a);b<c;b++)this.e.push(a.e[b])}
Ri.prototype.remove=function(a,b){for(var c=[],d=0,e=this.Gc.length;d<e;d++){var f=this.Gc[d];if(Qi(f))C(f.e,a)&&c.push(f);else{var h=f.e.length-1;if(f.e[0]==a||f.e[h]==a)c.push(f)}}d=[];f=0;for(h=c.length;f<h;f++)Qi(c[f])&&d.push(c[f]);f=0;for(h=d.length;f<h;f++){C(c,d[f])&&Ra(c,d[f]);C(this.Gc,d[f])&&Ra(this.Gc,d[f])}e=[];f=0;for(h=c.length;f<h;f++)for(var i=f+1;i<h;i++){var j=c[i].splice(c[f]);j!=l&&e.push(j)}f=0;for(h=c.length;f<h;f++)C(this.Gc,c[f])&&Ra(this.Gc,c[f]);f=0;for(h=e.length;f<h;f++)!C(this.Gc,
e[f])&&e[f].e.length<=b+1&&this.Gc.push(e[f]);Ra(this.e,a);return d};function Si(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];e instanceof Array?b.push(Si(e)):b.push(e)}return b}function Ti(a,b,c){if(a.length)a.push(b[0].concat(c[0]));else a[0]=b[0].concat(c[0])}function Ui(a,b){return a.Cnum-b.Cnum}
function Vi(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var h=b[e];if(a.length>=h.length){for(var i=k,j=0,m=h.length;j<m;j++)C(a,h[j])||(i=n);if(i)return k}j=0;for(m=a.length;j<m;j++)C(h,a[j])&&d[j]++}b=n;j=0;for(m=a.length;j<m;j++)if(d[a[j]]<c[a[j]]-1)b=k;if(b){j=0;for(m=a.length;j<m;j++)d[a[j]]++;return n}return k}function Wi(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=b.g[a[d]],h=Xi(b,f.source);f=Xi(b,f.target);C(c,h)||c.push(h);C(c,f)||c.push(f)}return c}
function Yi(a){var b=a.ob()-X(a)+1;if(!b)return[];var c;c=X(a);for(var d=[],e=0;e<c;e++){for(var f=[],h=0;h<c;h++)if(e==h)f.push(0);else Zi(a,a.e[e],a.e[h])?f.push(1):f.push(99999999);d.push(f)}e=[];for(f=0;f<c;f++){h=[];for(var i=0;i<c;i++){var j=Zi(a,a.e[f],a.e[i]);j?h.push([[La(a.g,j)]]):h.push([])}e.push(h)}f=[];for(h=0;h<c;h++){i=[];for(j=0;j<c;j++)i.push([]);f.push(i)}for(h=0;h<c;h++)for(i=0;i<c;i++)for(j=0;j<c;j++){var m=d[i][j],o=d[i][h]+d[h][j],p=e[i][h],q=e[h][j];if(o!=1E8)if(m>o){f[i][j]=
m==o+1?Si(e[i][j]):[];d[i][j]=o;e[i][j]=[p[0].concat(q[0])]}else if(m==o)p.length&&q.length&&Ti(e[i][j],p,q);else if(m==o-1)Ti(f[i][j],p,q);else d[i][j]=d[i][j]}c={D:d,Pe1:e,Pe2:f};d=c.D;e=c.Pe1;f=c.Pe2;h=d.length;c=[];for(i=0;i<h;i++)for(j=0;j<h;j++)d[i][j]==0||e[i][j].length==1&&f[i][j].length==0||c.push({Cnum:f[i][j].length?2*(d[i][j]+0.5):2*d[i][j],Pe1:e[i][j],Pe2:f[i][j]});c.sort(Ui);a:{d=[];e=[];f=0;for(h=X(a);f<h;f++)e.push(a.e[f].ob());i=[];for(f=0;f<X(a);f++)i[f]=0;f=0;for(h=c.length;f<h;f++){j=
c[f];if(j.Cnum%2){m=0;for(o=j.Pe2.length;m<o;m++){p=p=j.Pe1[0].concat(j.Pe2[m]);q=d;var t=e,v=i,y=Wi(p,a);if(p.length===y.length)Vi(y,q,t,v)||q.push(y);if(d.length==b){b=d;break a}}}else{m=0;for(o=j.Pe1.length-1;m<o;m++){p=p=j.Pe1[m].concat(j.Pe1[m+1]);q=d;t=e;v=i;y=Wi(p,a);if(p.length===y.length)Vi(y,q,t,v)||q.push(y);if(d.length==b){b=d;break a}}}}b=d}c=0;for(d=b.length;c<d;c++){e=b;f=c;h=b[c];i=a;j=[h[0]];m=i.e[h[0]];for(o=0;h.length!=j.length;){o++;if(o>1E3)break;p=1;for(q=h.length;p<q;p++){t=
i.e[j[j.length-1]];v=i.e[h[p]];if(!C(j,h[p]))if(Zi(i,t,v))j.push(h[p]);else Zi(i,m,v)&&Wa(j,0,0,h[p])}}e[f]=j}return b};function $i(a,b){for(var c=[],d=0,e=a.length;d<e;d++)c.push(b.e[a[d]]);e=[];d=0;for(var f=c.length-1;d<f;d++){var h=Zi(b,c[d],c[d+1]);h!=l&&e.push(h)}h=Zi(b,c[0],c[c.length-1]);h!=l&&e.push(h);return new Oi(c,e)};function aj(a,b,c,d,e,f){if(arguments.length==6)this.setTransform(a,b,c,d,e,f);else if(arguments.length!=0)g(Error("Insufficient matrix parameters"));else{this.ia=this.ua=1;this.za=this.Ha=this.jb=this.kb=0}}s=aj.prototype;s.la=function(){return new aj(this.ia,this.za,this.Ha,this.ua,this.jb,this.kb)};s.setTransform=function(a,b,c,d,e,f){if(!la(a)||!la(b)||!la(c)||!la(d)||!la(e)||!la(f))g(Error("Invalid transform parameters"));this.ia=a;this.za=b;this.Ha=c;this.ua=d;this.jb=e;this.kb=f;return this};
s.scale=function(a,b){this.ia*=a;this.za*=a;this.Ha*=b;this.ua*=b;return this};s.translate=function(a,b){this.jb+=a*this.ia+b*this.Ha;this.kb+=a*this.za+b*this.ua;return this};s.rotate=function(a,b,c){a=bj(new aj,a,b,c);b=this.ia;c=this.Ha;this.ia=a.ia*b+a.za*c;this.Ha=a.Ha*b+a.ua*c;this.jb+=a.jb*b+a.kb*c;b=this.za;c=this.ua;this.za=a.ia*b+a.za*c;this.ua=a.Ha*b+a.ua*c;this.kb+=a.jb*b+a.kb*c;return this};
s.toString=function(){return"matrix("+[this.ia,this.za,this.Ha,this.ua,this.jb,this.kb].join(",")+")"};s.transform=function(a,b,c,d,e){var f=b;d=d;for(b=b+2*e;f<b;){e=a[f++];var h=a[f++];c[d++]=e*this.ia+h*this.Ha+this.jb;c[d++]=e*this.za+h*this.ua+this.kb}};s.pb=function(){var a=this.ia*this.ua-this.Ha*this.za;return new aj(this.ua/a,-this.za/a,-this.Ha/a,this.ia/a,(this.Ha*this.kb-this.ua*this.jb)/a,(this.za*this.jb-this.ia*this.kb)/a)};
function cj(a,b){return(new aj).setTransform(1,0,0,1,a,b)}function dj(a,b,c){return a.setTransform(b,0,0,c,0,0)}function bj(a,b,c,d){var e=Math.cos(b);b=Math.sin(b);return a.setTransform(e,b,-b,e,c-c*e+d*b,d-c*b-d*e)};function ej(a,b,c,d,e,f){aj.call(this);arguments.length==6&&this.setTransform(a,b,c,d,e,f)}z(ej,aj);function Q(a,b){var c=B(b,function(f){return[f.x,f.y]}),d=bb(c);c=[];a.transform(d,0,c,0,d.length/2);d=[];for(var e=0;e<c.length;e+=2)d.push(new J(c[e],c[e+1]));return d}function qi(a,b){return Q(a,b)}ej.prototype.pb=function(){var a=this.ia*this.ua-this.Ha*this.za;return new ej(this.ua/a,-this.za/a,-this.Ha/a,this.ia/a,(this.Ha*this.kb-this.ua*this.jb)/a,(this.za*this.jb-this.ia*this.kb)/a)};function U(a){this.g=[];this.e=[];this.name=a?a:"";this.id=undefined;this.Ej=[];this.eg=k;this.Fb=[];this.Td=0}function mi(a,b){var c=Xi(a,b.source),d=Xi(a,b.target);if(a.Fb[c]!=a.Fb[d]){var e;if(a.Fb[c]<a.Fb[d]){c=a.Fb[c];e=a.Fb[d]}else{e=a.Fb[c];c=a.Fb[d]}a.Td--;d=0;for(var f=a.e.length;d<f;d++)if(a.Fb[d]==c)a.Fb[d]=e}a.g.push(b);b.source.g.add(b);b.target.g.add(b);pi(a,b.source);pi(a,b.target);b.L=a}
function fj(a){var b=1.25;if(a.g.length)b=Na(a.g,function(c,d){return c+d.Gi()},0)/a.g.length;return b}function Zi(a,b,c){a=b.g.J();for(var d=0,e=a.length;d<e;d++){var f=a[d];if(V(f,b)==c)return f}return l}function Xi(a,b){return La(a.e,b)}function oi(a,b){var c;if(b.constructor==Number)c=a.e[b];else if(b.constructor==T)c=b;var d=c.g.J();A(d,function(e){Ra(this.g,e)},a);c.g.clear();Ra(a.e,c);c.L=undefined}
function ni(a,b){var c;c=b.constructor==Number?a.g[b]:b;c.source.g.remove(c);c.target.g.remove(c);if(c.source.g.J().length==0){Ra(a.e,c.source);c.source.L=undefined}if(c.target.g.J().length==0){Ra(a.e,c.target);c.target.L=undefined}Ra(a.g,c);c.L=undefined;c.source=undefined;c.target=undefined}function X(a){return a.e.length}s=U.prototype;s.ob=function(){return this.g.length};function pi(a,b){if(!C(a.e,b)){var c=a.e.length;a.Td++;a.Fb[c]=a.Td;a.e.push(b);b.L=a}}
function gj(a){if(a.eg){var b;if(a.ob()-X(a)+a.Td){b=0;for(var c=a.e.length;b<c;b++){var d=a.e[b];d.index=b;d.nc=undefined;d.de=undefined;a.e[b].index=b}b=0;for(c=a.g.length;b<c;b++)a.g[b].index=b;if(c=X(a)){b=ab(n,c);c=ab(n,c);d=[];var e=a.e[0];e.nc=0;d.push(e);for(b[0]=k;;){if(!d.length)break;e=d[0];Sa(d,0);for(var f=e.g.J(),h=0,i=f.length;h<i;h++){var j=f[h],m=j.index;if(!c[m]){c[m]=k;var o=V(j,e);j=o.index;if(b[j]){j=[];if(e.nc==o.nc){j.push(e);j.push(o)}else{o.de=k;var p=vi(o);m=0;for(var q=
p.length;m<q;m++){var t=p[m];t.nc==o.nc-1&&j.push(t)}}for(o=e.nc;;){j[0].de=k;j[1].de=k;o--;p=vi(j[0]);m=0;for(q=p.length;m<q;m++)if(p[m].nc==o){j[0]=p[m];break}p=vi(j[1]);m=0;for(q=p.length;m<q;m++)if(p[m].nc==o){j[1]=p[m];break}if(j[0]==j[1]){j[0].de=k;break}}}else{o.nc=e.nc+1;b[j]=k;d.push(o)}}}}}b=[];e=X(a);c=ab(n,e);d=ab(n,e);e=ab(-1,e);f=0;for(h=X(a);f<h;f++){j=a.e[f];if(!c[j.index])if(j.de){i=new U;q=[];q.push(j);c[0]=k;t=new T;t.Qf=j.index;e[j.index]=0;for(pi(i,t);;){if(!q.length)break;o=
q[0];Sa(q,0);p=o.g.J();j=0;for(m=p.length;j<m;j++){var v=p[j];t=v.index;if(!d[t]){d[t]=k;v=V(v,o);t=v.index;if(v.de){if(c[t]){t=Zi(a,o,v);var y=new W(i.e[e[o.index]],i.e[e[v.index]]);y.Qf=t.index}else{c[t]=k;q.push(v);t=new T;t.Qf=v.index;e[v.index]=i.e.length;pi(i,t);v=Zi(a,o,v);y=new W(i.e[e[o.index]],t);y.Qf=v.index}mi(i,y)}}}}j=0;for(m=i.e.length;j<m;j++)i.e[j].index=j;j=0;for(m=i.g.length;j<m;j++)i.g[j].index=j;j=i.g.length-i.e.length+1;m=i;q=[];o=new Ri(m);p=0;for(t=X(m);p<t;p++){v=o.remove(m.e[p],
6);for(y=0;y<v.length;y++){var H=v[y].e;Sa(H,H.length-1);for(var K=0,na=H.length;K<na;K++)H[K]=Xi(m,H[K]);q.push(H)}}Za(q);m=q;if(m.length>=j){m=m;q=j;y=i;o=[];p=[];t=0;for(v=X(y);t<v;t++)p.push(y.e[t].ob());y=ab(0,X(y));t=0;for(v=m.length;t<v;t++){H=m[t];if(!Vi(H,o,p,y)){o.push(H);if(o.length==q)break}}q=o;if(q.length<j)q=Yi(i)}else q=Yi(i);j=0;for(m=q.length;j<m;j++){o=q[j];p=0;for(t=o.length;p<t;p++)o[p]=i.e[o[p]].Qf}j=0;for(i=q.length;j<i;j++)b.push($i(q[j],a))}}b=b}else b=[];a.Ej=b;a.eg=n}return a.Ej}
s.la=function(){var a=new U(this.name);A(this.e,function(b){pi(a,b)});A(this.g,function(b){mi(a,b)});return a};function Fi(a){var b=a.la();if(b.Td==1)return[b];var c=new ob;A(b.e,function(d){var e=b.Fb[Xi(b,d)];qb(c.Va,e)==n&&c.zb(e,new U);pi(c.l(e),d)});A(b.g,function(d){var e=b.Fb[Xi(b,d.source)];mi(c.l(e),d)});return c.J()}function hj(a,b){for(var c=[],d=a.g.length,e=0;e<d;e++)if(a.g[e].source==b||a.g[e].target==b)c.push(a.g[e]);return c}
s.toString=function(){return"kemia.model.Molecule - name: "+this.name+"\n\t"+B(this.e,function(a){return" "+Xi(this,a)+": "+a.toString()},this).join("\n\t")+"\n\t"+B(this.g,function(a){return" "+Xi(this,a.source)+", "+Xi(this,a.target)+":  "+a.toString()},this).join("\n\t")+"\n\t"+B(gj(this),function(a){return a.toString()}).join("\n\t")};s.Fa=function(){var a=ij(this);return new J((a.left+a.right)/2,(a.top+a.bottom)/2)};function ij(a){return Vd.apply(l,B(a.e,function(b){return b.a}))}
s.rotate=function(a,b){b!==undefined||(b=this.Fa());var c=bj(new ej,M(a),b.x,b.y);A(this.e,function(d){d.a=Q(c,[d.a])[0]})};s.scale=function(a){var b=dj(new ej,a,a);A(this.e,function(c){c.a=Q(b,[c.a])[0]})};s.translate=function(a){A(this.e,function(b){b.a=L(b.a,a)})};
function jj(a,b,c,d,e,f){Ja(C(b.g,c));Ja(C(a.g,d));Ja(C(e.g.J(),c));Ja(C(f.g.J(),d));var h=fj(a)/fj(b);b.scale(h);h=Lh(yc(f.a,e.a));var i=V(d,f),j=V(c,e);b.rotate(180+Ug(Tg(e.a.x,e.a.y,j.a.x,j.a.y),Tg(i.a.x,i.a.y,f.a.x,f.a.y)),e.a);b.translate(h);var m=[c];A(e.g.J(),function(o){if(!C(m,o)){e==o.source?o.source=f:o.target=f;m.push(o);mi(this,o)}},a);j=V(c,e);i=V(d,f);A(j.g.J(),function(o){if(!C(m,o)){j==o.source?o.source=i:o.target=i;mi(this,o);m.push(o)}},a);c=Ma(b.g,function(o){return!C(m,o)});A(c,
function(o){mi(this,o)},a);b.g.length=0;b.e.length=0;b.ja&&Ei(b.ja,b);delete b;a.eg=k;return a}function ii(a,b,c,d,e){var f=1.25,h=b.g.J();if(h.length)f=Na(h,function(j,m){return j+xc(m.source.a,m.target.a)},0)/h.length;h=wi(b);if(h!=undefined){var i="C";if(e)i=e;e=new T(i,b.a.x+f*Math.cos(M(h)),b.a.y+f*Math.sin(M(h)));b=new W(b,e,c,d);pi(a,e);mi(a,b);return b}}s.v=D("kemia.model.Molecule");/*
 Copyright 2010 Paul Novak (paul@wingu.com)

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function R(){this.rh="";this.td=[];this.Ja=[];this.Kb=[];this.tf=this.mg="";this.Wf=this.Vf=n}s=R.prototype;s.v=D("kemia.model.Reaction");
s.nf=function(a){var b=this.Wc(),c=new Kh(0,0),d=ij(a);if(b.length>0){b=kj(b);if(d.left<=b.right&&b.left<=d.right&&d.top<=b.bottom&&b.top<=d.bottom)c=new Kh(b.right-d.left+3,0)}a.translate(c);if(!this.yh(a)){c=this.Vc();d=ij(a).right+3;if(this.Ja.length>0)d-=this.Ja[0].source.x;var e=new Kh(d,0);A(this.Ja,function(f){f.translate(e)});A(this.Kb,function(f){f.translate(e)});A(c,function(f){f.translate(e)})}Ja(this.yh(a));this.Kb.length=0;ri(this,a)};s.Wc=function(){return Ma(this.td,this.yh,this)};
s.Vc=function(){return Ma(this.td,this.xh,this)};function ri(a,b){a.td.push(b);b.ja=a}s.Ig=function(a,b){if(this.Ja.length==0){var c=this.Wc();if(c.length>0){c=kj(c);c=new Mh(new J(c.right+3,(c.top+c.bottom)/2))}else c=new Mh(new J(3,0));Th(this,c)}c=ij(a);var d=this.Vc(),e=0;if(d.length==0||b)e+=this.Ja[0].target.x;else{d=kj(d);e+=d.right}e+=3;e-=c.left;if(e!=0){a.translate(new Kh(e,0));this.Kb.length=0}this.xh(a);ri(this,a)};s.yh=function(a){return this.Ja.length>0?this.Ja[0].Gf(a.Fa())==Ph:k};
s.xh=function(a){return this.Ja.length>0?this.Ja[0].Gf(a.Fa())==Oh:n};function Ei(a,b){Ra(a.td,b);b.ja=undefined}function Th(a,b){if(a.Ja.length)a.Ja[0].ja=undefined;a.Ja.length=0;a.Ja[0]=b;b.ja=a}s.vj=ba("mg");s.sj=ba("tf");s.Pk=ca("Kb");s.jh=function(a){var b;Za(a,function(c,d){return $a(ij(c).left,ij(d).left)});A(a,function(c){if(b){var d,e=ij(b);d=ij(c);e=new Kh(e.right,e.top);d=e.add((new Kh(d.left,d.bottom)).df(e).scale(0.5));d=new Qh(d);this.Kb.push(d);d.ja=this}b=c},this)};
function kj(a){a=bb(B(a,function(b){return b.e}));a=B(a,function(b){return b.a});return a.length>0?Vd.apply(l,a):l}function lj(a){if(a.Ja.length>0){var b=a.Ja[0],c=kj(a.Wc());a=kj(a.Vc());if(c||a){c||(c=new Ud(a.top,a.left-1,a.bottom,a.left-1));a||(a=new Ud(c.top,c.right+1,c.bottom,c.right+1));c=new Kh(c.right,c.top);c=c.add((new Kh(a.left,a.bottom)).df(c).scale(0.5));c=Lh(c).df(Lh(b.Fa()));b.translate(c)}}}
s.translate=function(a){A(this.td,function(b){b.translate(a)});A(this.Kb,function(b){b.translate(a)});A(this.Ja,function(b){b.translate(a)})};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function mj(a){if(a.sa==ji)return"SINGLE_BOND";if(a.sa==2)return"DOUBLE_BOND";if(a.sa==3)return"TRIPLE_BOND";if(a.sa==4)return"QUADRUPLE_BOND";g(Error("Invalid bond type ["+a.toString()+"]"))}function nj(a){if(a.ea==11)return"SINGLE_BOND_UP";if(a.ea==13)return"SINGLE_BOND_DOWN";if(a.ea==12)return"SINGLE_BOND_UP_OR_DOWN";return"NOT_STEREO"}
function oj(a,b,c,d){switch(a){case "SINGLE_BOND":switch(b){case "NOT_STEREO":return new W(c,d);case "SINGLE_BOND_UP":return new W(c,d,ji,11);case "SINGLE_BOND_UP_OR_DOWN":return new W(c,d,ji,12);case "SINGLE_BOND_DOWN":return new W(c,d,ji,13);default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}case "DOUBLE_BOND":return new W(c,d,2);case "TRIPLE_BOND":return new W(c,d,3);case "QUADRUPLE_BOND":return new W(c,d,4);case "AROMATIC":return new W(c,d,undefined,undefined,k);default:g(Error("invalid bond type/stereo ["+
a+"]/["+b+"]"))}}function pj(a){a=a.constructor==String?Gi(a):a;var b=new U;b.name=a.name;b.id=a.id;A(a.atoms,function(c){pi(b,new T(c.symbol,c.coord.x,c.coord.y,c.charge))});A(a.bondindex,function(c){mi(b,oj(c.type,c.stereo,b.e[c.source],b.e[c.target]))});return b}
function qj(a){var b=B(a.e,function(d){return{symbol:d.R,coord:{x:d.a.x,y:d.a.y},charge:d.Za}}),c=B(a.g,function(d){var e=mj(d),f=nj(d);Xi(a,d.source);Xi(a,d.target);return{source:Xi(a,d.source),target:Xi(a,d.target),type:e,stereo:f}});return{name:a.name,id:a.id,atoms:b,bondindex:c}}function rj(a){return{source:{x:a.source.x,y:a.source.y},target:{x:a.target.x,y:a.target.y}}}function sj(a){return{x:a.a.x,y:a.a.y}}
function tj(a,b){var c;c=a.constructor==String?Gi(a):a;var d=new R,e=[];if(c.reactants)e=B(c.reactants,pj);var f=[];if(c.products)f=B(c.products,pj);d.rh=c.header;if(c.arrows)A(c.arrows,function(h){Th(d,new Mh(new J(h.source.x,h.source.y),new J(h.target.x,h.target.y)))});else f.length>0&&Th(d,new Mh);d.vj(c.reagents_text);d.sj(c.conditions_text);c.pluses&&A(c.pluses,function(h){h=new Qh(new J(h.x,h.y));d.Kb.push(h);h.ja=d});A(e,function(h){d.nf(h)});A(f,function(h){d.Ig(h,b)});c.arrows||lj(d);if(d.Kb.length==
0){d.jh(d.Wc());d.jh(d.Vc())}d.Vf=c.is_hidden_conditions_text?k:n;d.Wf=c.is_hidden_reagents_text?k:n;return d}function uj(a){var b=a.rh,c=B(a.Wc(),qj),d=B(a.Vc(),qj),e=B(a.Ja,rj),f=B(a.Kb,sj);return{header:b,reactants:c,products:d,reagents_text:a.mg,conditions_text:a.tf,arrows:e,pluses:f,is_hidden_conditions_text:a.Vf,is_hidden_reagents_text:a.Wf}}D("kemia.io.json");/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function vj(){N.call(this)}z(vj,N);vj.prototype.v=D("kemia.controller.plugins.MoleculeEdit");vj.prototype.Jb=function(a){return a=="selectMoleculeTemplate"};vj.prototype.rc=Bh("selectMoleculeTemplate");var wj=[{id:"benzene",key:"a"}];s=vj.prototype;s.De=function(){return wj};
s.Jf=function(a){var b=Qa(wj,function(e){return e.id==a.identifier});if(b){var c=Qa(xj,function(e){return e.name==b.id}),d=this.b.selected;if(d.length)A(d,function(e){if(e instanceof T){P(this.b);yj(this,e,c);S(this.b,this.b.r);O(this.b);return k}if(e instanceof W){P(this.b);zj(this,e,c);S(this.b,this.b.r);O(this.b);return k}},this);else return n}};s.Hc=function(a,b){this.ed=b};
s.ib=function(a){var b=this.b.selected;if(b.length&&this.ed)A(b,function(c){if(c instanceof T){P(this.b);var d=Ua(c.L.e),e=yj(this,c,this.ed);e=Ma(e.e,function(f){return!C(d,f)});Aj(this,a,e,c);S(this.b,this.b.r);O(this.b);return k}if(c instanceof W){P(this.b);zj(this,c,this.ed);S(this.b,this.b.r);O(this.b);return k}},this);else if(this.ed){P(this.b);this.ue(qi(this.b.k.transform?this.b.k.transform.pb():this.b.k.da.transform.pb(),[li(a)])[0],this.ed);S(this.b,this.b.r);O(this.b);return k}};
s.Ie=function(a){if(this.ed){var b=gi(this.b,a);this.b.selected.length=0;this.b.Z.style.cursor="default";a.currentTarget.p&&a.currentTarget.p.clear();a.currentTarget.p=undefined;if(b instanceof T){hi(this.b,b);this.b.Z.style.cursor="pointer";a.currentTarget.p=a.currentTarget.p?this.Hb(b,a.currentTarget.p):this.Hb(b);return k}else if(b instanceof W){hi(this.b,b);this.b.Z.style.cursor="pointer";a.currentTarget.p=a.currentTarget.p?this.tc(b,a.currentTarget.p):this.tc(b);return k}}return n};
s.Hb=function(a,b){return this.b.k.da.Bb.ma(a,"yellow",b)};s.tc=function(a,b){return this.b.k.da.Kd.l(a).ma(a,"yellow",b)};
function Aj(a,b,c,d){var e=d.a,f=new qf(a.b.Z);f.mf=d.L;f.Ab=e;f.Dc=Q(a.b.k.transform?a.b.k.transform:a.b.k.da.transform,[e])[0];f.hb=li(b);f.ne=Tg(f.Dc.x,f.Dc.y,f.hb.x,f.hb.y);f.M=a.b;f.addEventListener("drag",function(){f.mf.Zk.clear();f.tb=f.tb||f.vb;f.ub=f.ub||f.wb;var h=Tg(f.Dc.x,f.Dc.y,f.hb.x+(f.vb-f.tb),f.hb.y+(f.wb-f.ub))-f.ne;h-=h%30;f.ne+=h;var i=bj(new ej,-M(h),f.Ab.x,f.Ab.y);A(c,function(j){j.a=Q(i,[j.a])[0]});S(f.M,f.M.r)});f.addEventListener("end",function(){f.$()});f.Bc(b)}
s.ue=function(a,b){if(b)var c=pj(b);var d=yc(a,c.Fa());c.translate(d);if(this.b.r.length>0){d=this.b.r;var e=d[0];if(e instanceof R)ri(e,c);else e instanceof U&&d.push(c)}else ri(new R,c)};function zj(a,b,c){a=pj(c);jj(b.L,a,a.g[0],b,a.g[0].target,b.source)}function yj(a,b,c){a=ii(b.L,b,ji,ki);var d=V(a,b);c=pj(c);var e=c.e[0],f=ii(c,e,ji,ki);return jj(b.L,c,f,a,e,d)}s.v=D("kemia.controller.plugins.MoleculeEdit");s.yd=function(){this.ed=undefined};s.queryCommandValue=function(a){if(a=="selectMoleculeTemplate")return this.ed};
s.gh=function(a){return Ma(B(a.e,function(b){var c=Bj(this.b.Pe,{x:b.a.x,y:b.a.y},this);c=Ma(c,function(d){if(d instanceof T)if(!C(a.e,d))return k;return n});return c.length>0?[b,c[0]]:n},this),function(b){return b!=n},this)};
var xj=[{name:"benzene",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:3,
target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclohexane",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,
type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopentane",atoms:[{symbol:"C",coord:{x:-2.3083,y:0.4635,z:0},charge:0},{symbol:"C",coord:{x:-2.3083,y:1.9635,z:0},charge:0},{symbol:"C",coord:{x:-0.8817,y:2.427,
z:0},charge:0},{symbol:"C",coord:{x:0,y:1.2135,z:0},charge:0},{symbol:"C",coord:{x:-0.8817,y:0,z:0},charge:0}],bondindex:[{source:1,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopentane-house",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},
{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"naphthalene",
atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.2991,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.2991,y:0,z:0},charge:0},{symbol:"C",coord:{x:3.8971,y:3,z:0},charge:0},{symbol:"C",coord:{x:5.1962,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:5.1962,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:3.8971,y:0,z:0},charge:0}],bondindex:[{source:0,
target:1,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:6,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:6,target:7,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:7,target:8,type:"SINGLE_BOND",stereo:"NOT_STEREO"},
{source:8,target:9,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:9,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclobutane",atoms:[{symbol:"C",coord:{x:0,y:0},charge:0},{symbol:"C",coord:{x:0,y:1.5},charge:0},{symbol:"C",coord:{x:-1.5,y:1.5000000000000002},charge:0},{symbol:"C",coord:{x:-1.5000000000000002,y:1.1102230246251565E-16},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,
type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopropane",atoms:[{symbol:"C",coord:{x:0,y:0},charge:0},{symbol:"C",coord:{x:0,y:1.5},charge:0},{symbol:"C",coord:{x:-1.2990381056766582,y:0.7500000000000001},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]}];/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Cj(){N.call(this);this.aa={};this.aa[Dj]=k;this.vh=n}z(Cj,N);var Dj="move",Ej=hb({tm:Dj,xm:"rotate"});s=Cj.prototype;s.Jb=function(a){return a in Ej};s.rc=Bh("move");s.yd=function(){this.aa[Dj]=n;this.aa.rotate=n};s.Hc=function(a,b,c){this.aa[a]=c};
s.Ie=function(a){if((this.aa[Dj]||this.aa.rotate)&&!this.vh){var b=gi(this.b,a);this.b.selected.length=0;this.b.Z.style.cursor="default";a.currentTarget.p&&a.currentTarget.p.clear();if(this.aa.rotate){if(b instanceof U){hi(this.b,b);this.b.Z.style.cursor='url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';a.currentTarget.p=this.Je(b,a.currentTarget.p);return k}}else if(b instanceof T){hi(this.b,b);this.b.Z.style.cursor="move";a.currentTarget.p=this.Hb(b,a.currentTarget.p);return k}else if(b instanceof
W){if(b.source.g.J().length==1||b.target.g.J().length==1){hi(this.b,b);this.b.Z.style.cursor="move";a.currentTarget.p=this.tc(b,a.currentTarget.p)}return k}else if(b instanceof U){hi(this.b,b);this.b.Z.style.cursor="move";a.currentTarget.p=this.Je(b,a.currentTarget.p);return k}else if(b instanceof Mh){hi(this.b,b);if(!a.shiftKey){this.b.Z.style.cursor="move";a.currentTarget.p=this.Nf(b,a.currentTarget.p);return k}}else if(b instanceof Qh){hi(this.b,b);if(!a.shiftKey){this.b.Z.style.cursor="move";
a.currentTarget.p=this.Of(b,a.currentTarget.p);return k}}else if(!b){this.b.Z.style.cursor="all-scroll";return k}return n}};
s.ib=function(a){if(this.aa[Dj]||this.aa.rotate){a.currentTarget.p&&a.currentTarget.p.clear();a.currentTarget.p=undefined;this.vh=k;var b=gi(this.b,a);if(this.aa.rotate)if(b instanceof U){P(this.b);this.b.Z.style.cursor='url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';Fj(this,a,b);O(this.b);return k}if(this.aa[Dj]){if(b instanceof T){P(this.b);Gj(this,a,b);O(this.b);return k}if(b instanceof W){P(this.b);Hj(this,a,b);O(this.b);return k}if(b instanceof U){P(this.b);if(a.shiftKey){this.b.Z.style.cursor=
'url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';Fj(this,a,b)}else Ij(this,a,b);O(this.b);return k}if(b instanceof Qh){P(this.b);Jj(this,a,b);O(this.b);return k}if(b instanceof Mh){P(this.b);Kj(this,a,b);O(this.b);return k}if(!b){P(this.b);Lj(this,a);O(this.b);return k}}}return n};
s.pd=function(a){try{this.vh=n;var b=Ma(Mj(this.b,a),function(e){return e instanceof T&&e!==this.$g},this),c=b.length>0?b[0]:undefined;if(this.$g&&c instanceof T){P(this.b);U.wn(this.$g,c);this.$g=undefined;S(this.b,this.b.r);O(this.b);return k}}catch(d){this.v.log(Cb,d,void 0)}};s.Hb=function(a,b){b||(b=new Nj);this.b.k.da.Bb.ma(a,"#3366ff",b);return b};s.tc=function(a,b){b||(b=new Nj);return this.b.k.da.Kd.l(a).ma(a,"#3366ff",b)};
s.Je=function(a,b){b||(b=new Nj);var c="#3366ff";if(a.ja&&a.ja.xh(a))c="purple";this.b.k.da.ma(a,c,b);return b};s.Nf=function(a,b){b||(b=new Nj);return b.add(this.b.k.pf.ma(a,"#3366ff"))};s.Of=function(a,b){b||(b=new Nj);return b.add(this.b.k.kg.ma(a,"#3366ff"))};s.queryCommandValue=function(a){return this.aa[a]};
function Oj(a,b){var c=a.L,d=b.L;A(b.g.J(),function(h){var i=h.la();b==i.source?i.source=a:i.target=a;mi(d,i);ni(d,h)});oi(d,b);if(c!==d){A(c.e,function(h){pi(d,h)});A(c.g,function(h){h=h.la();h.L=undefined;mi(d,h)});A(c.e,function(h){oi(c,h)});A(c.g,function(h){ni(c,h)});Ei(c.ja,c);delete c}var e=d.la(),f=d.ja;Ei(f,d);ri(f,e);return e}
function Pj(a,b){var c=b.L;A(b.g.J(),function(f){var h=f.la();b==h.source?h.source=a:h.target=a;mi(c,h);ni(c,f)});oi(c,b);var d=c.la();A(d.g,aa());var e=c.ja;Ei(e,c);ri(e,d);return d}
function Gj(a,b,c){var d=new qf(a.b.Z);d.cc=b.clientX;d.dc=b.clientY;d.Lg=c;d.M=a.b;d.addEventListener("drag",function(e){d.sb&&A(d.sb,function(h){h.clear()});d.sb=[];d.Lg.L.ka&&d.Lg.L.ka.clear();new cj(e.clientX-d.cc,e.clientY-d.dc);var f=qi(d.M.k.transform?d.M.k.transform.pb():d.M.k.da.transform.pb(),[new J(e.clientX,e.clientY),new J(d.cc,d.dc)]);c.a=L(c.a,yc(f[0],f[1]));d.cc=e.clientX;d.dc=e.clientY;d.Fg=Ta(c,B(c.g.J(),function(h){var i=V(h,c);return Ta(i,B(i.g.J(),function(j){return V(j,i)}))}));
e=this.b.gh([c],d.Fg);d.gb=Xa(e,0,1);A(e,function(h){d.sb.push(d.M.k.da.Bb.ma(h[0]));d.sb.push(d.M.k.da.Bb.ma(h[1]))});d.M.k.da.Q(d.Lg.L,d.M.k.da.transform)},undefined,a);d.addEventListener("end",function(){try{A(d.gb,function(f){f[0].L==f[1].L?Pj(f[0],f[1]):Oj(f[0],f[1])},this);S(d.M,d.M.r);d.gb=[];d.$()}catch(e){this.v.log(Cb,e,void 0)}},undefined,a);d.Bc(b)}
function Hj(a,b,c){var d,e;if(c.source.g.J().length==1){d=c.target;e=c.source}else if(c.target.g.J().length==1){d=c.source;e=c.target}if(d){var f=new qf(a.b.Z),h=d.a;f.Dc=Q(a.b.k.transform?a.b.k.transform:a.b.k.da.transform,[h])[0];f.hb=li(b);f.ne=Tg(f.Dc.x,f.Dc.y,f.hb.x,f.hb.y);f.gb=[];f.qf=c;f.M=a.b;f.addEventListener("drag",function(i){try{f.sb&&A(f.sb,function(y){y.clear()});f.sb=[];f.tb=f.tb||f.vb;f.ub=f.ub||f.wb;var j=f.vb-f.tb,m=f.wb-f.ub,o=Tg(f.Dc.x,f.Dc.y,f.hb.x+j,f.hb.y+m)-f.ne;o-=o%30;
f.ne+=o;var p=qi(bj(new ej,-M(o),h.x,h.y),[f.qf.source.a,f.qf.target.a]);f.qf.source.a=p[0];f.qf.target.a=p[1];S(f.M,f.M.r);var q=gi(f.M,i,new J(f.hb.x+j,f.hb.y+m));if(q instanceof T&&q.L==e.L){var t=Ta(d,B(d.g.J(),function(y){return V(y,d)}));if(!C(t,q)){f.gb=[[q,e]];f.sb.push(f.M.k.da.Bb.ma(e));f.sb.push(f.M.k.da.Bb.ma(q))}}}catch(v){this.v.log(Cb,v,void 0)}},undefined,a);f.addEventListener("end",function(){try{A(f.gb,function(j){j[0].L==j[1].L&&Pj(j[0],j[1])},this);S(f.M,f.M.r);f.gb=[];f.$()}catch(i){this.v.log(Cb,
i,void 0)}finally{this.Eg=n}},undefined,a);a.Eg=k;f.Bc(b)}}function Jj(a,b,c){var d=new qf(a.b.Z);d.cc=b.clientX;d.dc=b.clientY;d.Gh=c;d.M=a.b;d.addEventListener("drag",function(e){new cj(e.clientX-d.cc,e.clientY-d.dc);var f=qi(d.M.k.transform.pb(),[new J(e.clientX,e.clientY),new J(d.cc,d.dc)]);d.Gh.a=L(c.a,yc(f[0],f[1]));d.Gh.ka.clear();d.M.k.kg.Q(d.Gh,d.M.k.transform);d.cc=e.clientX;d.dc=e.clientY});d.addEventListener("end",function(){S(d.M,d.M.r);d.$()});d.Bc(b)}
function Kj(a,b,c){var d=new qf(a.b.Z);d.cc=b.clientX;d.dc=b.clientY;d.Gm=c;d.M=a.b;d.addEventListener("drag",function(e){new cj(e.clientX-d.cc,e.clientY-d.dc);var f=qi(d.M.k.transform.pb(),[new J(e.clientX,e.clientY),new J(d.cc,d.dc)]);f=yc(f[0],f[1]);c.source=L(c.source,f);c.target=L(c.target,f);c.ka.clear();d.M.k.pf.Q(c,d.M.k.transform);d.cc=e.clientX;d.dc=e.clientY});d.addEventListener("end",function(){S(d.M,d.M.r);d.$()});d.Bc(b)}
function Ij(a,b,c){var d=new qf(a.b.Z);d.Ab=Qj(a.b,c.Fa());d.tb=l;d.ub=l;d.ji=0;d.ki=0;d.gb=[];d.L=c;d.M=a.b;d.addEventListener("drag",function(){d.sb&&A(d.sb,function(j){j.clear()});d.sb=[];d.gb=[];d.tb=d.tb||d.vb;d.ub=d.ub||d.wb;var e=d.vb-d.tb,f=d.wb-d.ub,h=e-d.ji,i=f-d.ki;d.L.ka.Wh(e,f,0,0,0);e=d.M.k.transform?d.M.k.transform:d.M.k.da.transform;d.L.translate(new Kh(h/e.ia,i/e.ua));d.ji=d.vb-d.tb;d.ki=d.wb-d.ub;d.Fg=c.e;h=this.b.gh(c.e,d.Fg);if(h.length>1)d.gb=Xa(h,0,2);A(d.gb,function(j){d.sb.push(d.M.k.da.Bb.ma(j[0]));
d.sb.push(d.M.k.da.Bb.ma(j[1]))})},undefined,a);d.addEventListener("end",function(){try{if(d.gb.length==2){var e=d.gb[0][1],f=d.gb[1][1],h=Qa(e.g.J(),function(p){return V(p,e)==f}),i=d.gb[0][0],j=d.gb[1][0],m=Qa(i.g.J(),function(p){return V(p,i)==j});h&&m&&jj(i.L,e.L,h,m,e,i)}S(d.M,d.M.r);d.gb=[];d.$()}catch(o){this.v.log(Cb,o,void 0)}},undefined,a);d.Bc(b)}
function Lj(a,b){var c=new qf(a.b.Z);c.addEventListener("drag",function(){var d=this.b.k.transform,e=c.screenX-c.sl,f=c.screenY-c.tl;if(e||f){var h=new Kh(e/d.ia,f/d.ua);A(this.b.r,function(i){i instanceof R&&i.translate(h)});S(this.b,this.b.r)}c.sl=c.screenX;c.tl=c.screenY},undefined,a);c.addEventListener("end",function(){S(this.b,this.b.r);c.$()},undefined,a);c.Bc(b)}
function Fj(a,b,c){var d=new qf(a.b.Z);d.Ab=c.Fa();d.hb=li(b);d.ok=Tg(d.Ab.x,d.Ab.y,d.hb.x,d.hb.y);d.tb=l;d.ub=l;d.ka=c.ka;d.mf=c;d.ii=a.b;d.li=a.b.k.da;d.addEventListener("drag",function(){d.tb=d.tb||d.vb;d.ub=d.ub||d.wb;d.mk=Tg(d.Ab.x,d.Ab.y,d.hb.x+(d.vb-d.tb),d.hb.y+(d.wb-d.ub))-d.ok;d.mf.rotate(-d.mk,d.Ab);d.ka.clear();d.li.Q(d.mf,d.li.transform)});d.addEventListener("end",function(){S(d.ii,d.ii.r);d.$()});d.Bc(b)}s.v=D("kemia.controller.plugins.Move");/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Rj(){N.call(this);this.yl=100;this.Ed=[];this.Ve=[];this.Vg=[]}z(Rj,N);var Sj=[{id:"undo",key:27}];Rj.prototype.De=function(){return Sj};Rj.prototype.Jf=aa();var Tj=hb({zm:"undo",wm:"redo"});s=Rj.prototype;s.rc=r("UndoRedo");s.Jb=function(a){return a in Tj};s.Hc=function(a){try{if(a=="undo")Uj(this,this.Ed,this.Ve);else a=="redo"&&Uj(this,this.Ve,this.Ed)}catch(b){this.v.info(b)}};
s.al=function(a){try{var b=Vj(this,a.target);if(this.Vg!=b){this.Ed.push(b);if(this.Ed.length>this.yl){this.Ed.shift();var c=this.Ve.length;this.Ve.length=0;this.dispatchEvent({type:Wj,state:b});if(this.Ed.length==1||c)this.dispatchEvent(Xj)}}this.Vg=b}catch(d){this.v.info(d)}};function Vj(a,b){var c=b.r,d="[]";if(c)d=B(c,function(e){if(e instanceof R)return uj(e);else if(e instanceof U)return qj(e)});return d}
function Uj(a,b,c){if(b.length){var d=b.pop();c.push(d);S(a.b,B(d,function(e){return e.e?pj(e):tj(e,k)}));if(b.length==0||c.length==1)a.dispatchEvent(Xj)}}s.xf=function(a){Rj.h.xf.call(this,a);this.zf=new Rd(this);this.zf.u(a,Yj,this.al)};s.Yg=function(a){a.Jm();this.zf.$();this.Vg=this.zf=l};s.m=function(){Rj.h.m.call(this);this.zf.$();this.b=l};var Xj="state_change",Wj="state_added";Rj.prototype.v=D("kemia.controller.plugins.UndoRedo");
Rj.prototype.queryCommandValue=function(a){var b=n;if(a=="undo")b=this.Ed.length>0;else if(a=="redo")b=this.Ve.length>0;return b};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Zj(){N.call(this)}z(Zj,N);var $j={Dm:"zoomIn",Em:"zoomOut"},ak=hb($j);Zj.prototype.rc=Bh($j);Zj.prototype.Jb=function(a){return a in ak};Zj.prototype.execCommand=function(a){try{var b=this.b.k.$e;if(a=="zoomIn")this.b.ie(b*1.1);else a=="zoomOut"&&this.b.ie(b*0.9);S(this.b,this.b.r)}catch(c){this.v.info(c)}};Zj.prototype.v=D("kemia.controller.plugins.Zoom");/*
 Copyright 2011 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function bk(){N.call(this);this.aa={};this.aa[ck.Cg]=k;this.aa[ck.Dg]=k}z(bk,N);var ck={Cg:"show_conditions",Dg:"show_reagents"};bk.prototype.Jb=function(a){return a in dk};bk.prototype.rc=r("View");var dk=hb(ck);bk.prototype.v=D("kemia.controller.plugins.View");bk.prototype.Hc=function(a){var b=this.b.r[0];try{if(b instanceof R){P(this.b);if(a==ck.Cg){this.aa[a]=!this.aa[a];b.Vf=!this.aa[a]}if(a==ck.Dg){this.aa[a]=!this.aa[a];b.Wf=!this.aa[a]}this.b.yc(this.b.r)}}catch(c){this.v.info(c)}};
bk.prototype.queryCommandValue=function(a){return this.aa[a]};function ek(a,b,c){kf.call(this,a,b,c);this.Lh(k)}z(ek,kf);Te("goog-checkbox-menuitem",function(){return new ek(l)});function fk(a){var b=new sg,c=new wg("File",b),d=yh("clearEditor","Clear all","New");b.Ec(d);c.qb=k;a.push(c);a.push(new Ig);b=gk("undo","Undo","","tr-icon tr-undo");b.qb=k;a.push(b);b=gk("redo","Redo","","tr-icon tr-redo");b.qb=k;a.push(b);a.push(new Ig);b=zh(Dj,"Move","","tr-icon tr-move");b.qb=k;a.push(b);b=zh("rotate","Rotate","","tr-icon tr-rotate");b.qb=k;a.push(b);b=zh("erase","Erase","","tr-icon tr-erase");b.qb=k;a.push(b);a.push(new Ig);return a}
function hk(a){a.push(yh("zoomIn","Zoom In","","tr-icon tr-zoom-in"));a.push(yh("zoomOut","Zoom Out","","tr-icon tr-zoom-out"));a.push(new Ig);var b=zh(ck.Dg,"toggle visibility of Reagents text","Reagents");b.qb=k;a.push(b);b=zh(ck.Cg,"toggle visibility of Conditions text","Conditions");b.qb=k;a.push(b);return a}
function ik(a){var b=Ah("selectSymbol","Atomic Symbol","Symbol");b.qb=k;b.jf=function(i){i=i&&i.length>0?i:l;i!=b.Ua()&&b.Ia(i)};var c=new sg;c.wa(new Mg(Lc("DIV",{style:"color:grey"},"H")),k);c.wa(new Mg(Lc("DIV",{style:"color:black"},"C")),k);c.wa(new Mg(Lc("DIV",{style:"color:blue"},"N")),k);c.wa(new Mg(Lc("DIV",{style:"color:red"},"O")),k);c.wa(new Mg(Lc("DIV",{style:"color:yellow"},"S")),k);c.wa(new Mg(Lc("DIV",{style:"color:orange"},"P")),k);c.wa(new Mg(Lc("DIV",{style:"color:green"},"F")),
k);c.wa(new Mg(Lc("DIV",{style:"color:green"},"Cl")),k);c.wa(new Mg(Lc("DIV",{style:"color:DarkRed"},"Br")),k);c.wa(new Mg(Lc("DIV",{style:"color:purple"},"I")),k);c.wa(new rg,k);c.wa(new Mg(Lc("DIV",{style:"color:black"},"R1")),k);c.wa(new Mg(Lc("DIV",{style:"color:black"},"R2")),k);b.cd(c);a.push(b);var d=Ah("selectBond","Bond Type","Bond");d.qb=k;d.jf=function(i){i!=d.Ua()&&d.Ia(i)};var e=new sg;A(zi,function(i){e.wa(new Mg(i.caption,i),k)});d.cd(e);a.push(d);var f=Ah("selectMoleculeTemplate",
"Template","Template");f.qb=k;f.jf=function(i){i!=f.Ua()&&f.Ia(i)};var h=new sg;A(xj,function(i){h.wa(new Mg(i.name,i),k)});f.cd(h);a.push(f);return a}function jk(a){var b=fk([]);b=hk(b);b=ik(b);return kk(b,a)}
function kk(a,b){for(var c=Ac(b),d=[],e=0,f;f=a[e];e++){if(w(f)){var h=void 0;if(f=lk[f]){h=f.factory||zh;var i=f.Dk,j=f.Fn,m=f.caption,o=f.Im,p=c||Ac();h=h(i,j,m,o,l,p);if(f.qb)h.qb=k}f=h}f&&d.push(f)}c=Ac(b);c=new Og(Ng.ra(),eg,c);e=ge(b);c.dd(e);c.wc(n);for(f=0;h=d[f];f++){af(h,32,n);h.dd(e);c.wa(h,k)}c.Q(b);return c}function gk(a,b,c,d,e,f){var h=yh(a,b,c,d,e,f);h.jf=function(i){h.vc(i)};return h}x("Format");x("Format");x("Undo");x("Redo");x("Font");x("Font size");x("Text color");x("Bold");x("Italic");
x("Underline");x("Text background color");x("Add or remove link");x("Numbered list");x("Bullet list");x("Decrease indent");x("Increase indent");x("Align left");x("Align center");x("Align right");x("Justify");x("Remove formatting");x("Insert image");x("Strikethrough");x("Left-to-right");x("Right-to-left");x("Quote");x("Edit HTML source");x("Link");x("Subscript");x("Superscript");x("Edit HTML");for(var lk={},mk=[],nk=0,ok;ok=mk[nk];nk++)lk[ok.Dk]=ok;delete mk;var pk,qk,rk,sk,tk,uk,vk;vk=uk=tk=sk=rk=qk=pk=n;var wk=ac();if(wk)if(wk.indexOf("Firefox")!=-1)pk=k;else if(wk.indexOf("Camino")!=-1)qk=k;else if(wk.indexOf("iPhone")!=-1||wk.indexOf("iPod")!=-1)rk=k;else if(wk.indexOf("iPad")!=-1)sk=k;else if(wk.indexOf("Android")!=-1)tk=k;else if(wk.indexOf("Chrome")!=-1)uk=k;else if(wk.indexOf("Safari")!=-1)vk=k;var xk=qk,yk=rk,zk=sk,Ak=tk,Bk=uk,Ck=vk;var Dk;a:{var Ek="",Fk,Gk;if(pk)Fk=/Firefox\/([0-9.]+)/;else if(E||ec){Dk=jc;break a}else if(Bk)Fk=/Chrome\/([0-9.]+)/;else if(Ck)Fk=/Safari\/([0-9.]+)/;else if(yk||zk){Fk=/Version\/(\S+).*Mobile\/(\S+)/;Gk=k}else if(Ak)Fk=/Android\s+([0-9.]+)(?:.*Version\/([0-9.]+))?/;else if(xk)Fk=/Camino\/([0-9.]+)/;if(Fk){var Hk=Fk.exec(ac());Ek=Hk?Gk?Hk[1]+"."+Hk[2]:Hk[2]||Hk[1]:""}Dk=Ek};E&&I("7.0");F&&I("1.8");E||ec||F&&I("1.9");E||G&&I("525");G&&I("531");G&&I("528");F&&I("1.9")||E||ec||G&&I("531");F||G&&I("526");Bk&&Ga(Dk,"4")>=0||Ck&&Ga(Dk,"533");function Ik(){this.cb=[];this.fa=[];this.Ub=[]}Ik.prototype.mc=l;Ik.prototype.db=l;Ik.prototype.zd=k;var Jk=[];Jk[0]=2;Jk[1]=2;Jk[2]=6;Jk[3]=6;Jk[4]=0;s=Ik.prototype;s.clear=function(){this.cb.length=0;this.fa.length=0;this.Ub.length=0;delete this.mc;delete this.db;delete this.zd;return this};s.moveTo=function(a,b){if(this.cb[this.cb.length-1]==0)this.Ub.length-=2;else{this.cb.push(0);this.fa.push(1)}this.Ub.push(a,b);this.db=this.mc=[a,b];return this};
s.lineTo=function(){var a=this.cb[this.cb.length-1];if(a==l)g(Error("Path cannot start with lineTo"));if(a!=1){this.cb.push(1);this.fa.push(0)}for(a=0;a<arguments.length;a+=2){var b=arguments[a],c=arguments[a+1];this.Ub.push(b,c)}this.fa[this.fa.length-1]+=a/2;this.db=[b,c];return this};
s.xi=function(){var a=this.cb[this.cb.length-1];if(a==l)g(Error("Path cannot start with curve"));if(a!=2){this.cb.push(2);this.fa.push(0)}for(a=0;a<arguments.length;a+=6){var b=arguments[a+4],c=arguments[a+5];this.Ub.push(arguments[a],arguments[a+1],arguments[a+2],arguments[a+3],b,c)}this.fa[this.fa.length-1]+=a/6;this.db=[b,c];return this};s.close=function(){var a=this.cb[this.cb.length-1];if(a==l)g(Error("Path cannot start with close"));if(a!=4){this.cb.push(4);this.fa.push(1);this.db=this.mc}return this};
s.arcTo=function(a,b,c,d){var e=this.db[0]-a*Math.cos(M(c))+a*Math.cos(M(c+d)),f=this.db[1]-b*Math.sin(M(c))+b*Math.sin(M(c+d));this.cb.push(3);this.fa.push(1);this.Ub.push(a,b,c,d,e,f);this.zd=n;this.db=[e,f];return this};
s.yk=function(a,b,c,d){var e=this.db[0]-a*Math.cos(M(c)),f=this.db[1]-b*Math.sin(M(c)),h=M(d);d=Math.ceil(Math.abs(h)/Math.PI*2);h=h/d;c=M(c);for(var i=0;i<d;i++){var j=Math.cos(c),m=Math.sin(c),o=4/3*Math.sin(h/2)/(1+Math.cos(h/2)),p=e+(j-o*m)*a,q=f+(m+o*j)*b;c+=h;j=Math.cos(c);m=Math.sin(c);this.xi(p,q,e+(j+o*m)*a,f+(m-o*j)*b,e+j*a,f+m*b)}return this};function Kk(a,b){for(var c=a.Ub,d=0,e=0,f=a.cb.length;e<f;e++){var h=a.cb[e],i=Jk[h]*a.fa[e];b(h,c.slice(d,d+i));d+=i}}
s.la=function(){var a=new this.constructor;a.cb=this.cb.concat();a.fa=this.fa.concat();a.Ub=this.Ub.concat();a.mc=this.mc&&this.mc.concat();a.db=this.db&&this.db.concat();a.zd=this.zd;return a};var Lk={};Lk[0]=Ik.prototype.moveTo;Lk[1]=Ik.prototype.lineTo;Lk[4]=Ik.prototype.close;Lk[2]=Ik.prototype.xi;Lk[3]=Ik.prototype.yk;function Mk(a){if(a.zd)return a.la();var b=new Ik;Kk(a,function(c,d){Lk[c].apply(b,d)});return b}
Ik.prototype.transform=function(a){if(!this.zd)g(Error("Non-simple path"));a.transform(this.Ub,0,this.Ub,0,this.Ub.length/2);this.mc&&a.transform(this.mc,0,this.mc,0,1);this.db&&this.mc!=this.db&&a.transform(this.db,0,this.db,0,1);return this};function Nk(a,b,c,d,e){se.call(this,e);this.width=a;this.height=b;this.fc=c||l;this.re=d||l}z(Nk,se);s=Nk.prototype;s.xa=l;s.Qc=0;s.hd=0;function Ok(a){return a.fc?new zc(a.fc,a.re):a.yb()}s.md=function(){return this.yb()};s.yb=function(){if(this.X)return ie(this.f());if(la(this.width)&&la(this.height))return new zc(this.width,this.height);return l};function Pk(a){var b=a.yb();return b?b.width/Ok(a).width:0}
function Qk(a,b,c,d,e,f,h,i,j,m,o,p){var q=j.size/2;d=i=="bottom"?d+f-q:i=="center"?d+f/2:d+q;return a.we(b,c,d,c+e,d,h,j,m,o,p)};function Rk(a,b){this.q=a;this.$a=b;this.Wg=n}z(Rk,Td);s=Rk.prototype;s.$a=l;s.q=l;s.$h=l;s.f=ca("q");s.Wh=function(a,b,c,d,e){this.$h=bj(new aj,M(c),d,e).translate(a,b);this.$a.Oh(this,a,b,c,d,e)};s.addEventListener=function(a,b,c,d){Hd(this.q,a,b,c,d)};s.removeEventListener=function(a,b,c,d){Jd(this.q,a,b,c,d)};s.m=function(){Rk.h.m.call(this);Nd(this.q)};function Sk(a,b,c,d){Rk.call(this,a,b);this.wj(c);this.tj(d)}z(Sk,Rk);s=Sk.prototype;s.fill=l;s.Zh=l;s.tj=function(a){this.fill=a;this.$a.Mh(this,a)};s.Mk=ca("fill");s.wj=function(a){this.Zh=a;this.$a.Nh(this,a)};s.Wk=ca("Zh");function Tk(a,b,c,d){Sk.call(this,a,b,c,d)}z(Tk,Sk);function Uk(a,b){Rk.call(this,a,b)}z(Uk,Rk);function Vk(a,b){Rk.call(this,a,b)}z(Vk,Rk);function Wk(a,b,c,d){Sk.call(this,a,b,c,d)}z(Wk,Sk);function Xk(a,b,c,d){Sk.call(this,a,b,c,d)}z(Xk,Sk);function Yk(a,b,c,d){Sk.call(this,a,b,c,d)}z(Yk,Sk);function Zk(a){Rk.call(this,l,a);this.qa=[]}z(Zk,Uk);Zk.prototype.clear=function(){if(this.qa.length){this.qa.length=0;$k(this.$a)}};Zk.prototype.Lb=aa();Zk.prototype.appendChild=function(a){this.qa.push(a)};Zk.prototype.gc=function(){for(var a=0,b=this.qa.length;a<b;a++)al(this.$a,this.qa[a])};
function bl(a,b,c,d,e,f,h,i){Sk.call(this,a,b,h,i);this.Fk=c;this.Gk=d;this.qj=e;this.rj=f;this.vd=new Ik;this.vd.clear();this.vd.moveTo(this.Fk+this.qj*Math.cos(M(0)),this.Gk+this.rj*Math.sin(M(0)));this.vd.arcTo(this.qj,this.rj,0,360);this.vd.close();this.Ml=new cl(l,b,this.vd,h,i)}z(bl,Tk);bl.prototype.gc=function(a){this.Ml.gc(a)};function dl(a,b,c,d,e,f,h,i){Sk.call(this,a,b,h,i);this.ke=c;this.me=d;this.Fd=e;this.nd=f}z(dl,Xk);dl.prototype.Uc=n;
dl.prototype.Lb=function(a,b){this.Fd=a;this.nd=b;this.Uc&&$k(this.$a)};dl.prototype.gc=function(a){this.Uc=k;a.beginPath();a.moveTo(this.ke,this.me);a.lineTo(this.ke,this.me+this.nd);a.lineTo(this.ke+this.Fd,this.me+this.nd);a.lineTo(this.ke+this.Fd,this.me);a.closePath()};function cl(a,b,c,d,e){Sk.call(this,a,b,d,e);this.Qh(c)}z(cl,Wk);cl.prototype.Uc=n;cl.prototype.Qh=function(a){this.vd=a.zd?a:Mk(a);this.Uc&&$k(this.$a)};
cl.prototype.gc=function(a){this.Uc=k;a.beginPath();Kk(this.vd,function(b,c){switch(b){case 0:a.moveTo(c[0],c[1]);break;case 1:for(var d=0;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);break;case 2:for(d=0;d<c.length;d+=6)a.bezierCurveTo(c[d],c[d+1],c[d+2],c[d+3],c[d+4],c[d+5]);break;case 3:g(Error("Canvas paths cannot contain arcs"));case 4:a.closePath()}})};
function el(a,b,c,d,e,f,h,i,j,m){Sk.call(this,l,a,j,m);this.Ij=b;this.Tj=c;this.im=d;this.Uj=e;this.jm=f;this.sk=h||"left";this.Kk=i;this.q=Lc("DIV",{style:"display:table;position:absolute;padding:0;margin:0;border:0"});this.Sf=Lc("DIV",{style:"display:table-cell;padding: 0;margin: 0;border: 0"});c=this.Tj;i=this.Uj;d=this.im;e=this.jm;j=this.sk;f=this.Kk;b=this.q.style;h=Pk(this.$a);m=this.$a;var o=m.yb();m=o?o.height/Ok(m).height:0;if(c==i){b.lineHeight="90%";this.Sf.style.verticalAlign=j=="center"?
"middle":j=="left"?d<e?"top":"bottom":d<e?"bottom":"top";b.textAlign="center";i=f.size*h;b.top=Math.round(Math.min(d,e)*m)+"px";b.left=Math.round((c-i/2)*h)+"px";b.width=Math.round(i)+"px";b.height=Math.abs(d-e)*m+"px";b.fontSize=f.size*0.6*m+"pt"}else{b.lineHeight="100%";this.Sf.style.verticalAlign="top";b.textAlign=j;b.top=Math.round(((d+e)/2-f.size*2/3)*m)+"px";b.left=Math.round(c*h)+"px";b.width=Math.round(Math.abs(i-c)*h)+"px";b.height="auto";b.fontSize=f.size*m+"pt"}b.fontWeight=f.bold?"bold":
"normal";b.fontStyle=f.zh?"italic":"normal";b.fontFamily=f.fh;c=this.fill;b.color=c.Cb||c.Ei();this.Sf.innerHTML=this.Tj==this.Uj?B(this.Ij.split(""),ya).join("<br>"):ya(this.Ij);a.f().appendChild(this.q);this.q.appendChild(this.Sf)}z(el,Yk);el.prototype.tj=function(a){this.fill=a;if(this.q)this.q.style.color=a.Cb||a.Ei()};el.prototype.wj=aa();el.prototype.gc=aa();function fl(a,b,c,d,e,f,h){Rk.call(this,a,b);this.ke=c;this.me=d;this.Fd=e;this.nd=f;this.am=h}z(fl,Vk);fl.prototype.Uc=n;
fl.prototype.Lb=function(a,b){this.Fd=a;this.nd=b;this.Uc&&$k(this.$a)};fl.prototype.gc=function(a){if(this.Qi){this.Fd&&this.nd&&a.drawImage(this.Qi,this.ke,this.me,this.Fd,this.nd);this.Uc=k}else{a=new Image;a.onload=ua(this.fl,this,a);a.src=this.am}};fl.prototype.fl=function(a){this.Qi=a;$k(this.$a)};function gl(a,b){this.size=a;this.fh=b}gl.prototype.bold=n;gl.prototype.zh=n;function hl(){};function il(a,b){this.Cb=a;this.Qe=b||1}z(il,hl);function jl(a,b){this.ei=a;this.Cb=b};function kl(a,b,c,d,e){Nk.call(this,a,b,c,d,e)}z(kl,Nk);s=kl.prototype;s.Mh=function(){$k(this)};s.Nh=function(){$k(this)};s.Oh=function(){$k(this)};function ll(a,b){var c=a.getContext();c.save();var d=b.$h?b.$h.la():new aj,e=d.jb,f=d.kb;if(e||f)c.translate(e,f);(d=d.za)&&c.rotate(Math.asin(d))}s.i=function(){var a=this.Eb.i("div",{style:"position:relative;overflow:hidden"});this.q=a;this.pe=this.Eb.i("canvas");a.appendChild(this.pe);this.Ch=this.xa=new Zk(this);this.Ql=0;ml(this)};
s.getContext=function(){this.f()||this.i();if(!this.Od){this.Od=this.pe.getContext("2d");this.Od.save()}return this.Od};s.Lb=function(a,b){this.width=a;this.height=b;ml(this);$k(this)};s.yb=function(){var a=this.width,b=this.height,c=w(a)&&a.indexOf("%")!=-1,d=w(b)&&b.indexOf("%")!=-1;if(!this.X&&(c||d))return l;var e,f;if(c){e=this.f().parentNode;f=ie(e);a=parseFloat(a)*f.width/100}if(d){e=e||this.f().parentNode;f=f||ie(e);b=parseFloat(b)*f.height/100}return new zc(a,b)};
function ml(a){he(a.f(),a.width,a.height);var b=a.yb();if(b){he(a.pe,b.width,b.height);a.pe.width=b.width;a.pe.height=b.height;a.Od=l}}s.reset=function(){var a=this.getContext();a.restore();var b=this.yb();b.width&&b.height&&a.clearRect(0,0,b.width,b.height);a.save()};s.clear=function(){this.reset();this.xa.clear();for(var a=this.f();a.childNodes.length>1;)a.removeChild(a.lastChild)};
function $k(a){if(a.zn)a.xn=k;else if(a.X){a.reset();if(a.fc){var b=a.yb();a.getContext().scale(b.width/a.fc,b.height/a.re)}if(a.Qc||a.hd)a.getContext().translate(-a.Qc,-a.hd);ll(a,a.xa);a.xa.gc(a.Od);a.getContext().restore()}}
function al(a,b){if(!(b instanceof el)){var c=a.getContext();ll(a,b);if(!b.Mk||!b.Wk)b.gc(c);else{var d=b.fill;if(d)if(d instanceof il){if(d.Qe!=0){c.globalAlpha=d.Qe;c.fillStyle=d.Cb;b.gc(c);c.fill();c.globalAlpha=1}}else{var e=c.createLinearGradient(d.Wm(),d.Ym(),d.Xm(),d.Zm());e.addColorStop(0,d.Ei());e.addColorStop(1,d.Um());c.fillStyle=e;b.gc(c);c.fill()}if(d=b.Zh){b.gc(c);c.strokeStyle=d.Cb;d=d.ei;if(w(d)&&d.indexOf("px")!=-1)d=parseFloat(d)/Pk(a);c.lineWidth=d;c.stroke()}}a.getContext().restore()}}
s.Xa=function(a,b){b=b||this.xa;b.appendChild(a);this.X&&!this.Ql&&!(b!=this.xa&&b!=this.Ch)&&al(this,a)};s.wf=function(a,b,c,d,e,f,h){a=new bl(l,this,a,b,c,d,e,f);this.Xa(a,h);return a};s.ah=function(a,b,c,d,e,f,h){a=new dl(l,this,a,b,c,d,e,f);this.Xa(a,h);return a};s.drawImage=function(a,b,c,d,e,f){a=new fl(l,this,a,b,c,d,e);this.Xa(a,f);return a};s.we=function(a,b,c,d,e,f,h,i,j,m){a=new el(this,a,b,c,d,e,f,h,i,j);this.Xa(a,m);return a};
s.hc=function(a,b,c,d){a=new cl(l,this,a,b,c);this.Xa(a,d);return a};s.te=function(a){var b=new Zk(this);a=a||this.xa;if(a==this.xa||a==this.Ch)this.Ch=b;this.Xa(b,a);return b};s.m=function(){this.Od=l;kl.h.m.call(this)};s.ta=function(){var a=this.yb();kl.h.ta.call(this);if(!a){ml(this);this.dispatchEvent("resize")}$k(this)};function nl(a,b){Rk.call(this,a,b)}z(nl,Uk);nl.prototype.clear=function(){Pc(this.f())};nl.prototype.Lb=function(a,b){ol(this.$a,this.f(),{width:a,height:b})};function pl(a,b,c,d){Sk.call(this,a,b,c,d)}z(pl,Tk);function ql(a,b,c,d){Sk.call(this,a,b,c,d)}z(ql,Xk);ql.prototype.Lb=function(a,b){ol(this.$a,this.f(),{width:a,height:b})};function rl(a,b,c,d){Sk.call(this,a,b,c,d)}z(rl,Wk);rl.prototype.Qh=function(a){ol(this.$a,this.f(),{d:sl(a)})};function tl(a,b,c,d){Sk.call(this,a,b,c,d)}z(tl,Yk);
function ul(a,b){Rk.call(this,a,b)}z(ul,Vk);ul.prototype.Lb=function(a,b){ol(this.$a,this.f(),{width:a,height:b})};function vl(a,b,c,d,e){Nk.call(this,a,b,c,d,e);this.yi={};this.ci=G&&!I(526);this.Gb=new Rd(this)}var wl;z(vl,Nk);function xl(a,b,c){b=a.Eb.ba.createElementNS("http://www.w3.org/2000/svg",b);c&&ol(a,b,c);return b}function ol(a,b,c){for(var d in c)b.setAttribute(d,c[d])}s=vl.prototype;s.Xa=function(a,b){(b||this.xa).f().appendChild(a.f())};s.Mh=function(a,b){var c=a.f();if(b instanceof il){c.setAttribute("fill",b.Cb);c.setAttribute("fill-opacity",b.Qe)}else c.setAttribute("fill","none")};
s.Nh=function(a,b){var c=a.f();if(b){c.setAttribute("stroke",b.Cb);var d=b.ei;w(d)&&d.indexOf("px")!=-1?c.setAttribute("stroke-width",parseFloat(d)/Pk(this)):c.setAttribute("stroke-width",d)}else c.setAttribute("stroke","none")};s.Oh=function(a,b,c,d,e,f){a.f().setAttribute("transform","translate("+b+","+c+") rotate("+d+" "+e+" "+f+")")};
s.i=function(){var a=xl(this,"svg",{width:this.width,height:this.height,overflow:"hidden"}),b=xl(this,"g");this.Xg=xl(this,"defs");this.xa=new nl(b,this);a.appendChild(this.Xg);a.appendChild(b);this.q=a;if(this.fc||this.Qc||this.hd){this.f().setAttribute("preserveAspectRatio","none");this.ci?this.tg():this.f().setAttribute("viewBox",this.Qc+" "+this.hd+" "+(this.fc?this.fc+" "+this.re:""))}};
s.tg=function(){if(this.X&&(this.fc||this.Qc||!this.hd)){var a=this.yb();if(a.width==0)this.f().style.visibility="hidden";else{this.f().style.visibility="";var b=-this.Qc,c=-this.hd,d=a.width/this.fc;a=a.height/this.re;this.xa.f().setAttribute("transform","scale("+d+" "+a+") translate("+b+" "+c+")")}}};s.Lb=aa();
s.yb=function(){if(!F)return this.X?ie(this.f()):vl.h.yb.call(this);var a=this.width,b=this.height,c=w(a)&&a.indexOf("%")!=-1,d=w(b)&&b.indexOf("%")!=-1;if(!this.X&&(c||d))return l;var e,f;if(c){e=this.f().parentNode;f=ie(e);a=parseFloat(a)*f.width/100}if(d){e=e||this.f().parentNode;f=f||ie(e);b=parseFloat(b)*f.height/100}return new zc(a,b)};s.clear=function(){this.xa.clear();Pc(this.Xg);this.yi={}};
s.wf=function(a,b,c,d,e,f,h){a=xl(this,"ellipse",{cx:a,cy:b,rx:c,ry:d});e=new pl(a,this,e,f);this.Xa(e,h);return e};s.ah=function(a,b,c,d,e,f,h){a=xl(this,"rect",{x:a,y:b,width:c,height:d});e=new ql(a,this,e,f);this.Xa(e,h);return e};s.drawImage=function(a,b,c,d,e,f){a=xl(this,"image",{x:a,y:b,width:c,height:d,"image-rendering":"optimizeQuality",preserveAspectRatio:"none"});a.setAttributeNS("http://www.w3.org/1999/xlink","href",e);e=new ul(a,this);this.Xa(e,f);return e};
s.we=function(a,b,c,d,e,f,h,i,j,m){var o=Math.round(Tg(b,c,d,e));d=d-b;e=e-c;e=Math.round(Math.sqrt(d*d+e*e));var p=h.size;d={"font-family":h.fh,"font-size":p};p=Math.round(c-p/2+Math.round(p*0.85));var q=b;if(f=="center"){q+=Math.round(e/2);d["text-anchor"]="middle"}else if(f=="right"){q+=e;d["text-anchor"]="end"}d.x=q;d.y=p;if(h.bold)d["font-weight"]="bold";if(h.zh)d["font-style"]="italic";if(o!=0)d.transform="rotate("+o+" "+b+" "+c+")";b=xl(this,"text",d);b.appendChild(this.Eb.ba.createTextNode(a));
if(i==l&&F&&Zb){a="black";if(j instanceof il)a=j.Cb;i=new jl(1,a)}j=new tl(b,this,i,j);this.Xa(j,m);return j};s.hc=function(a,b,c,d){a=xl(this,"path",{d:sl(a)});b=new rl(a,this,b,c);this.Xa(b,d);return b};
function sl(a){var b=[];Kk(a,function(c,d){switch(c){case 0:b.push("M");Array.prototype.push.apply(b,d);break;case 1:b.push("L");Array.prototype.push.apply(b,d);break;case 2:b.push("C");Array.prototype.push.apply(b,d);break;case 3:var e=d[3];b.push("A",d[0],d[1],0,Math.abs(e)>180?1:0,e>0?1:0,d[4],d[5]);break;case 4:b.push("Z")}});return b.join(" ")}s.te=function(a){var b=xl(this,"g");(a||this.xa).f().appendChild(b);return new nl(b,this)};
s.ta=function(){var a=this.yb();vl.h.ta.call(this);a||this.dispatchEvent("resize");if(this.ci){a=this.width;var b=this.height;typeof a=="string"&&a.indexOf("%")!=-1&&typeof b=="string"&&b.indexOf("%")!=-1&&this.Gb.u(yl(),nf,this.tg);this.tg()}};s.xb=function(){vl.h.xb.call(this);this.ci&&this.Gb.mb(yl(),nf,this.tg)};s.m=function(){delete this.yi;delete this.Xg;delete this.xa;vl.h.m.call(this)};function yl(){if(!wl){wl=new lf(400);wl.start()}return wl};function zl(){return this.q=this.$a.Eb.f(this.Ib)||this.q}function Al(a,b){this.Ib=a.id;Rk.call(this,a,b)}z(Al,Uk);Al.prototype.f=zl;Al.prototype.clear=function(){Pc(this.f())};Al.prototype.Lb=function(a,b){var c=this.f(),d=c.style;d.width=Z(a)+"px";d.height=Z(b)+"px";c.coordsize=Z(a)+" "+Z(b);if(this.$a.xa!=this)c.coordorigin="0 0"};function Bl(a,b,c,d,e,f,h,i){this.Ib=a.id;Sk.call(this,a,b,h,i);this.Lm=c;this.Mm=d;this.Bn=e;this.Dn=f}z(Bl,Tk);Bl.prototype.f=zl;
function Cl(a,b,c,d){this.Ib=a.id;Sk.call(this,a,b,c,d)}z(Cl,Xk);Cl.prototype.f=zl;Cl.prototype.Lb=function(a,b){var c=this.f().style;c.width=Z(a)+"px";c.height=Z(b)+"px"};function Dl(a,b,c,d){this.Ib=a.id;Sk.call(this,a,b,c,d)}z(Dl,Wk);Dl.prototype.f=zl;Dl.prototype.Qh=function(a){El(this.f(),"path",Fl(a))};function Gl(a,b,c,d){this.Ib=a.id;Sk.call(this,a,b,c,d)}z(Gl,Yk);Gl.prototype.f=zl;function Hl(a,b){this.Ib=a.id;Rk.call(this,a,b)}z(Hl,Vk);Hl.prototype.f=zl;
Hl.prototype.Lb=function(a,b){var c=this.f().style;c.width=Il(a)+"px";c.height=Il(b)+"px"};function Jl(a,b,c,d,e){Nk.call(this,a,b,c,d,e);this.Gb=new Rd(this)}z(Jl,Nk);var Kl=document.documentMode&&document.documentMode>=8;function Ll(a){var b;if(b=w(a)){b=a.length-1;b=b>=0&&a.indexOf("%",b)==b}return b?a:parseFloat(a.toString())+"px"}function Il(a){return Math.round((parseFloat(a.toString())-0.5)*100)}function Z(a){return Math.round(parseFloat(a.toString())*100)}function El(a,b,c){if(Kl)a[b]=c;else a.setAttribute(b,c)}
function Ml(a,b){var c=a.Eb.createElement("g_vml_:"+b);c.id="goog_"+Ia++;return c}function Nl(a){if(Kl&&a.X)a.f().innerHTML=a.f().innerHTML}Jl.prototype.Xa=function(a,b){(b||this.xa).f().appendChild(a.f());Nl(this)};
Jl.prototype.Mh=function(a,b){var c=a.f();c.fillcolor="";for(var d=0;d<c.childNodes.length;d++){var e=c.childNodes[d];e.tagName=="fill"&&c.removeChild(e)}if(b instanceof il)if(b.Cb=="transparent")c.filled=n;else if(b.Qe!=1){c.filled=k;d=Ml(this,"fill");d.opacity=Math.round(b.Qe*100)+"%";d.color=b.Cb;c.appendChild(d)}else{c.filled=k;c.fillcolor=b.Cb}else c.filled=n;Nl(this)};
Jl.prototype.Nh=function(a,b){var c=a.f();if(b){c.stroked=k;var d=b.ei;if(w(d)&&d.indexOf("px")==-1)d=parseFloat(d);else d*=Pk(this);var e=c.getElementsByTagName("stroke")[0];if(d<1){e=e||Ml(this,"stroke");e.opacity=d;e.Gn="1px";e.color=b.Cb;c.appendChild(e)}else{e&&c.removeChild(e);c.strokecolor=b.Cb;c.strokeweight=d+"px"}}else c.stroked=n;Nl(this)};
Jl.prototype.Oh=function(a,b,c,d,e,f){a=a.f();a.style.left=Il(b)+"px";a.style.top=Il(c)+"px";if(d||a.rotation){a.rotation=d;a.coordsize=Z(e*2)+" "+Z(f*2)}};function Ol(a,b,c,d,e){var f=a.style;f.position="absolute";f.left=Il(b)+"px";f.top=Il(c)+"px";f.width=Z(d)+"px";f.height=Z(e)+"px";if(a.tagName=="shape")a.coordsize=Z(d)+" "+Z(e)}function Pl(a,b){var c=Ml(a,b),d=Ok(a);Ol(c,0,0,d.width,d.height);return c}try{eval("document.namespaces")}catch(Ql){}s=Jl.prototype;
s.i=function(){var a=this.Eb.ba;if(!a.namespaces.g_vml_){Kl?a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"):a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml");a.createStyleSheet().cssText="g_vml_\\:*{behavior:url(#default#VML)}"}a=this.width;var b=this.height,c=this.Eb.i("div",{style:"overflow:hidden;position:relative;width:"+Ll(a)+";height:"+Ll(b)});this.q=c;var d=Ml(this,"group"),e=d.style;e.position="absolute";e.left=e.top=0;e.width=this.width;e.height=this.height;
d.coordsize=this.fc?Z(this.fc)+" "+Z(this.re):Z(a)+" "+Z(b);d.coordorigin=this.Qc!==undefined?Z(this.Qc)+" "+Z(this.hd):"0 0";c.appendChild(d);this.xa=new Al(d,this);Hd(c,"resize",ua(this.mh,this))};s.mh=function(){var a=ie(this.f()),b=this.xa.f().style;if(a.width){b.width=a.width+"px";b.height=a.height+"px"}else{for(a=this.f();a&&a.currentStyle&&a.currentStyle.display!="none";)a=a.parentNode;a&&a.currentStyle&&this.Gb.u(a,"propertychange",this.mh)}this.dispatchEvent("resize")};s.Lb=aa();
s.yb=function(){var a=this.f();return new zc(a.style.pixelWidth||a.offsetWidth||1,a.style.pixelHeight||a.offsetHeight||1)};s.clear=function(){this.xa.clear()};s.wf=function(a,b,c,d,e,f,h){var i=Ml(this,"oval");Ol(i,a-c,b-d,c*2,d*2);a=new Bl(i,this,a,b,c,d,e,f);this.Xa(a,h);return a};s.ah=function(a,b,c,d,e,f,h){var i=Ml(this,"rect");Ol(i,a,b,c,d);a=new Cl(i,this,e,f);this.Xa(a,h);return a};
s.drawImage=function(a,b,c,d,e,f){var h=Ml(this,"image");Ol(h,a,b,c,d);El(h,"src",e);a=new Hl(h,this);this.Xa(a,f);return a};
s.we=function(a,b,c,d,e,f,h,i,j,m){var o=Pl(this,"shape"),p=Ml(this,"path");El(p,"v","M"+Il(b)+","+Il(c)+"L"+Il(d)+","+Il(e)+"E");El(p,"textpathok","true");b=Ml(this,"textpath");b.setAttribute("on","true");c=b.style;c.fontSize=h.size*Pk(this);c.fontFamily=h.fh;if(f!=l)c["v-text-align"]=f;if(h.bold)c.fontWeight="bold";if(h.zh)c.fontStyle="italic";El(b,"string",a);o.appendChild(p);o.appendChild(b);a=new Gl(o,this,i,j);this.Xa(a,m);return a};
s.hc=function(a,b,c,d){var e=Pl(this,"shape");El(e,"path",Fl(a));a=new Dl(e,this,b,c);this.Xa(a,d);return a};
function Fl(a){var b=[];Kk(a,function(c,d){switch(c){case 0:b.push("m");Array.prototype.push.apply(b,B(d,Z));break;case 1:b.push("l");Array.prototype.push.apply(b,B(d,Z));break;case 2:b.push("c");Array.prototype.push.apply(b,B(d,Z));break;case 4:b.push("x");break;case 3:var e=d[2]+d[3];b.push("ae",Z(d[4]-d[0]*Math.cos(M(e))),Z(d[5]-d[1]*Math.sin(M(e))),Z(d[0]),Z(d[1]),Math.round(d[2]*-65536),Math.round(d[3]*-65536))}});return b.join(" ")}
s.te=function(a){var b=Pl(this,"group");(a||this.xa).f().appendChild(b);return new Al(b,this)};s.ta=function(){Jl.h.ta.call(this);this.mh();Nl(this)};s.m=function(){this.xa=l;Jl.h.m.call(this)};function Rl(a,b,c,d){this.kf=a;this.lf=b;this.ug=c;this.zg=d}Rl.prototype.la=function(){return new Rl(this.kf,this.lf,this.ug,this.zg)};function Sl(a,b,c){if(b instanceof J){c=b.y;b=b.x}else c=c;var d=a.kf,e=a.lf,f=a.ug-a.kf,h=a.zg-a.lf;return((b-d)*(a.ug-d)+(c-e)*(a.zg-e))/(f*f+h*h)}function Tl(a,b){return new J(a.kf+b*(a.ug-a.kf),a.lf+b*(a.zg-a.lf))};function Ul(a,b,c){this.cells={};this.Ld=b?b:2;this.em=c?c:0.3;this.le=this.je=1E5;this.Bg=this.vg=-1E5;b=0;for(c=a.length;b<c;b++){var d=a[b].Fa();if(d.x<this.je)this.je=d.x;if(d.x>this.vg)this.vg=d.x;if(d.y<this.le)this.le=d.y;if(d.y>this.Bg)this.Bg=d.y}this.je-=1;this.le-=1;this.vg+=1;this.Bg+=1;this.width=this.vg-this.je;this.height=this.Bg-this.le;this.fi=Math.ceil(this.width/this.Ld);this.km=Math.ceil(this.height/this.Ld);A(a,function(e){var f=e.Fa();f=Math.floor((f.y-this.le)/this.Ld)*this.fi+
Math.floor((f.x-this.je)/this.Ld);this.cells[f]||(this.cells[f]=[]);this.cells[f].push(e)},this)}function Vl(a,b){var c=[],d=Math.floor((b.x-a.je)/a.Ld),e=Math.floor((b.y-a.le)/a.Ld),f=d-1;for(d=d+2;f<d;f++)if(!(f<0||f>=a.fi))for(var h=e-1,i=e+2;h<i;h++)h<0||h>=a.km||c.push(h*a.fi+f);return c}
function Bj(a,b){for(var c=[],d=Vl(a,b),e=0,f=d.length;e<f;e++){var h=a.cells[d[e]];if(h)for(var i=0,j=h.length;i<j;i++){var m=h[i],o=m.Ae(b);o<a.em&&c.push({ud:m.ud,Ai:o})}}c.sort(function(p,q){return p.Ai-q.Ai});return B(c,function(p){return p.ud})}
function Wl(a){return bb(B(a,function(b){return Ta(Xl(b.td),B(b.Kb,function(c){return{ud:c,Fa:function(){return c.a},Ae:function(d){return xc(c.a,d)}}}),B(b.Ja,function(c){return{ud:c,Fa:function(){return c.Fa()},Ae:function(d){var e=new Rl(c.source.x,c.source.y,c.target.x,c.target.y);return xc(Tl(e,Math.min(Math.max(Sl(e,d.x,d.y),0),1)),d)}}}))}))}
function Xl(a){var b=B(a,function(c){return{ud:c,Fa:function(){return c.Fa()},Ae:function(d){return xc(c.Fa(),d)/4}}});A(a,function(c){b=Ta(b,B(c.e,function(d){return{ud:d,Fa:function(){return d.a},Ae:function(e){return xc(d.a,e)}}}));b=Ta(b,B(c.g,function(d){return{ud:d,Fa:function(){return Lh(L(d.source.a,d.target.a)).scale(0.5)},Ae:function(e){var f=new Rl(d.source.a.x,d.source.a.y,d.target.a.x,d.target.a.y);return xc(Tl(f,Math.min(Math.max(Sl(f,e.x,e.y),0),1)),e)}}}))});return b};function Yl(a,b,c){this.ca=a;this.j=new ob(b!==undefined?b:{});c!==undefined&&this.j.Id(c)}Yl.prototype.v=D("kemia.view.Renderer");function Zl(a,b){var c=Xd(b).md(),d=c.width,e=a.ca.md();c.scale(c.width/c.height>e.width/e.height?e.width/c.width:e.height/c.height);c=a.$e*c.width/d;return new ej(c,0,0,-c,-Math.min(b.left,b.right)*c,Math.max(b.top,b.bottom)*c)}Yl.prototype.setTransform=ba("transform");function $l(a,b){Yl.call(this,a,am,b)}z($l,Yl);
$l.prototype.ma=function(a,b,c){b||(b=this.j.l("highlight").color);c||(c=new Nj);var d=Tg(a.source.a.x,a.source.a.y,a.target.a.x,a.target.a.y),e=M(Sg(d+90));d=M(Sg(d-90));var f=this.transform.ia,h=this.j.l("highlight").radius*f;a=Q(this.transform,[a.source.a,a.target.a]);f=L(new J(h*Math.cos(e),-h*Math.sin(e)),a[0]);var i=L(new J(h*Math.cos(e),-h*Math.sin(e)),a[1]);e=L(new J(h*Math.cos(d),-h*Math.sin(d)),a[0]);d=L(new J(h*Math.cos(d),-h*Math.sin(d)),a[1]);h=new Ik;h.moveTo(a[0].x,a[0].y);h.lineTo(f.x,
f.y);h.lineTo(i.x,i.y);h.lineTo(a[1].x,a[1].y);h.close();b=new il(b,0.15);c.add(this.ca.hc(h,l,b));f=new Ik;f.moveTo(a[0].x,a[0].y);f.lineTo(e.x,e.y);f.lineTo(d.x,d.y);f.lineTo(a[1].x,a[1].y);f.close();c.add(this.ca.hc(f,l,b));return c};function bm(a){a=new Ih(a.source.a,a.target.a);a=yc(a.target,a.source);return Math.atan2(a.y,a.x)}function cm(a){return a.R!="C"||a.ob()==1}
var am={bond:{stroke:{width:1.5,color:"black"},fill:{color:"black"},"width-ratio":6,"symbol-space":0.3,"triple-dist":0.15,"quad-dist":0.13},highlight:{radius:0.3,color:"blue"}};function dm(a,b){$l.call(this,a,dm.jd,b)}z(dm,$l);dm.prototype.Q=function(a,b,c){this.setTransform(b);var d=[a.source.a,a.target.a],e=Lh(yc(d[1],d[0]));e.normalize();e.scale(this.j.l("bond")["symbol-space"]);if(cm(a.source))d[0]=L(d[0],e);if(cm(a.target))d[1]=yc(d[1],e);d=Q(b,[d[0],d[1]]);c.moveTo(d[0].x,d[0].y);c.lineTo(d[1].x,d[1].y)};function em(a,b){$l.call(this,a,em.jd,b)}z(em,$l);
em.prototype.Q=function(a,b,c){this.setTransform(b);var d=fm(a),e=Lh(yc(a.target.a,a.source.a));e.scale(1/this.j.l("bond")["width-ratio"]);var f=new Kh(-e.y,e.x),h=e.la().normalize().scale(this.j.l("bond")["symbol-space"]);if(d){var i=L(a.source.a,f);if(!Jh(new Ih(a.source.a,a.target.a),d.Fa(),i)){d=f;d.x=-d.x;d.y=-d.y}d=L(a.source.a,f);i=L(a.target.a,f);var j=a.source.a;f=a.target.a;if(cm(a.source)){d=L(d,h);j=L(j,h)}else d=L(d,e);if(cm(a.target)){i=yc(i,h);f=yc(f,h)}else i=yc(i,e)}else{f.scale(0.5);
e=f;if(Math.abs(e.x)>0.08){f=e.x/0.08;e.x/=f;e.y/=f}if(Math.abs(e.y)>0.08){f=e.y/0.08;e.x/=f;e.y/=f}f=e;d=L(a.source.a,f);i=L(a.target.a,f);j=yc(a.source.a,f);f=yc(a.target.a,f);if(cm(a.source)){d=L(d,h);j=L(j,h)}if(cm(a.target)){i=yc(i,h);f=yc(f,h)}}a=Q(b,[d,i,j,f]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.moveTo(a[2].x,a[2].y);c.lineTo(a[3].x,a[3].y)};function fm(a){return Qa(gj(a.L),function(b){return C(b.g,a)})};function gm(a,b){$l.call(this,a,gm.jd,b)}z(gm,$l);
gm.prototype.Q=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width;d=new jl(d,this.j.l("bond").stroke.color);var e=bm(a),f=e+Math.PI/2;e=e-Math.PI/2;var h=this.j.l("bond")["triple-dist"];f=new ej(1,0,0,1,Math.cos(f)*h,Math.sin(f)*h);e=new ej(1,0,0,1,Math.cos(e)*h,Math.sin(e)*h);f=Q(f,[a.source.a,a.target.a]);e=Q(e,[a.source.a,a.target.a]);a=Q(b,[a.source.a,a.target.a,f[0],f[1],e[0],e[1]]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.moveTo(a[2].x,a[2].y);c.lineTo(a[3].x,
a[3].y);c.moveTo(a[4].x,a[4].y);c.lineTo(a[5].x,a[5].y);this.ca.hc(c,d,l)};function hm(a,b){$l.call(this,a,hm.jd,b)}z(hm,$l);
hm.prototype.Q=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width;d=new jl(d,this.j.l("bond").stroke.color);var e=bm(a),f=e+Math.PI/2,h=e-Math.PI/2,i=this.j.l("bond")["quad-dist"],j=new ej(1,0,0,1,Math.cos(f)*i/3,Math.sin(f)*i/3);e=new ej(1,0,0,1,Math.cos(h)*i/3,Math.sin(h)*i/3);f=new ej(1,0,0,1,Math.cos(f)*i,Math.sin(f)*i);h=new ej(1,0,0,1,Math.cos(h)*i,Math.sin(h)*i);j=Q(j,[a.source.a,a.target.a]);e=Q(e,[a.source.a,a.target.a]);f=Q(f,[a.source.a,a.target.a]);a=Q(h,[a.source.a,
a.target.a]);b=Q(b,[j[0],j[1],e[0],e[1],f[0],f[1],a[0],a[1]]);c.moveTo(b[0].x,b[0].y);c.lineTo(b[1].x,b[1].y);c.moveTo(b[2].x,b[2].y);c.lineTo(b[3].x,b[3].y);c.moveTo(b[4].x,b[4].y);c.lineTo(b[5].x,b[5].y);c.moveTo(b[6].x,b[6].y);c.lineTo(b[7].x,b[7].y);this.ca.hc(c,d,l)};function im(a,b){$l.call(this,a,im.jd,b)}z(im,$l);
im.prototype.Q=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width/10,e=bm(a),f=e+Math.PI/2;e=e-Math.PI/2;f=qi(new ej(1,0,0,1,Math.cos(f)*d,Math.sin(f)*d),[a.target.a])[0];d=qi(new ej(1,0,0,1,Math.cos(e)*d,Math.sin(e)*d),[a.target.a])[0];if(a.target.R!="C"){e=3*xc(f,a.source.a);f.x=(f.x*(e-1)+a.source.a.x)/e;f.y=(f.y*(e-1)+a.source.a.y)/e;d.x=(d.x*(e-1)+a.source.a.x)/e;d.y=(d.y*(e-1)+a.source.a.y)/e}a=Q(b,[a.source.a,f,d]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.lineTo(a[2].x,
a[2].y)};function jm(a,b){$l.call(this,a,jm.jd,b)}z(jm,$l);
jm.prototype.Q=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width/10,e=bm(a),f=e+Math.PI/2;e=e-Math.PI/2;f=new ej(1,0,0,1,Math.cos(f)*d,Math.sin(f)*d);d=new ej(1,0,0,1,Math.cos(e)*d,Math.sin(e)*d);f=Q(f,[a.source.a,a.target.a]);d=Q(d,[a.source.a,a.target.a]);b=Q(b,[f[0],f[1],d[0],d[1],a.source.a]);d=0;if(a.target.R!="C")d=1;for(a=0;a<7-d;a++){c.moveTo(((7-a)*b[4].x+a*b[1].x)/7,((7-a)*b[4].y+a*b[1].y)/7);c.lineTo(((7-a)*b[4].x+a*b[3].x)/7,((7-a)*b[4].y+a*b[3].y)/7)}};function km(a,b){$l.call(this,a,km.jd,b)}z(km,$l);
km.prototype.Q=function(a,b,c){this.setTransform(b);var d=Math.round(xc(a.source.a,a.target.a)*12);if(d<8)d=8;Jb(this.v,"# zigZags "+d);var e=this.j.l("bond").stroke.width/10,f=bm(a),h=f+Math.PI/2;f=f-Math.PI/2;var i=[];i.push(a.source.a);Jb(this.v,"# coords "+i.length);for(var j=l,m=1/d,o=0,p=1;p<=d;p++){o+=m;j=p%2==0?new ej(1,0,0,1,Math.cos(h)*e*o,Math.sin(h)*e*o):new ej(1,0,0,1,Math.cos(f)*e*o,Math.sin(f)*e*o);j=Q(j,[new J(((d-p)*a.source.a.x+a.target.a.x*p)/d,((d-p)*a.source.a.y+a.target.a.y*
p)/d)])[0];i.push(j)}a=Q(b,i);c.moveTo(a[1].x,a[1].y);b=2;for(d=a.length-1;b<d;b++){c.lineTo(a[b].x,a[b].y);c.moveTo(a[b].x,a[b].y)}};function lm(a,b){this.ca=a;this.j=new ob;b&&this.j.Id(b)}lm.prototype.v=D("kemia.view.BondRendererFactory");var mm=hb({Tk:ji,Lk:2,Xk:3,Qk:4}),nm=hb({Sk:ki,Vk:11,Rk:13,Uk:12});s=lm.prototype;s.l=function(a){return this[mm[a.sa]].apply(this,[a.ea])};s.Tk=function(a){return this[nm[a]].apply(this)};s.Sk=function(){if(!this.Bj)this.Bj=new dm(this.ca,this.j);return this.Bj};s.Vk=function(){if(!this.Cj)this.Cj=new im(this.ca,this.j);return this.Cj};
s.Rk=function(){if(!this.Aj)this.Aj=new jm(this.ca,this.j);return this.Aj};s.Uk=function(){if(!this.Dj)this.Dj=new km(this.ca,this.j);return this.Dj};s.Lk=function(){if(!this.Ci)this.Ci=new em(this.ca,this.j);return this.Ci};s.Xk=function(){if(!this.Pj)this.Pj=new gm(this.ca,this.j);return this.Pj};s.Qk=function(){if(!this.oj)this.oj=new hm(this.ca,this.j);return this.oj};function Nj(){this.ka=[]}Nj.prototype.v=D("kemia.graphics.ElementArray");Nj.prototype.add=function(a){this.ka.push(a);return this};Nj.prototype.clear=function(){A(this.ka,function(a){Qc(a.f())},this);this.ka.length=0};Nj.prototype.Wh=function(a,b,c,d,e){A(this.ka,function(f){f.Wh(a,b,c,d,e)})};function om(a,b){Yl.call(this,a,pm,b)}z(om,Yl);
om.prototype.Q=function(a,b,c){this.setTransform(b);c||(c=new Nj);var d=this.j.l("atom"),e=this.j.l(a.R)?this.j.l(a.R).color:d.color,f=b.ia;f=new gl(f/1.8>12?15:f/1.8,d.fontName);d=new jl(d.stroke.width,"black");e=new il(e);b=Q(b,[a.a])[0];var h={text:"",Zf:"center",Cc:"",Bd:""};if(a.R!="C"||a.ob()<1||a.Za||a.ob()==1&&this.j.l("showTerminalCarbons")){var i=ui(a);if(i==0)h.text=a.R;else{var j,m=a.g.Df();j=qm(a,0);if(m>1){for(var o=1;o<m;++o)j+=qm(a,o);j=j/m%360}j=j>350||j<=10?"E":j>10&&j<=80?"SE":
j>80&&j<=100?"S":j>100&&j<=170?"SW":j>170&&j<=190?"W":j>190&&j<=260?"NW":j>260&&j<=280?"N":"NE";m="center";if(j=="SW"||j=="W"||j=="NW"){m="right";if(i==1)h.text="H";h.text+=a.R}else{m="left";h.text=a.R+"H"}if(i>1)h.Bd=String(i)}if(a.Za)if(a.Za>1)h.Cc+="+"+a.Za;else if(a.Za<-1)h.Cc+=a.Za;else if(a.Za==-1)h.Cc="-";else if(a.Za==1)h.Cc="+"}else h.text="";h.Zf=m;a=this.ca;m=h.text.length*0.55*f.size;i=f.size;if(h.text){c.add(Qk(a,h.text,b.x-m/2,b.y-i/2,m,i,h.Zf,l,f,d,e));if(h.Zf=="left"){if(h.Bd||h.Cc){j=
this.j.l("subscriptSize");h.Bd&&c.add(Qk(a,h.Bd,b.x+m*0.9,b.y,j,j,"center",l,f,d,e));h.Cc&&c.add(Qk(a,h.Cc,b.x+m,b.y-i*0.8,j,j,"center",l,f,d,e))}}else if(h.Zf=="right")if(h.Bd||h.Cc){j=this.j.l("subscriptSize");if(h.Bd){c.add(Qk(a,"H",b.x-m*3,b.y-i/2,m,i,"center",l,f,d,e));c.add(Qk(a,h.Bd,b.x-m*1.8,b.y,j,j,"center",l,f,d,e))}h.Cc&&c.add(Qk(a,h.Cc,b.x+m,b.y-i*0.8,j,j,"center",l,f,d,e))}}return c};
om.prototype.ma=function(a,b,c){var d=this.j.l("atom");b||(b=this.j.l(a.R)?this.j.l(a.R).color:d.color);c||(c=new Nj);b=new il(b,0.3);d=d.highlight.radius*this.transform.ia;a=Q(this.transform,[a.a])[0];c.add(this.ca.wf(a.x,a.y,d,d,l,b,void 0));return c};function qm(a,b){if(a.g.J().length==0)return 0;var c=a.g.J()[b],d=c.target.a,e=c.source.a,f=d.y-e.y;d=d.x-e.x;if(a==c.source){d=-d;f=-f}c=Math.atan2(f,d)*180/Math.PI;if(c<0)c=360+c;return c}om.prototype.v=D("kemia.view.AtomRenderer");
var pm={atom:{color:"#FF9999",diameter:0.05,highlight:{radius:0.3},stroke:{width:0.15},fontName:"Arial"},showTerminalCarbons:k,margin:20,subscriptSize:5,N:{color:"blue"},O:{color:"red"},S:{color:"yellow"},P:{color:"orange"},Cl:{color:"green"},F:{color:"green"},Br:{color:"DarkRed"},I:{color:"purple"},C:{color:"black"},R1:{color:"black"},R2:{color:"black"},H:{color:"white"}};function rm(a,b){$l.call(this,a,rm.jd,b)}z(rm,$l);rm.prototype.Q=function(a,b){this.setTransform(b);var c=new Ik,d=qi(this.transform,[a.Fa()])[0],e=Q(this.transform,[a.e[0].a])[0];e=xc(d,e)*0.5;c.moveTo(d.x+e,d.y);c.arcTo(e,e,0,180);c.moveTo(d.x+e,d.y);c.arcTo(e,e,0,-180)};function sm(a,b){Yl.call(this,a,tm,b);this.$e=1;this.Kd=new lm(a,this.j);this.Bb=new om(a,this.j);this.zk=new rm(a,this.j)}z(sm,Yl);sm.prototype.v=D("kemia.view.MoleculeRenderer");sm.prototype.ie=ba("$e");
sm.prototype.Q=function(a,b){if(a.ka)a.ka.clear();else a.ka=new Nj;a.eg=k;var c=B(a.e,function(h){return h.a});c=Vd.apply(l,c);if(!b){var d=this.j.l("margin");b=Zl(this,c.expand(d,d,d,d))}this.setTransform(b);Q(this.transform,[new J((c.left+c.right)/2,(c.top+c.bottom)/2)]);c=new jl(this.j.l("bond").stroke.width,this.j.l("bond").stroke.color);d=new il(this.j.l("bond").fill.color);var e=new Ik;A(a.g,function(h){this.Kd.l(h).Q(h,b,e)},this);var f=this.zk;A(gj(a),function(h){Ma(h.g,function(i){return i.Vb}).length==
h.g.length&&this.ka.add(f.Q(h,b,e))});a.ka.add(this.ca.hc(e,c,d));A(a.e,function(h){this.Bb.Q(h,b,a.ka)},this)};sm.prototype.ma=function(a,b,c){b||(b=this.j.l("highlight").color);c||(c=new Nj);A(a.g,function(d){this.Kd.l(d).ma(d,b,c)},this);A(a.e,function(d){this.Bb.ma(d,b,c)},this);return c};var tm={bond:{stroke:{width:2,color:"black"},fill:{color:"black"}},highlight:{radius:0.3,color:"blue"}};function um(a,b){Yl.call(this,a,vm,b)}z(um,Yl);
um.prototype.Q=function(a,b){this.setTransform(b);if(a.ka)a.ka.clear();else a.ka=new Nj;var c=this.j.l("arrow").height,d=xc(a.target,a.source),e=Tg(a.source.x,a.source.y,a.target.x,a.target.y),f=Sg(e+90),h=Sg(e-90),i=new J((a.source.x+a.target.x)/2,(a.source.y+a.target.y)/2),j=new J(i.x,i.y+c),m=new J(i.x,i.y-c),o=new J(i.x-d/2,i.y),p=new J(i.x+d/2,i.y),q=new J(p.x-c,p.y+c/2),t=new J(p.x-c,p.y-c/2);c=new Ik;d=new jl(this.j.l("arrow").stroke.width,this.j.l("arrow").stroke.color);var v=new jl(this.j.l("arrow").font.stroke.width,
this.j.l("arrow").font.stroke.color),y=new il(this.j.l("arrow").font.stroke.color),H=b.ia,K=H/1.8>12?15:H/1.8;H=new gl(K,this.j.l("arrow").font.name);e=bj(new ej,M(e),i.x,i.y);i=e.ia;var na=e.za;e.ia=b.ia*i+b.Ha*na;e.za=b.za*i+b.ua*na;i=e.Ha;na=e.ua;e.Ha=b.ia*i+b.Ha*na;e.ua=b.za*i+b.ua*na;i=e.jb;na=e.kb;e.jb=b.ia*i+b.Ha*na+b.jb;e.kb=b.za*i+b.ua*na+b.kb;j=Q(e,[o,p,q,t,j,m]);c.moveTo(j[0].x,j[0].y);c.lineTo(j[1].x,j[1].y);c.lineTo(j[2].x,j[2].y);c.moveTo(j[1].x,j[1].y);c.lineTo(j[3].x,j[3].y);f=M(f);
h=M(h);if(a.ja&&a.ja.mg&&!a.ja.Wf){m=L(new J(K*Math.cos(f),-K*Math.sin(f)),j[0]);f=L(new J(K*Math.cos(f),-K*Math.sin(f)),j[1]);a.ka.add(this.ca.we(a.ja.mg,m.x,m.y,f.x,f.y,"center",H,v,y))}if(a.ja&&a.ja.tf&&!a.ja.Vf){f=L(new J(K*Math.cos(h),-K*Math.sin(h)),j[0]);K=L(new J(K*Math.cos(h),-K*Math.sin(h)),j[1]);a.ka.add(this.ca.we(a.ja.tf,f.x,f.y,K.x,K.y,"center",H,v,y))}a.ka.add(this.ca.hc(c,d))};
um.prototype.ma=function(a,b,c){b||(b=this.j.l("arrow").highlight.color);c||(c=this.ca.te());var d=Tg(a.source.x,a.source.y,a.target.x,a.target.y),e=M(Sg(d+90));d=M(Sg(d-90));var f=this.transform.ia,h=this.j.l("arrow").highlight.radius*f;a=Q(this.transform,[a.source,a.target]);f=L(new J(h*Math.cos(e),-h*Math.sin(e)),a[0]);var i=L(new J(h*Math.cos(e),-h*Math.sin(e)),a[1]);e=L(new J(h*Math.cos(d),-h*Math.sin(d)),a[0]);d=L(new J(h*Math.cos(d),-h*Math.sin(d)),a[1]);h=new Ik;h.moveTo(a[0].x,a[0].y);h.lineTo(f.x,
f.y);h.lineTo(i.x,i.y);h.lineTo(a[1].x,a[1].y);h.close();b=new il(b,0.15);this.ca.hc(h,l,b,c);f=new Ik;f.moveTo(a[0].x,a[0].y);f.lineTo(e.x,e.y);f.lineTo(d.x,d.y);f.lineTo(a[1].x,a[1].y);f.close();this.ca.hc(f,l,b,c);return c};um.prototype.v=D("kemia.view.ArrowRenderer");var vm={arrow:{height:0.5,stroke:{width:2,color:"black"},fill:{color:"black"},font:{name:"Arial",stroke:{width:0.1,color:"grey"}},highlight:{radius:0.75,color:"grey"}}};function wm(a,b){Yl.call(this,a,xm,b)}z(wm,Yl);wm.prototype.Q=function(a,b){if(a.ka)a.ka.clear();else a.ka=new Nj;this.setTransform(b);a.Zk=this.ca.te();var c=a.a,d=this.j.l("plus").size,e=new J(c.x,c.y-d),f=new J(c.x,c.y+d),h=new J(c.x-d,c.y),i=new J(c.x+d,c.y);c=new Ik;d=new jl(this.j.l("plus").stroke.width,this.j.l("plus").stroke.color);e=Q(b,[e,f,h,i]);c.moveTo(e[0].x,e[0].y);c.lineTo(e[1].x,e[1].y);c.moveTo(e[2].x,e[2].y);c.lineTo(e[3].x,e[3].y);a.ka.add(this.ca.hc(c,d))};
wm.prototype.ma=function(a,b,c){b||(b=this.j.l("plus").highlight.color);c||(c=this.ca.te());b=new il(b,0.3);var d=this.j.l("plus").highlight.radius*this.transform.ia;a=Q(this.transform,[a.a])[0];this.ca.wf(a.x,a.y,d,d,l,b,c);return c};var xm={plus:{highlight:{color:"blue",radius:0.4},size:0.25,stroke:{width:2,color:"black"}}};function ym(a,b){Yl.call(this,a,zm,b);this.$e=1;this.da=new sm(a,this.j);this.pf=new um(a,this.j);this.kg=new wm(a,this.j)}z(ym,Yl);ym.prototype.Q=function(a){var b=a.td;if(!this.transform)if(b.length>0){var c=Am(this,b),d=this.j.l("margin");c.expand(d,d,d,d);this.setTransform(Zl(this,c))}else this.setTransform(new ej(25,0,0,-25,100,100));A(b,function(e){this.da.Q(e,this.transform)},this);A(a.Kb,function(e){this.kg.Q(e,this.transform)},this);A(a.Ja,function(e){this.pf.Q(e,this.transform)},this)};
function Am(a,b){var c=bb(B(b,function(d){return d.e}));c=B(c,function(d){return d.a});if(c.length>0)return Vd.apply(l,c)}ym.prototype.v=D("kemia.view.ReactionRenderer");ym.prototype.ie=function(a){this.$e=a;this.da.ie(a)};var zm={margin:4};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Bm(a,b){this.id=a.id;this.Rm=Ac(a);this.Z=a;var c=a.clientWidth,d=a.clientHeight;c=E?new Jl(c,d,void 0,void 0,void 0):G&&(!I("420")||fc)?new kl(c,d,void 0,void 0,void 0):new vl(c,d,void 0,void 0,void 0);c.i();this.ca=c;this.ca.Q(a);this.r=[];this.Nc={};this.be={};for(var e in Fh)this.be[e]=[];this.j=new ob(Cm);b&&this.j.Id(b);this.k=new ym(this.ca,this.j);this.Vi=this.Xi=n;this.Sd=new Rd(this);this.xj=new Vh(document);this.hm=[];Dm(this,"keydown",this.od);Dm(this,"keypress",this.mn);Dm(this,
"keyup",this.on);Dm(this,"mousedown",this.jl);Dm(this,"mousemove",this.kl);Dm(this,"mouseup",this.Ji);Dm(this,"paste",this.ml);Hd(this.xj,"shortcut",this.gl,undefined,this);if(this.Ek&&this.En()){e=this.Ek;c=this.f();c=Ac(c);var f=l;if(E){f=c.ba.createStyleSheet();oe(f,e)}else{d=Fc(c.ba,"head",void 0,void 0)[0];if(!d){f=Fc(c.ba,"body",void 0,void 0)[0];d=c.i("head");f.parentNode.insertBefore(d,f)}f=c.i("style");oe(f,e);c.appendChild(d,f)}}this.dispatchEvent(Em);for(var h in this.Nc)this.Nc[h].xf(this);
this.bg=Fm;this.Vi=this.Xi=n;this.selected=[];this.Pe=[]}var Gm;z(Bm,Td);function hi(a,b){a.selected.push(b)}s=Bm.prototype;s.clear=function(){Hm(this);this.dispatchEvent(Im)};function Hm(a){a.ca.clear();a.r=[new R];a.Pe=new Ul([],1,0.5);var b=new il(a.j.l("background").color);a.ca.ah(0,0,a.ca.md().width,a.ca.md().height,l,b)}s.ie=function(a){this.k.transform=undefined;this.k.ie(a)};
function S(a,b){Hm(a);a.r=[];A(b,function(d){var e;if(d instanceof R)e=d;if(d instanceof U){e=new R;e.nf(d)}this.r.push(e)},a);var c=bb(B(b,function(d){if(d instanceof U)return Xl([d]);if(d instanceof R)return Wl([d])}));if(c.length>0)a.Pe=new Ul(c,1,0.5);a.Q()}s.yc=function(a){P(this);S(this,a)};s.Q=function(){A(this.r,function(a){a instanceof R&&this.k.Q(a);a instanceof U&&this.k.da.Q(a)},this)};s.Ok=ca("r");
function P(a){a.nk=Hi(B(a.r,function(b){if(b instanceof R)return uj(b);else if(b instanceof U)return qj(b)}));a.dispatchEvent(Yj)}s.ce=function(a){for(var b=this.be[a],c=Xa(arguments,1),d=0;d<b.length;++d){var e=b[d];if((e.na(this)||Eh[a])&&e[Fh[a]].apply(e,c))return k}return n};function O(a){a.Xi=k;a.Vi=k;a.dispatchEvent(Jm)}
function gi(a,b,c){b=Mj(a,b,c);a=Ma(b,function(d){return d instanceof T},a);if(a.length>0)return a[0];a=Ma(b,function(d){return d instanceof W});if(a.length>0)return a[0];a=Ma(b,function(d){return d instanceof U});if(a.length>0)return a[0];a=Ma(b,function(d){return d instanceof Mh});if(a.length>0)return a[0];b=Ma(b,function(d){return d instanceof Qh});if(b.length>0)return b[0]}function Qj(a,b){return qi(a.k.transform?a.k.transform.pb():a.k.da.transform.pb(),[b])[0]}
function li(a){var b=a.currentTarget,c=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;c-=b.offsetLeft;for(a-=b.offsetTop;b=b.offsetParent;){c-=b.offsetLeft;a-=b.offsetTop}return new J(c,a)}function Mj(a,b,c){c!==undefined||(c=li(b));b=qi(a.k.transform?a.k.transform.pb():a.k.da.transform.pb(),[c])[0];return Bj(a.Pe,{x:b.x,y:b.y})}
s.gh=function(a,b){b!==undefined||(b=[]);return Ma(B(a,function(c){var d=Bj(this.Pe,{x:c.a.x,y:c.a.y},this);d=Ma(d,function(e){if(e instanceof T)return!C(b,e)});return d.length>0?[c,d[0]]:n},this),function(c){return c!=n},this)};s.kl=function(a){try{this.ce(12,a)}catch(b){this.v.info(b)}};s.Ji=function(a){this.ce(9,a)};s.jl=function(a){try{this.ce(8,a)}catch(b){this.v.info(b);this.v.info("reverting state");this.yc(B(eval("("+this.nk+")"),tj))}};s.Ji=function(a){this.ce(9,a)};
s.gl=function(a){this.ce(5,a)};s.ml=function(a){this.ce(25,a)};function Km(a,b,c){for(var d=a.be[7],e=0;e<d.length;++e){var f=d[e];if(f.na(a)&&f.Jb(b)&&(c||f.mi()))return f.queryCommandValue(b)}return c?l:n}function Gh(a){A(a.be[7],function(b){b.yd&&b.yd()})}s.queryCommandValue=function(a){var b=this.Xf();if(w(a))return Km(this,a,b);else{for(var c={},d=0;d<a.length;d++)c[a[d]]=Km(this,a[d],b);return c}};
s.execCommand=function(a){for(var b=arguments,c,d=this.be[6],e=0;e<d.length;++e){var f=d[e];if(f.na(this)&&f.Jb(a)){c=f.execCommand.apply(f,b);break}}return c};s.Rl=function(a){var b=a.rc();this.Nc[b]&&this.v.log(Cb,"Cannot register the same class of plugin twice ["+b+"]",void 0);this.Nc[b]=a;for(var c in Fh)a[Fh[c]]&&this.be[c].push(a);Dh(a,this);this.Xf()&&a.xf(this)};s.Xf=function(){return this.bg==Fm};var Fm=2;Bm.prototype.v=D("kemia.controller.ReactionEditor");var Hh="cvc_"+Qd++,Em="load_"+Qd++;
Qd++;var Yj="beforechange_"+Qd++,Jm="change_"+Qd++,Im="clear_"+Qd++;Bm.prototype.m=function(){if(this.bg==1||this.Xf())this.v.log(Db,"Disposing an editor that is in use.",void 0);this.Z&&this.execCommand(Jg.mm);for(var a in this.Nc){var b=this.Nc[a];b.mi()||b.Yg(this)}this.bg=0;this.Sd&&this.Sd.We();this.yn=l;if(this.Sd){this.Sd.$();this.Sd=l}for(;a=this.hm.pop();)a.$();if(Gm==this.id)Gm=l;for(var c in this.Nc){a=this.Nc[c];a.Ak&&a.$()}delete this.Nc;Bm.h.m.call(this)};
Bm.prototype.Xf=function(){return this.bg==Fm};function Dm(a,b,c,d,e){a.Sd.u(a.Z,b,c,d,e)}Bm.prototype.Hh=function(a,b){this.xj.Hh(a,b)};var Cm={background:{color:"#F0FFF0"},margin:{left:1,right:1,top:1,bottom:1}};function Lm(a,b){this.Gb=new Rd(this);this.xe=a;this.Ob=b;this.lg=[];Ae(this.Ob,function(c){c.qb&&this.lg.push(Mm(this,ve(c)))},this);this.Ob.wc(n);this.Gb.u(this.xe,Hh,this.fm).u(this.Ob,"action",this.$k);Nm(this,this.xe.queryCommandValue(this.lg))}z(Lm,Td);function Mm(a,b){return b}s=Lm.prototype;s.eb=ca("Gb");s.ab=function(){return this.Ob.ab()};s.Da=function(a){this.Ob.Da(a)};s.na=function(){return this.Ob.na()};s.vc=function(a){this.Ob.vc(a)};s.blur=function(){this.Ob.Xc(l)};
s.m=function(){Lm.h.m.call(this);if(this.Gb){this.Gb.$();delete this.Gb}if(this.Ob){this.Ob.$();delete this.Ob}delete this.xe;delete this.lg};s.fm=function(a){if(this.Ob.na()&&this.dispatchEvent("change")){var b;try{b=this.xe.queryCommandValue(a.Km||this.lg)}catch(c){b={}}Nm(this,b)}};function Nm(a,b){for(var c in b){var d=ye(a.Ob,c);if(d){var e=b[c];d.jf?d.jf(e):$e(d,!!e)}}}s.$k=function(a){var b;b=ve(a.target);var c=a.target.Ua(),d;if(a.target.Uf)d=a.target.Uf();this.xe.execCommand(b,c,d,a)};
s.v=D("kemia.controller.ToolbarController");var Om={Xj:["BC","AD"],Wj:["Before Christ","Anno Domini"],Zj:["J","F","M","A","M","J","J","A","S","O","N","D"],gk:["J","F","M","A","M","J","J","A","S","O","N","D"],Yj:["January","February","March","April","May","June","July","August","September","October","November","December"],fk:["January","February","March","April","May","June","July","August","September","October","November","December"],ck:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ik:["Jan","Feb","Mar","Apr","May",
"Jun","Jul","Aug","Sep","Oct","Nov","Dec"],lk:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kk:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],jk:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],um:["S","M","T","W","T","F","S"],hk:["S","M","T","W","T","F","S"],dk:["Q1","Q2","Q3","Q4"],$j:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Vj:["AM","PM"],gi:["EEEE, MMMM d, y","MMMM d, y","MMM d, y",
"M/d/yy"],hi:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],lm:{Md:"M/d",MMMMd:"MMMM d",MMMd:"MMM d"},pm:6,Bm:[5,6],qm:2};function Pm(){}function Qm(a){if(typeof a=="number"){var b=new Pm;b.Xh=a;var c;c=a;if(c==0)c="Etc/GMT";else{var d=["Etc/GMT",c<0?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;c!=0&&d.push(":",Fa(c,2));c=d.join("")}b.Kj=c;a=a;if(a==0)a="UTC";else{c=["UTC",a<0?"+":"-"];a=Math.abs(a);c.push(Math.floor(a/60)%100);a%=60;a!=0&&c.push(":",a);a=c.join("")}b.ai=[a,a];b.sg=[];return b}b=new Pm;b.Kj=a.id;b.Xh=-a.std_offset;b.ai=a.names;b.sg=a.transitions;return b}
function Rm(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.sg.length&&c>=a.sg[d];)d+=2;return d==0?0:a.sg[d-1]};function Sm(a){this.jg=[];typeof a=="number"?Tm(this,a):Um(this,a)}var Vm=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];function Um(a,b){for(;b;)for(var c=0;c<Vm.length;++c){var d=b.match(Vm[c]);if(d){d=d[0];b=b.substring(d.length);if(c==0)if(d=="''")d="'";else{d=d.substring(1,d.length-1);d=d.replace(/\'\'/,"'")}a.jg.push({text:d,type:c});break}}}
function Tm(a,b){var c;if(b<4)c=Om.gi[b];else if(b<8)c=Om.hi[b-4];else if(b<12)c=Om.gi[b-8]+" "+Om.hi[b-8];else{Tm(a,10);return}Um(a,c)}
function Wm(a,b,c,d,e,f){a=b.length;switch(b.charAt(0)){case "G":c=d.getFullYear()>0?1:0;return a>=4?Om.Wj[c]:Om.Xj[c];case "y":c=d.getFullYear();if(c<0)c=-c;return a==2?Fa(c%100,2):String(c);case "M":a:{c=d.getMonth();switch(a){case 5:a=Om.Zj[c];break a;case 4:a=Om.Yj[c];break a;case 3:a=Om.ck[c];break a;default:a=Fa(c+1,a)}}return a;case "k":return Fa(e.getHours()||24,a);case "S":return(e.getTime()%1E3/1E3).toFixed(Math.min(3,a)).substr(2)+(a>3?Fa(0,a-3):"");case "E":c=d.getDay();return a>=4?Om.lk[c]:
Om.ek[c];case "a":a=e.getHours();return Om.Vj[a>=12&&a<24?1:0];case "h":return Fa(e.getHours()%12||12,a);case "K":return Fa(e.getHours()%12,a);case "H":return Fa(e.getHours(),a);case "c":a:{c=d.getDay();switch(a){case 5:a=Om.hk[c];break a;case 4:a=Om.kk[c];break a;case 3:a=Om.jk[c];break a;default:a=Fa(c,1)}}return a;case "L":a:{c=d.getMonth();switch(a){case 5:a=Om.gk[c];break a;case 4:a=Om.fk[c];break a;case 3:a=Om.ik[c];break a;default:a=Fa(c+1,a)}}return a;case "Q":c=Math.floor(d.getMonth()/3);
return a<4?Om.dk[c]:Om.$j[c];case "d":return Fa(d.getDate(),a);case "m":return Fa(e.getMinutes(),a);case "s":return Fa(e.getSeconds(),a);case "v":a=f||Qm(c.getTimezoneOffset());return a.Kj;case "z":b=f||Qm(c.getTimezoneOffset());return a<4?b.ai[Rm(b,c)>0?2:0]:b.ai[Rm(b,c)>0?3:1];case "Z":b=f||Qm(c.getTimezoneOffset());if(a<4){a=-(b.Xh-Rm(b,c));c=[a<0?"-":"+"];a=Math.abs(a);c.push(Fa(Math.floor(a/60)%100,2),Fa(a%60,2));a=c.join("")}else{a=b.Xh-Rm(b,c);c=["GMT"];c.push(a<=0?"+":"-");a=Math.abs(a);c.push(Fa(Math.floor(a/
60)%100,2),":",Fa(a%60,2));a=c.join("")}return a;default:return""}};var Xm=3;Xm=3;function Ym(a){if(a.Vb)return 4;if(a.sa==ji)return 1;if(a.sa==2)return 2;if(a.sa==3)return Xm;g(Error("Invalid bond type ["+a+"]"))}function Zm(a){if(a.ea==11)return 1;if(a.ea==13)return 6;if(a.ea==12)return 4;return 0}
function $m(a,b,c,d){switch(a){case 1:switch(b){case 0:return new W(c,d);case 1:return new W(c,d,ji,11);case 4:return new W(c,d,ji,12);case 6:return new W(c,d,ji,13);default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}case 2:return new W(c,d,2);case Xm:return new W(c,d,3);case 4:a=new W(c,d);a.Vb=k;return a;case 5:g(Error("type not implemented ["+a+"]"));case 6:g(Error("type not implemented ["+a+"]"));case 7:g(Error("type not implemented ["+a+"]"));case 8:g(Error("type not implemented ["+
a+"]"));default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}}
function an(a){a=a.split(a.indexOf("\r\n")>0?"\r\n":"\n");var b=new U(a[0]),c=xa(a[1].slice(46,52));b.id=c;var d=parseInt(a[3].substr(0,3),10),e=parseInt(a[3].substr(3,3),10);for(c=1;c<=d;c++){var f=a[c+3],h=f.substr(30,4).replace(/(^\s*)|(\s*$)/g,""),i=parseFloat(f.substr(0,10)),j=parseFloat(f.substr(10,10));f=parseInt(f.substr(36,3),10);var m=0;if(f!=0)if(f==1)m=3;else if(f==2)m=2;else if(f==3)m=1;else if(f!=4)if(f==5)m=-1;else if(f==6)m=-2;else if(f==7)m=-3;f=new T(h,i,j,m);pi(b,f)}for(c=1;c<=
e;c++){f=a[c+3+d];f=$m(parseInt(f.substr(6,3),10),parseInt(f.substr(9,3),10),b.e[parseInt(f.substr(0,3),10)-1],b.e[parseInt(f.substr(3,3),10)-1]);mi(b,f)}c=4+d+e;d=a.length;for(e=n;;){f=a[c++];if(c==d||f.indexOf("M  END")>=0)break;if(f.indexOf("M  CHG")>=0){if(!e){m=0;for(e=X(b);m<e;m++)b.e[m].Za=0;e=k}h=parseInt(f.substr(6,3),10);for(i=0;i<h;i++){j=parseInt(f.substr(10+8*i,3),10);m=parseInt(f.substr(14+8*i,3),10);b.e[j-1].Za=m}}}return b}
function bn(a){var b="",c="",d="",e="";c=new Date;b=a.name+"\n";for(var f=new Sm("MMddyyHHmm"),h=[],i=0;i<f.jg.length;++i){var j=f.jg[i].text;1==f.jg[i].type?h.push(Wm(f,j,c,c,c,void 0)):h.push(j)}c=new Gg("  ","Kemia   ",h.join(""));c.append("2D 0   0.00000     0.00000");c.append((Ea(" ",6)+(a.id==l?"":String(a.id))).slice(-6));c.append("\n");b=b+c.toString()+"\n";c=(Ea(" ",3)+X(a)).slice(-3);f=(Ea(" ",3)+a.ob()).slice(-3);c=c+f+"  0  0  0  0            999 V2000\n";for(f=0;f<X(a);f++){var m=a.e[f];
h=(Ea(" ",10)+m.a.x.toFixed(4)).slice(-10);i=(Ea(" ",10)+m.a.y.toFixed(4)).slice(-10);j=(Ea(" ",10)+(0).toFixed(4)).slice(-10);m=(Ea(" ",3)+m.R).slice(-3);d+=h+i+j+m+"\n"}for(f=0;f<a.ob();f++){h=a.g[f];i=Xi(a,h.source)+1;i=(Ea(" ",3)+i).slice(-3);j=Xi(a,h.target)+1;j=(Ea(" ",3)+j).slice(-3);m=(Ea(" ",3)+Ym(h)).slice(-3);h=(Ea(" ",3)+Zm(h)).slice(-3);e+=i+j+m+h+"\n"}return b+c+d+e+"M  END\n"};var cn=RegExp(/\[[^[]+\]|Br|B|Cl|C|N|F|O|P]|S|c|n|o|s|-|=[0-9]|=[0-9]|=|#[0-9]|#[0-9][0-9]|#|\$|%[0-9][0-9]|[0-9]|\(|\)|./g),dn=RegExp(/^\[([0-9]*)([A-Z][a-z]?|c|n|o|se|s|as)(@|@@)?(H)?([0-9])?([+-][\d]?)?\]$/),en=["C","c","N","n","O","o","S","s","P","F","Br","Cl","I","B"],fn=["c","n","o","s","as","se"];
function gn(a,b,c){var d=a;if(a=="NONE")d=b.Vb&&c.Vb?":":"-";switch(d){case "-":return new W(b,c,ji);case "=":return new W(b,c,2);case "#":return new W(b,c,3);case ":":a=new W(b,c);a.Vb=k;return a;default:g(Error("invalid bond type ["+a+"]"))}}
function hn(a,b){for(var c=0,d=b.length;c<d;c++){var e=a.e[b[c]];if(e!=undefined){var f=b[++c];++c;var h=[],i=0,j=l;A(a.e,function(o){var p=Zi(a,e,o);if(p!=l&&p!=undefined){if(p.source!=e){p.source=e;p.target=o}i++;a:{o=gj(a);for(var q=0,t=o.length;q<t;q++)for(var v=0,y=o[q].g.length;v<y;v++)if(p==o[q].g[v]){o=k;break a}o=n}o||h.push(p)}});var m=h.length;if((i==3||i==4)&&m>0){j=0;if(i==3&&m>1||i==4&&m>2)j=1;j=h[j];j.ea=f=="@"?11:13}if(i==4&&m>1){j=1;if(m==4)j=3;else if(m==4)j=2;j=h[j];j.ea=f=="@"?
13:11}}}}
var jn={H:{number:1,name:"Hydrogen"},He:{number:2,name:"Helium"},Li:{number:3,name:"Lithium"},Be:{number:4,name:"Beryllium"},B:{number:5,name:"Boron"},C:{number:6,name:"Carbon"},c:{number:6,name:"Carbon"},N:{number:7,name:"Nitrogen"},n:{number:7,name:"Nitrogen"},O:{number:8,name:"Oxygen"},o:{number:8,name:"Oxygen"},F:{number:9,name:"Fluorine"},Ne:{number:10,name:"Neon"},Na:{number:11,name:"Sodium"},Mg:{number:12,name:"Magnesium"},Al:{number:13,name:"Aluminium"},Si:{number:14,name:"Silicon"},P:{number:15,
name:"Phosphorus"},S:{number:16,name:"Sulfur"},s:{number:16,name:"Sulfur"},Cl:{number:17,name:"Chlorine"},Ar:{number:18,name:"Argon"},K:{number:19,name:"Potassium"},Ca:{number:20,name:"Calcium"},Sc:{number:21,name:"Scandium"},Ti:{number:22,name:"Titanium"},V:{number:23,name:"Vanadium"},Cr:{number:24,name:"Chromium"},Mn:{number:25,name:"Manganese"},Fe:{number:26,name:"Iron"},Co:{number:27,name:"Cobalt"},Ni:{number:28,name:"Nickel"},Cu:{number:29,name:"Copper"},Zn:{number:30,name:"Zinc"},Ga:{number:31,
name:"Gallium"},Ge:{number:32,name:"Germanium"},As:{number:33,name:"Arsenic"},as:{number:33,name:"Arsenic"},Se:{number:34,name:"Selenium"},se:{number:34,name:"Selenium"},Br:{number:35,name:"Bromine"},Kr:{number:36,name:"Krypton"},Rb:{number:37,name:"Rubidium"},Sr:{number:38,name:"Strontium"},Y:{number:39,name:"Yttrium"},Zr:{number:40,name:"Zirconium"},Nb:{number:41,name:"Niobium"},Mo:{number:42,name:"Molybdenum"},Tc:{number:43,name:"Technetium"},Ru:{number:44,name:"Ruthenium"},Rh:{number:45,name:"Rhodium"},
Pd:{number:46,name:"Palladium"},Ag:{number:47,name:"Silver"},Cd:{number:48,name:"Cadmium"},In:{number:49,name:"Indium"},Sn:{number:50,name:"Tin"},Sb:{number:51,name:"Antimony"},Te:{number:52,name:"Tellurium"},I:{number:53,name:"Iodine"},Xe:{number:54,name:"Xenon"},Cs:{number:55,name:"Caesium"},Ba:{number:56,name:"Barium"},La:{number:57,name:"Lanthanum"},Ce:{number:58,name:"Cerium"},Pr:{number:59,name:"Praseodymium"},Nd:{number:60,name:"Neodymium"},Pm:{number:61,name:"Promethium"},Sm:{number:62,name:"Samarium"},
Eu:{number:63,name:"Europium"},Gd:{number:64,name:"Gadolinium"},Tb:{number:65,name:"Terbium"},Dy:{number:66,name:"Dysprosium"},Ho:{number:67,name:"Holmium"},Er:{number:68,name:"Erbium"},Tm:{number:69,name:"Thulium"},Yb:{number:70,name:"Ytterbium"},Lu:{number:71,name:"Lutetium"},Hf:{number:72,name:"Hafnium"},Ta:{number:73,name:"Tantalum"},W:{number:74,name:"Tungsten"},Re:{number:75,name:"Rhenium"},Os:{number:76,name:"Osmium"},Ir:{number:77,name:"Iridium"},Pt:{number:78,name:"Platinum"},Au:{number:79,
name:"Gold"},Hg:{number:80,name:"Mercury"},Tl:{number:81,name:"Thallium"},Pb:{number:82,name:"Lead"},Bi:{number:83,name:"Bismuth"},Po:{number:84,name:"Polonium"},At:{number:85,name:"Astatine"},Rn:{number:86,name:"Radon"},Fr:{number:87,name:"Francium"},Ra:{number:88,name:"Radium"},Ac:{number:89,name:"Actinium"},Th:{number:90,name:"Thorium"},Pa:{number:91,name:"Protactinium"},U:{number:92,name:"Uranium"},Np:{number:93,name:"Neptunium"},Pu:{number:94,name:"Plutonium"},Am:{number:95,name:"Americium"},
Cm:{number:96,name:"Curium"},Bk:{number:97,name:"Berkelium"},Cf:{number:98,name:"Californium"},Es:{number:99,name:"Einsteinium"},Fm:{number:100,name:"Fermium"},Md:{number:101,name:"Mendelevium"},No:{number:102,name:"Nobelium"},Lr:{number:103,name:"Lawrencium"},Rf:{number:104,name:"Rutherfordium"},Db:{number:105,name:"Dubnium"},Sg:{number:106,name:"Seaborgium"},Bh:{number:107,name:"Bohrium"},Hs:{number:108,name:"Hassium"},Mt:{number:109,name:"Meitnerium"},Ds:{number:110,name:"Darmstadtium"},Rg:{number:111,
name:"Roentgenium"},Cn:{number:112,name:"Copernicium"}};function $(a,b){if(arguments.length>0){this.x=a;this.y=b}}s=$.prototype;s.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};s.add=function(a){return new $(this.x+a.x,this.y+a.y)};s.df=function(a){return new $(this.x-a.x,this.y-a.y)};s.toString=function(){return this.x+","+this.y};s.scale=function(a){this.x*=a;this.y*=a};s.normalize=function(){var a=1/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=a;this.y*=a};s.sub=function(a){this.x-=a.x;this.y-=a.y};
s.hj=function(a){this.x=-a.x;this.y=-a.y};s.hj=function(){this.x=-this.x;this.y=-this.y};s.of=function(a){a=(this.x*a.x+this.y*a.y)/(this.length()*a.length());if(a<-1)a=-1;if(a>1)a=1;return Math.acos(a)};function kn(a){var b,c;b=X(a);for(var d=Array(b),e=0;e<b;++e){d[e]=Array(b);for(var f=0;f<b;f++)d[e][f]=0}e=a.ob();for(f=0;f<e;f++){c=a.g[f];b=Xi(a,c.source);c=Xi(a,c.target);d[b][c]=1;d[c][b]=1}e=d.length;b=Array(e);for(f=0;f<e;++f)b[f]=Array(e);for(f=0;f<e;f++)for(c=0;c<e;c++)b[f][c]=d[f][c]==0?999999:1;for(f=0;f<e;f++)b[f][f]=0;for(d=0;d<e;d++)for(f=0;f<e;f++)for(c=0;c<e;c++)if(b[f][d]+b[d][c]<b[f][c])b[f][c]=b[f][d]+b[d][c];d=0;e=-1;f=a.ob();c=b.length;for(var h=0;h<c;h++)if(ln(a.e[h],a,f)==1)for(var i=
0;i<c;i++)if(b[h][i]>d){d=b[h][i];e=h}return mn(a,a.e[e])}function mn(a,b){for(var c=0,d=0,e=0,f=0,h=[],i=X(a),j=a.ob(),m=0;m<i;m++){a.e[m].lb(1,n);h[m]=new U;pi(h[m],b)}m=[];m.push(b);b.ga[1]=k;nn(a,m,h,j);for(m=0;m<i;m++)if(X(h[m])>=d){f=h[m];for(var o=0,p=X(f),q=0;q<p;q++)o+=ln(f.e[q],a,j);f=o;if(f>e){e=f;c=m;d=X(h[m])}}return h[c]}function ln(a,b,c){for(var d=0,e=0;e<c;e++)if(b.g[e].source==a||b.g[e].target==a)d++;return d}
function nn(a,b,c,d){for(var e=[],f=b.length,h=0;h<f;h++){var i=b[h];if(!i.ga[2])for(var j=Xi(a,i),m=hj(a,i),o=0;o<m.length;o++){var p=m[o],q=V(p,i);if(!q.ga[1]&&!q.ga[0]){for(var t=Xi(a,q),v=c,y=t,H=c[j],K=new U,na=0,Y=X(H);na<Y;na++)pi(K,H.e[na]);v[y]=K;pi(c[t],q);mi(c[t],p);ln(q,a,d)>1&&e.push(q)}}}if(e.length>0){for(b=0;b<e.length;b++)e[b].lb(1,k);nn(a,e,c,d)}}
function on(a,b,c){var d=b;for(b=0;b<X(a)-1;b++){var e=a.e[b],f=a.e[b+1],h=new J(e.a.x,e.a.y);d.normalize();d.scale(c);h.x+=d.x;h.y+=d.y;f.a=h;f.lb(0,k);d=k;if(pn(a)==2)d=n;d=qn(f,e,rn(a),d)}}function pn(a){if(a==l)return 0;var b=n,c=n;A(a.e,function(d){if(d.a==l||d.a.x==0&&d.a.y==0)b=k;else c=k});return!b&&c?2:b&&c?1:0}function rn(a){for(var b=0,c=0,d=0,e=0,f=X(a);e<f;e++){var h=a.e[e];if(h.ga[0]==k){b+=h.a.x;c+=h.a.y;d++}}return new J(b/d,c/d)}
function sn(a){for(var b=0,c=0,d=0,e=0,f=a.length;e<f;e++){var h=a[e];if(h.ga[0]==k){b+=h.a.x;c+=h.a.y;d++}}return new J(b/d,c/d)}function tn(a,b){var c=0;if(a>=0&&b>=0)c=Math.atan(b/a);else if(a<0&&b>=0)c=Math.PI+Math.atan(b/a);else if(a<0&&b<0)c=Math.PI+Math.atan(b/a);else if(a>=0&&b<0)c=2*Math.PI+Math.atan(b/a);return c}
function qn(a,b,c,d){b=tn(b.a.x-a.a.x,b.a.y-a.a.y);var e=Math.PI*(120/180);d||(e=Math.PI*(60/180));b+=e;d=new $(Math.cos(b),Math.sin(b));var f=xc(new J(a.a.x+d.x,a.a.y+d.y),c);b+=e;b=new $(Math.cos(b),Math.sin(b));return xc(new J(a.a.x+b.x,a.a.y+b.y),c)>f?b:d}function un(a,b){for(var c=0;c<b;c++)if(!a.e[c].ga[0])return n;return k}
function vn(a,b,c,d,e){var f=0,h=0,i=0;i=0;var j=new $(c.x,c.y);f=new $(a.a.x,a.a.y);var m=new $(c.x,c.y);m.sub(f);c=[];var o=X(b);h=X(d);if(o==1){for(f=0;f<h;f++)c.push(d.e[f]);i=Math.PI*2/(h+o);d=b.e[0];h=tn(d.a.x-a.a.x,d.a.y-a.a.y);wn(c,new J(a.a.x,a.a.y),h,i,e)}else if(o==0){for(f=0;f<h;f++)c.push(d.e[f]);i=Math.PI*2/h;wn(c,new J(a.a.x,a.a.y),0,i,e)}else{i=[];j.sub(f);f=j;f.normalize();f.scale(e);f.hj();j=new J(a.a.x,a.a.y);j.x+=f.x;j.y+=f.y;for(f=0;f<o;f++)i.push(b.e[f]);do{b=n;f=0;for(o=i.length;f<
o-1;f++){var p=i[f],q=i[f+1];if(xc(j,q.a)<xc(j,p.a)){i[f]=q;i[f+1]=p;b=k}}}while(b);f=new $(i[0].a.x,i[0].a.y);b=new $(i[1].a.x,i[1].a.y);f.sub(new $(a.a.x,a.a.y));b.sub(new $(a.a.x,a.a.y));f=f.of(m);f+=b.of(m);b=tn(i[0].a.x-a.a.x,i[0].a.y-a.a.y);j=tn(j.x-a.a.x,j.y-a.a.y);m=l;m=b>j?b-j<Math.PI?i[1]:i[0]:j-b<Math.PI?i[0]:i[1];i=2*Math.PI-f;i=i/(h+1);for(j=0;j<h;j++)c.push(d.e[j]);h=tn(m.a.x-a.a.x,m.a.y-a.a.y);wn(c,new J(a.a.x,a.a.y),h,i,e)}}
function wn(a,b,c,d,e){var f=[];c=c;for(var h=0,i=a.length;h<i;h++){c+=d;if(c>=2*Math.PI)c-=2*Math.PI;var j=a[h];if(j.R=="H")e*=0.6;f.push(new J(Math.cos(c)*e+b.x,Math.sin(c)*e+b.y))}h=0;for(i=a.length;h<i;h++){j=a[h];j.a=f[h];j.ga[0]=k}}function xn(a,b,c,d){var e=0;A(b.g.J(),function(f){e++;f=V(f,b);f.ga[0]?pi(d,f):pi(c,f)});return e}function yn(a){A(a,function(b){b.lb(0,n)})}function zn(a){A(a,function(b){b.lb(0,k)})};function An(a,b,c){a=Math.sqrt(Math.pow(c/(2*Math.sin(Math.PI/a.e.length)),2)-Math.pow(c/2,2));b=tn(b.x,b.y);b+=Math.PI/2;return new $(Math.cos(b)*a,Math.sin(b)*a)}
function Bn(a,b,c,d,e){var f=b.e.length;if(f>2){f=e/(2*Math.sin(Math.PI/a.e.length));d.normalize();d.scale(f);c=new J(c.x+d.x,c.y+d.y);var h=Cn(b);e=h[0];h=h[1];var i=new $(e.a.x,e.a.y),j=new $(h.a.x,h.a.y);i.sub(d);j.sub(d);i=i.of(j);i=(2*Math.PI-i)/(a.e.length-b.e.length+1);var m;a:{if(yc(e.a,h.a).x==0){if(e.a.y>h.a.y){m=e;break a}}else if(e.a.x>h.a.x){m=e;break a}m=h}j=M(Tg(m.a.x,m.a.y,d.x,d.y));a=Dn(m,b.g[0],a.g);b=1;h=yc(e.a,h.a);if(h.x==0){if(d.x>e.a.x)b=-1}else if(d.y-e.a.y<(d.x-e.a.x)*h.y/
h.x)b=-1;i*=b;wn(a,c,j,i,f)}else if(f==2){f=e/(2*Math.sin(Math.PI/a.e.length));e=Math.sqrt(Math.pow(f,2)-Math.pow(e/2,2));d.normalize();d.scale(e);d=new J(c.x+d.x,c.y+d.y);h=b.e[0];i=b.e[1];c=new $(h.a.x,h.a.y);e=new $(i.a.x,i.a.y);j=new $(d.x,d.y);c.sub(j);e.sub(j);c=c.of(e);c=(2*Math.PI-c)/(a.e.length-1);j=d.x;m=d.y;var o=h.a.x-i.a.x,p=h.a.y-i.a.y;e=1;if(o==0){i=h.a.y>i.a.y?h:i;e=j<h.a.x?1:-1}else{i=h.a.x>i.a.x?h:i;e=m-h.a.y>(j-h.a.x)*p/o?1:-1}h=tn(i.a.x-d.x,i.a.y-d.y);i=i;b=b.g[0];j=[];m=0;for(o=
a.g.length-2;m<o;m++){a:{for(p=0;p<a.g.length;p++)if(a.g[p]!=b&&(a.g[p].source==i||a.g[p].target==i)){b=a.g[p];break a}b=l}i=V(b,i);j.push(i)}c*=e;wn(j,d,h,c,f)}else if(f==1){f=e/(2*Math.sin(Math.PI/a.e.length));d.normalize();d.scale(f);d=new J(c.x+d.x,c.y+d.y);c=2*Math.PI/a.e.length;h=b.e[0];e=tn(h.a.x-d.x,h.a.y-d.y);a=Dn(h,b.g[0],a.g);wn(a,d,e,c,f)}}
function En(a,b,c){var d=new U,e=0;A(b,function(f){A(f.e,function(h){var i=new U,j=new U,m=Ma(b,function(o){return C(o.e,h)});m=bb(B(m,function(o){return o.e}));m=Fn(m);e+=xn(a,h,i,j);yn(i.e);A(i.e,function(o){pi(d,o)});i.e.length>0&&vn(h,j,m,i,c)})});return d}function Dn(a,b,c){var d=Qa(c,function(e){return V(e,a)});b=Ma(c,function(e){return e!==d});if(b.length>0){c=V(d,a);return Ta(c,Dn(c,d,b))}else return[]}
function Cn(a){var b=[];A(a.e,function(c){A(c.g.J(),function(d){C(a.g,d)&&b.push(V(d,c))})});return b}function Gn(a,b){var c=[];A(b.e,function(d){C(a.e,d)&&c.push(d)});return c}function Hn(a,b){var c=[];A(b.g,function(d){C(a.g,d)&&c.push(d)});return c}function Fn(a){var b=Na(a,function(c,d){return L(c,d.a)},new J(0,0));return new J(b.x/a.length,b.y/a.length)}
function In(a,b,c,d){for(var e=Jn(b,a),f=0,h=e.length;f<h;f++){var i=e[f];if(!i.ga[0]){var j={e:Gn(b,i),g:Hn(b,i)},m=j.e.length;if(m==2&&c=="FUSED"||m==1&&c=="SPIRO"||m>2&&c=="BRIDGED"){m="";for(var o=0;o<j.e.length;o++)m+="\n         "+j.e[o].a+" "+j.e[o].ga[0];m=sn(j.e);o=sn(b.e);var p=new $(m.x,m.y);p=new $(p.x,p.y);p.sub(new $(o.x,o.y));Bn(i,j,m,p,d);i.lb(0,k);In(a,i,c,d)}}}}function Kn(a){A(a,function(b){b.Yi||A(b.e,function(c){c.lb(0,n)})})}
function Ln(a){return Qa(a,function(b){return Oa([b.source,b.target],function(c){return c.ga[2]&&!c.ga[0]&&V(b,c).ga[0]})})}
function Mn(a,b,c,d){Kn(c);c=Ma(b.e,function(p){return p.ga[0]});var e=Ln(b.g);if(e){var f=Qa([e.source,e.target],function(p){return p.ga[2]&&!p.ga[0]});e=V(e,f);d=Qa(d,function(p){return Qa(p,function(q){return C(q.e,f)})});var h=f.a.la(),i=e.a.la();Nn(a,d);yn(c);a=En(b,d,On);zn(c);c=Ta(a.e,bb(B(d,function(p){return p.e})));Ya(c);a=f.a;b=e.a;a=tn(h.x-i.x,h.y-i.y)-tn(a.x-b.x,a.y-b.y);var j=new $(i.x,i.y);j.sub(new $(b.x,b.y));A(c,function(p){p.a.x+=j.x;p.a.y+=j.y});var m=Math.cos(a),o=Math.sin(a);
A(c,function(p){p=p.a;var q=p.x-i.x,t=p.y-i.y;p.x=q*m-t*o+i.x;p.y=q*o+t*m+i.y});A(d,function(p){p.Yi=k})}};function Pn(a){for(var b=[],c=Array(a.length),d=0,e=a.length;d<e;d++)c[d]=n;d=0;for(e=a.length;d<e;d++)if(!c[d]){var f=[];f.push(a[d]);c[d]=k;for(var h=a[d].e.length,i=d+1;i<a.length;i++)if(!c[i]){var j=a[i].e.length,m=0;a:for(;m<f.length;m++){h=f[m].e.length;for(var o=0;o<h;o++)for(var p=0;p<j;p++)if(f[m].e[o]==a[i].e[p]){f.push(a[i]);c[i]=k;i=d;break a}}}b.push(f)}return b}
function Jn(a,b){for(var c=[],d=a.e.length,e=0,f=b.length;e<f;e++)if(a!=b[e]){var h=b[e].e.length,i=0;a:for(;i<d;i++)for(var j=0;j<h;j++)if(a.e[i]==b[e].e[j]){c.push(b[e]);break a}}return c}Pn=function(a){var b=[],c=a;A(a,function(d){if(!C(bb(b),d)){var e=Qa(b,function(h){return C(h,d)});if(e==l){e=[d];c=Ma(c,function(h){return h!==d})}var f=Jn(d,c);e=Ta(e,f);c=Ma(c,function(h){C(f,h)});b.push(e)}});return b};
Jn=function(a,b){var c=[];A(b,function(d){Oa(d.e,function(e){return d===a?n:C(a.e,e)})&&c.push(d)});return c};function Qn(a){var b=[],c=Rn(a,b);if(c>0){c=0;do{var d=Math.round(Math.random()*b.length);if(d>=b.length)d=b.length-1;var e=b[d];if(e!=undefined){var f=e[0];e=e[1];d=new $(e.a.x-f.a.x,e.a.y-f.a.y);d.normalize();if(isNaN(d.x))d.x=0.01;if(isNaN(d.y))d.y=0.01;d.scale(-1*On/3);if(Math.random()>0.5){e.a.x+=d.x;e.a.y+=d.y}else{f.a.x-=d.x;f.a.y-=d.y}f=Rn(a,b);c++}else alert("problem kemia.layout.OverlapResolver.displace p is "+d+" and len "+b.length+" and "+e)}while(f>0&&!(c>25));c=f}return c}
function Rn(a,b){for(var c=0,d=On/5,e=X(a),f=0;f<e;f++)for(var h=a.e[f],i=h.a,j=f+1;j<e;j++){var m=a.e[j];if(xc(i,m.a)<d){c+=d;b.push([h,m])}}return c};var On=1.5;function Nn(a,b){var c=Sn(b);if(!c.ga[0]){var d={e:Tn(c.g[0],a),g:[c.g[0]]},e=Na(d.e,function(f,h){return L(f,h.a)},new J(0,0));Bn(c,d,new $(e.x/d.e.length,e.y/d.e.length),An(c,a,On),On);c.lb(0,k)}d=0;do{if(c.ga[0]){In(b,c,"FUSED",On);In(b,c,"BRIDGED",On);In(b,c,"SPIRO",On)}d++;if(d==b.length)d=0;c=b[d]}while(!Un(b))}function Tn(a,b){b.normalize();b.scale(On);a.source.a=new J(0,0);a.source.lb(0,k);a.target.a=new J(b.x,b.y);a.target.lb(0,k);return[a.source,a.target]}
function Un(a){for(var b=0;b<a.length;b++)if(!a[b].ga[0])return n;return k}function Vn(a,b,c,d){c=new U;b=hj(b,a);for(var e=0,f=b.length;e<f;e++){var h=V(b[e],a);if(d&&h.ga[0])pi(c,h);else!d&&!h.ga[0]&&pi(c,h)}return c}
function Wn(a,b,c){var d=0,e;do{d++;var f=n;a:{for(var h=0;h<b;h++){e=a.g[h];if(e.source.ga[0]&&!e.target.ga[0]){e=e.source;break a}if(!e.source.ga[0]&&e.target.ga[0]){e=e.target;break a}}e=l}var i=l,j=l;if(e!=l){i=Vn(e,a,b,n);j=Vn(e,a,b,k);h=mn(a,e);if(X(h)>1){if(X(j)>1){vn(e,j,rn(j),i,c);i=new $(h.e[1].a.x,h.e[1].a.y);j=new $(e.a.x,e.a.y);i.sub(j)}else i=qn(e,j.e[0],rn(a),k);e=1;for(j=X(h);e<j;e++)h.e[e].ga[0]=n;on(h,i,c)}else f=k}else f=k}while(!f&&d<=X(a))}
function Sn(a){for(var b=Array(a.length),c=0;c<b.length;c++)b[c]=0;var d=0,e=0;for(c=0;c<a.length;c++)for(var f=a[c],h=0;h<f.e.length;h++)for(var i=f[h],j=c+1;j<a.length;j++){var m=a[j];if(f!=m)for(var o=0;o<m.e.length;o++)if(i==m[o]){b[c]++;b[j]++;break}}for(c=0;c<b.length;c++)if(b[c]>d){d=b[c];e=c}return a[e]};function Xn(){}Xn.prototype.qi=l;function Yn(a){var b;if(!(b=a.qi)){b={};if(Zn(a)){b[0]=k;b[1]=k}b=a.qi=b}return b};function $n(){return ao(bo)}var bo;function co(){}z(co,Xn);function ao(a){return(a=Zn(a))?new ActiveXObject(a):new XMLHttpRequest}co.prototype.sh=l;
function Zn(a){if(!a.sh&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);return a.sh=d}catch(e){}}g(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.sh}bo=new co;function eo(){if(F){this.gd={};this.xg={};this.pg=[]}}eo.prototype.bb=D("goog.net.xhrMonitor");eo.prototype.Ea=F;eo.prototype.vc=function(a){this.Ea=F&&a};function fo(a,b){if(a.Ea){var c=w(b)?b:oa(b)?pa(b):"";a.bb.log(Hb,"Pushing context: "+b+" ("+c+")",void 0);a.pg.push(c)}}function go(a){if(a.Ea){var b=a.pg.pop();a.bb.log(Hb,"Popping context: "+b,void 0);ho(a,b)}}
function io(a,b){if(a.Ea){var c=pa(b);Jb(a.bb,"Opening XHR : "+c);for(var d=0;d<a.pg.length;d++){var e=a.pg[d];jo(a,a.gd,e,c);jo(a,a.xg,c,e)}}}function ho(a,b){var c=a.xg[b],d=a.gd[b];if(c&&d){a.bb.log(Hb,"Updating dependent contexts",void 0);A(c,function(e){A(d,function(f){jo(this,this.gd,e,f);jo(this,this.xg,f,e)},this)},a)}}function jo(a,b,c,d){b[c]||(b[c]=[]);C(b[c],d)||b[c].push(d)}var ko=new eo;var lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function mo(a){this.headers=new ob;this.yg=a||l}z(mo,Td);mo.prototype.bb=D("goog.net.XhrIo");var no=/^https?:?$/i,oo=[];function po(a,b,c,d,e,f){var h=new mo;oo.push(h);b&&Hd(h,"complete",b);Hd(h,"ready",va(qo,h));if(f)h.ef=Math.max(0,f);h.send(a,c,d,e)}function qo(a){a.$();Ra(oo,a)}s=mo.prototype;s.Oc=n;s.oa=l;s.wg=l;s.Oe="";s.bj="";s.Le=0;s.Me="";s.bh=n;s.Pf=n;s.th=n;s.qd=n;s.ef=0;s.Dd=l;
s.send=function(a,b,c,d){if(this.oa)g(Error("[goog.net.XhrIo] Object is active with another request"));b=b||"GET";this.Oe=a;this.Me="";this.Le=0;this.bj=b;this.bh=n;this.Oc=k;this.oa=this.yg?ao(this.yg):new $n;this.wg=this.yg?Yn(this.yg):Yn(bo);io(ko,this.oa);this.oa.onreadystatechange=ua(this.kj,this);try{Jb(this.bb,ro(this,"Opening Xhr"));this.th=k;this.oa.open(b,a,k);this.th=n}catch(e){Jb(this.bb,ro(this,"Error opening Xhr: "+e.message));so(this,5,e);return}a=c||"";var f=this.headers.la();d&&nb(d,
function(i,j){f.zb(j,i)});b=="POST"&&!qb(f.Va,"Content-Type")&&f.zb("Content-Type","application/x-www-form-urlencoded;charset=utf-8");nb(f,function(i,j){this.oa.setRequestHeader(j,i)},this);try{if(this.Dd){mf.clearTimeout(this.Dd);this.Dd=l}if(this.ef>0){Jb(this.bb,ro(this,"Will abort after "+this.ef+"ms if incomplete"));this.Dd=mf.setTimeout(ua(this.dm,this),this.ef)}Jb(this.bb,ro(this,"Sending request"));this.Pf=k;this.oa.send(a);this.Pf=n}catch(h){Jb(this.bb,ro(this,"Send error: "+h.message));
so(this,5,h)}};s.dispatchEvent=function(a){if(this.oa){fo(ko,this.oa);try{return mo.h.dispatchEvent.call(this,a)}finally{go(ko)}}else return mo.h.dispatchEvent.call(this,a)};s.dm=function(){if(typeof da!="undefined")if(this.oa){this.Me="Timed out after "+this.ef+"ms, aborting";this.Le=8;Jb(this.bb,ro(this,this.Me));this.dispatchEvent("timeout");this.abort(8)}};function so(a,b,c){a.Oc=n;if(a.oa){a.qd=k;a.oa.abort();a.qd=n}a.Me=c;a.Le=b;to(a);uo(a)}
function to(a){if(!a.bh){a.bh=k;a.dispatchEvent("complete");a.dispatchEvent("error")}}s.abort=function(a){if(this.oa&&this.Oc){Jb(this.bb,ro(this,"Aborting"));this.Oc=n;this.qd=k;this.oa.abort();this.qd=n;this.Le=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");uo(this)}};s.m=function(){if(this.oa){if(this.Oc){this.Oc=n;this.qd=k;this.oa.abort();this.qd=n}uo(this,k)}mo.h.m.call(this)};s.kj=function(){!this.th&&!this.Pf&&!this.qd?this.Hl():vo(this)};s.Hl=function(){vo(this)};
function vo(a){if(a.Oc)if(typeof da!="undefined")if(a.wg[1]&&wo(a)==4&&xo(a)==2)Jb(a.bb,ro(a,"Local request error detected and ignored"));else if(a.Pf&&wo(a)==4)mf.setTimeout(ua(a.kj,a),0);else{a.dispatchEvent("readystatechange");if(wo(a)==4){Jb(a.bb,ro(a,"Request complete"));a.Oc=n;var b;a:switch(xo(a)){case 0:b=(b=w(a.Oe)?a.Oe.match(lo)[1]||l:a.Oe.Vm())?no.test(b):self.location?no.test(self.location.protocol):k;b=!b;break a;case 200:case 204:case 304:b=k;break a;default:b=n}if(b){a.dispatchEvent("complete");
a.dispatchEvent("success")}else{a.Le=6;var c;try{c=wo(a)>2?a.oa.statusText:""}catch(d){Jb(a.bb,"Can not get status: "+d.message);c=""}a.Me=c+" ["+xo(a)+"]";to(a)}uo(a)}}}
function uo(a,b){if(a.oa){var c=a.oa,d=a.wg[0]?ga:l;a.oa=l;a.wg=l;if(a.Dd){mf.clearTimeout(a.Dd);a.Dd=l}if(!b){fo(ko,c);a.dispatchEvent("ready");go(ko)}if(ko.Ea){var e=pa(c);Jb(ko.bb,"Closing XHR : "+e);delete ko.xg[e];for(var f in ko.gd){Ra(ko.gd[f],e);ko.gd[f].length==0&&delete ko.gd[f]}}try{c.onreadystatechange=d}catch(h){a.bb.log(Cb,"Problem encountered resetting onreadystatechange: "+h.message,void 0)}}}s.aa=function(){return!!this.oa};function wo(a){return a.oa?a.oa.readyState:0}
function xo(a){try{return wo(a)>2?a.oa.status:-1}catch(b){a.bb.log(Db,"Can not get status: "+b.message,void 0);return-1}}function ro(a,b){return b+" ["+a.bj+" "+a.Oe+" "+xo(a)+"]"};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
var yo={};yo.l=function(a,b){po(a,function(c){c=c.target;c=c.oa?Gi(c.oa.responseText):void 0;b.apply(this,[c])})};u("goog.dom.getElement",function(a){return w(a)?document.getElementById(a):a},void 0);u("goog.dom.getAncestor",function(a,b,c,d){if(!c)a=a.parentNode;c=d==l;for(var e=0;a&&(c||e<=d);){if(b(a))return a;a=a.parentNode;e++}return l},void 0);u("goog.dom.getElementsByClass",Dc,void 0);u("goog.dom.getElementByClass",function(a,b){var c=b||document,d=l;return(d=Ec(c)?c.querySelector("."+a):Dc(a,b)[0])||l},void 0);u("goog.dom.getFirstElementChild",function(a){return Rc(a.firstChild,k)},void 0);
u("goog.dom.getNextElementSibling",function(a){return Rc(a.nextSibling,k)},void 0);u("goog.array.forEach",A,void 0);u("goog.dom.setTextContent",Tc,void 0);u("goog.ui.Prompt",Sf,void 0);u("goog.ui.Prompt.prototype.setDefaultValue",Sf.prototype.Xl,void 0);u("goog.ui.Prompt.prototype.setVisible",Sf.prototype.Da,void 0);u("goog.now",wa,void 0);u("goog.debug.Console",Tb,void 0);u("goog.debug.Console.prototype.setCapturing",Tb.prototype.Wl,void 0);
u("goog.debug.Logger.getLogger",function(a){return D(a)},void 0);u("goog.ui.Select",Cg,void 0);u("goog.ui.Select.prototype.addItem",Cg.prototype.Ec,void 0);u("goog.ui.Select.prototype.setSelectedIndex",Cg.prototype.af,void 0);u("goog.ui.Select.prototype.render",Cg.prototype.Q,void 0);u("goog.ui.Select.prototype.getValue",Cg.prototype.Ua,void 0);u("goog.ui.MenuItem",kf,void 0);u("goog.ui.Component.EventType.ACTION","action",void 0);u("goog.events.EventType.LOAD","load",void 0);
u("goog.events.listen",Hd,void 0);u("goog.array.filter",Ma,void 0);u("kemia.io.json.readMolecule",pj,void 0);u("kemia.io.json.writeMolecule",function(a){return Ii(new Ji,qj(a))},void 0);u("kemia.io.json.readReaction",tj,void 0);u("kemia.io.json.writeReaction",function(a){return Ii(new Ji,uj(a))},void 0);u("kemia.io.json.reactionToJson",uj,void 0);u("kemia.io.mdl.readMolfile",an,void 0);
u("kemia.io.mdl.readRxnfile",function(a){var b=a.indexOf("\r\n")>0?"\r\n":"\n",c=a.split(b,5);if(c[0].indexOf("$RXN")<0)g("not a RXN file");var d=new R;d.rh=c[2]+b+c[3];var e=parseInt(c[4].substr(0,3),10);c=parseInt(c[4].substr(3,3),10);a=a.split("$MOL"+b);b=1;for(var f=e;b<=f;b++){var h=an(a[b]);d.nf(h)}b=1;for(f=c;b<=f;b++){h=an(a[b+e]);d.Ig(h)}return d},void 0);
u("kemia.io.mdl.writeRxnfile",function(a){var b="";b+="$RXN\n\n\n\n";b+=(Ea(" ",3)+a.Wc().length).slice(-3);b+=(Ea(" ",3)+a.Vc().length).slice(-3);b+="\n";A(a.Wc(),function(c){b+="$MOL\n";b+=bn(c)});A(a.Vc(),function(c){b+="$MOL\n";b+=bn(c)});return b},void 0);
u("kemia.io.smiles.SmilesParser.parse",function(a){for(var b=a.match(cn),c=new U(a),d=0,e,f="NONE",h=[],i=[],j=[],m="",o=[],p=0;p<b.length;p++){var q=b[p];if(q!=".")if(q=="(")h.push(e);else if(q==")")if(h.length)e=h.pop();else m=" Unbalanced parents";else if(q=="-")f="-";else if(q=="=")f="=";else if(q=="#")f="#";else if(q=="$")f="$";else if(q==":")f=":";else if(q[0]=="%"){var t=parseInt(q[1]+q[2],10),v=i[t];if(v){mi(c,gn(f,e,v));f="NONE";i[t]=l}else i[t]=e}else if(q!="/")if(q!="\\")if(isNaN(t=parseInt(q,
10)))if(q.length>1&&(q.lastIndexOf("=",0)==0||q.lastIndexOf("#",0)==0||q.lastIndexOf("$",0)==0)&&!isNaN(t=parseInt(q.substr(1),10)))if(v=i[t]){mi(c,gn(j[t],e,v));f="NONE";i[t]=l;j[t]=l}else{i[t]=e;j[t]=q.substr(0,1)}else{t=q;v={Yf:l,symbol:l,ea:"NONE",nl:l,Za:l,Vb:n,ti:n};var y=dn.exec(t);if(y){v.Yf=y[1];if(jn[y[2]])v.R=y[2];if(y[3]=="@"||y[3]=="@@"){v.ea=y[3];if(y[4]=="H")v.ti=k}else v.ea="NONE";if(y[4]=="H")v.nl=y[5]?y[5]:1;v.Za=y[6]=="+"?1:y[6]=="-"?-1:parseInt(y[6],10)}else if(C(en,t))v.R=t;if(C(fn,
v.R)){v.Vb=k;v.R=v.R.length==1?v.R.toUpperCase():v.R[0].toUpperCase()+v.R[1]}t=v;if(t.R){d+=1;q=new T(t.R,0,0,t.Za,t.Vb,t.Yf);if(e){mi(c,gn(f,e,q));f="NONE"}pi(c,q);if(t.ea!="NONE"){o.push(Xi(c,q));o.push(t.ea);o.push(t.ti)}e=q}else m=" unknown atom "+q}else if(v=i[t]){mi(c,gn(f,e,v));f="NONE";i[t]=l}else i[t]=e;if(m)g(Error(a+m))}hn(c,o);if(h.length)g(Error("unbalanced parens"));for(a=0;a<i.length;++a)if(i[a])g(Error("unclosed rings"));if(f!="NONE")g(Error("unpaired bond "+f));return c},void 0);
u("kemia.io.xhr",yo,void 0);u("kemia.io.xhr.get",yo.l,void 0);
u("kemia.layout.CoordinateGenerator.generate",function(a){for(var b=0,c=new $(0,1),d=X(a),e=0;e<d;e++){var f=a.e[e];f.lb(0,n);f.lb(1,n);f.lb(2,n);f.lb(si.sm,n)}if(d==1){a.e[0].coords=new J(0,0);return a}if(a.Td>1)g(Error("Molecule not connected."));e=a.ob();b=e-X(a)+1;f=gj(a);var h=new Pn(f);if(b>0){A(f,function(i){A(i.e,function(j){j.lb(2,k)})});Za(h,function(i,j){return $a(i.length,j.length)});b=h[h.length-1];Nn(c,b);En(a,b,On);A(b,function(i){i.Yi=k})}else{b=kn(a);b.e[0].a=new J(0,0);b.e[0].ga[0]=
k;on(b,c,On)}b=0;do{b++;Wn(a,e,On);Mn(c,a,f,h)}while(!un(a,d)&&b<=X(a));Qn(a,f);return a},void 0);u("kemia.model.Reaction",R,void 0);u("kemia.model.Reaction.prototype.addReactant",R.prototype.nf,void 0);u("kemia.model.Reaction.prototype.addProduct",R.prototype.Ig,void 0);u("kemia.model.Reaction.prototype.getReactants",R.prototype.Wc,void 0);u("kemia.model.Reaction.prototype.getProducts",R.prototype.Vc,void 0);u("kemia.model.Reaction.prototype.setConditionsText",R.prototype.sj,void 0);
u("kemia.model.Reaction.prototype.setReagentsText",R.prototype.vj,void 0);u("kemia.model.Reaction.prototype.getPluses",R.prototype.Pk,void 0);u("kemia.model.Reaction.prototype.generatePluses",R.prototype.jh,void 0);u("kemia.controller.ReactionEditor",Bm,void 0);u("kemia.controller.ReactionEditor.prototype.setModels",Bm.prototype.yc,void 0);u("kemia.controller.ReactionEditor.prototype.getModels",Bm.prototype.Ok,void 0);u("kemia.controller.ReactionEditor.prototype.render",Bm.prototype.Q,void 0);
u("kemia.controller.ReactionEditor.prototype.registerPlugin",Bm.prototype.Rl,void 0);u("kemia.controller.ReactionEditor.EventType.CHANGE",Jm,void 0);u("kemia.controller.ToolbarController",Lm,void 0);u("kemia.controller.DefaultToolbar.makeDefaultMoleculeToolbar",jk,void 0);u("kemia.controller.plugins.ArrowPlusEdit",Rh,void 0);u("kemia.controller.DefaultToolbar.makeDefaultMoleculeToolbar",jk,void 0);
u("kemia.controller.DefaultToolbar.makeDefaultReactionToolbar",function(a){var b=fk([]);b=b;var c=zh("editPlus","Plus","","tr-icon tr-plus");c.qb=k;b.push(c);c=zh("editArrow","Arrow","","tr-icon tr-arrow");c.qb=k;b.push(c);b.push(new Ig);b=hk(b);b=ik(b);return kk(b,a)},void 0);u("kemia.controller.plugins.AtomEdit",di,void 0);u("kemia.controller.plugins.BondEdit",xi,void 0);u("kemia.controller.plugins.ClearEditor",Ai,void 0);u("kemia.controller.plugins.Erase",Bi,void 0);
u("kemia.controller.plugins.MoleculeEdit",vj,void 0);u("kemia.controller.plugins.Move",Cj,void 0);u("kemia.controller.plugins.UndoRedo",Rj,void 0);u("kemia.controller.plugins.Zoom",Zj,void 0);u("kemia.controller.plugins.View",bk,void 0);})();
