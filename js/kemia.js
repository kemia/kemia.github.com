function g(a){throw a;}var k=true,l=null,n=false;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function r(a){return function(){return this[a]}}function s(a){return function(){return a}}var u,ca=ca||{},da=this;function w(a,b,c){a=a.split(".");c=c||da;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}}
function ea(a,b){for(var c=a.split("."),d=b||da,e;e=c.shift();)if(d[e]!=l)d=d[e];else return l;return d}function fa(){}function ga(a){a.pa=function(){return a.Jk||(a.Jk=new a)}}
function ha(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function ia(a){return ha(a)=="array"}function ja(a){var b=ha(a);return b=="array"||b=="object"&&typeof a.length=="number"}function x(a){return typeof a=="string"}function ka(a){return typeof a=="number"}function la(a){return ha(a)=="function"}function ma(a){a=ha(a);return a=="object"||a=="array"||a=="function"}function oa(a){return a[pa]||(a[pa]=++qa)}
var pa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),qa=0;function ra(a){return a.call.apply(a.bind,arguments)}function sa(a,b){var c=b||da;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}
function ta(){ta=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ra:sa;return ta.apply(l,arguments)}function ua(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var va=Date.now||function(){return+new Date};function z(a,b){var c=b||{},d;for(d in c){var e=(""+c[d]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e)}return a}
function A(a,b){function c(){}c.prototype=b.prototype;a.h=b.prototype;a.prototype=new c;a.prototype.constructor=a};function wa(a){this.stack=Error().stack||"";if(a)this.message=String(a)}A(wa,Error);wa.prototype.name="CustomError";function xa(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}function ya(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}
function za(a,b){if(b)return a.replace(Aa,"&amp;").replace(Ba,"&lt;").replace(Ca,"&gt;").replace(Da,"&quot;");else{if(!Ea.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Aa,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Ba,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Ca,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Da,"&quot;");return a}}var Aa=/&/g,Ba=/</g,Ca=/>/g,Da=/\"/g,Ea=/[&<>\"]/;
function Fa(a,b){for(var c=0,d=ya(String(a)).split("."),e=ya(String(b)).split("."),f=Math.max(d.length,e.length),h=0;c==0&&h<f;h++){var i=d[h]||"",j=e[h]||"",m=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(i)||["","",""],q=o.exec(j)||["","",""];if(p[0].length==0&&q[0].length==0)break;c=Ga(p[1].length==0?0:parseInt(p[1],10),q[1].length==0?0:parseInt(q[1],10))||Ga(p[2].length==0,q[2].length==0)||Ga(p[2],q[2])}while(c==0)}return c}
function Ga(a,b){if(a<b)return-1;else if(a>b)return 1;return 0}var Ha=Math.random()*2147483648|0;function Ia(a,b){b.unshift(a);wa.call(this,xa.apply(l,b));b.shift();this.Im=a}A(Ia,wa);Ia.prototype.name="AssertionError";function Ja(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}g(new Ia(""+d,e||[]))}return a}function Ka(a){g(new Ia("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var La=Array.prototype,Ma=La.indexOf?function(a,b,c){Ja(a.length!=l);return La.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(x(a)){if(!x(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},B=La.forEach?function(a,b,c){Ja(a.length!=l);La.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Na=La.filter?function(a,b,c){Ja(a.length!=l);return La.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=x(a)?a.split(""):a,i=0;i<d;i++)if(i in h){var j=h[i];if(b.call(c,j,i,a))e[f++]=j}return e},C=La.map?function(a,b,c){Ja(a.length!=l);return La.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(""):a,h=0;h<d;h++)if(h in f)e[h]=b.call(c,f[h],h,a);return e};function Oa(a,b,c,d){if(a.reduce)return d?a.reduce(ta(b,d),c):a.reduce(b,c);var e=c;B(a,function(f,h){e=b.call(d,e,f,h,a)});return e}
var Pa=La.some?function(a,b,c){Ja(a.length!=l);return La.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return k;return n},Qa=La.every?function(a,b,c){Ja(a.length!=l);return La.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return n;return k};
function Ra(a,b,c){a:{for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a)){b=f;break a}b=-1}return b<0?l:x(a)?a.charAt(b):a[b]}function D(a,b){return Ma(a,b)>=0}function Sa(a,b){var c=Ma(a,b),d;if(d=c>=0)Ta(a,c);return d}function Ta(a,b){Ja(a.length!=l);return La.splice.call(a,b,1).length==1}function Ua(){return La.concat.apply(La,arguments)}function Va(a){if(ia(a))return Ua(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Wa(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(ia(c)||(d=ja(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var e=a.length,f=c.length,h=0;h<f;h++)a[e+h]=c[h];else a.push(c)}}function Xa(a){Ja(a.length!=l);return La.splice.apply(a,Ya(arguments,1))}function Ya(a,b,c){Ja(a.length!=l);return arguments.length<=2?La.slice.call(a,b):La.slice.call(a,b,c)}
function Za(a,b){for(var c=b||a,d={},e=0,f=0;f<a.length;){var h=a[f++],i=ma(h)?oa(h):h;if(!Object.prototype.hasOwnProperty.call(d,i)){d[i]=k;c[e++]=h}}c.length=e}function $a(a,b){Ja(a.length!=l);La.sort.call(a,b||ab)}function ab(a,b){return a>b?1:a<b?-1:0}function bb(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function cb(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];ia(c)?a.push.apply(a,cb.apply(l,c)):a.push(c)}return a};function db(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function eb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function fb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function gb(a,b){var c;if(c=b in a)delete a[b];return c}function hb(a,b,c){if(b in a)g(Error('The object already contains the key "'+b+'"'));a[b]=c}function ib(a){var b={},c;for(c in a)b[a[c]]=c;return b}var jb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function kb(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<jb.length;e++){b=jb[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}}function lb(){var a=arguments.length;if(a==1&&ia(arguments[0]))return lb.apply(l,arguments[0]);if(a%2)g(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b}
function mb(){var a=arguments.length;if(a==1&&ia(arguments[0]))return mb.apply(l,arguments[0]);for(var b={},c=0;c<a;c++)b[arguments[c]]=k;return b};function nb(a){if(typeof a.L=="function")return a.L();if(x(a))return a.split("");if(ja(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return eb(a)}function ob(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ja(a)||x(a))B(a,b,c);else{var d;if(typeof a.$g=="function")d=a.$g();else if(typeof a.L!="function")if(ja(a)||x(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f);d=d}else d=fb(a);else d=void 0;e=nb(a);f=e.length;for(var h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};function pb(a){this.Ua={};this.ga=[];var b=arguments.length;if(b>1){if(b%2)g(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.Jb(arguments[c],arguments[c+1])}else a&&this.Hd(a)}u=pb.prototype;u.da=0;u.Ph=0;u.Af=r("da");u.L=function(){qb(this);for(var a=[],b=0;b<this.ga.length;b++)a.push(this.Ua[this.ga[b]]);return a};u.$g=function(){qb(this);return this.ga.concat()};u.clear=function(){this.Ua={};this.Ph=this.da=this.ga.length=0};
u.remove=function(a){if(rb(this.Ua,a)){delete this.Ua[a];this.da--;this.Ph++;this.ga.length>2*this.da&&qb(this);return k}return n};function qb(a){if(a.da!=a.ga.length){for(var b=0,c=0;b<a.ga.length;){var d=a.ga[b];if(rb(a.Ua,d))a.ga[c++]=d;b++}a.ga.length=c}if(a.da!=a.ga.length){var e={};for(c=b=0;b<a.ga.length;){d=a.ga[b];if(!rb(e,d)){a.ga[c++]=d;e[d]=1}b++}a.ga.length=c}}u.l=function(a,b){if(rb(this.Ua,a))return this.Ua[a];return b};
u.Jb=function(a,b){if(!rb(this.Ua,a)){this.da++;this.ga.push(a);this.Ph++}this.Ua[a]=b};u.Hd=function(a){var b;if(a instanceof pb){b=a.$g();a=a.L()}else{b=fb(a);a=eb(a)}for(var c=0;c<b.length;c++)this.Jb(b[c],a[c])};u.ja=function(){return new pb(this)};function rb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function sb(a){this.Ua=new pb;a&&this.Hd(a)}function tb(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+oa(a):b.substr(0,1)+a}u=sb.prototype;u.Af=function(){return this.Ua.Af()};u.add=function(a){this.Ua.Jb(tb(a),a)};u.Hd=function(a){a=nb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};u.We=function(a){a=nb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};u.remove=function(a){return this.Ua.remove(tb(a))};u.clear=function(){this.Ua.clear()};
u.contains=function(a){a=tb(a);return rb(this.Ua.Ua,a)};u.zi=function(a){var b=new sb;a=nb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};u.L=function(){return this.Ua.L()};u.ja=function(){return new sb(this)};function ub(a){return vb(a||arguments.callee.caller,[])}
function vb(a,b){var c=[];if(D(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push(wb(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=wb(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";c.push(f)}b.push(a);c.push(")\n");try{c.push(vb(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function wb(a){a=String(a);if(!xb[a]){var b=/function ([^\(]+)/.exec(a);xb[a]=b?b[1]:"[Anonymous]"}return xb[a]}var xb={};function yb(a,b,c,d,e){this.reset(a,b,c,d,e)}yb.prototype.jl=0;yb.prototype.Ug=l;yb.prototype.Tg=l;var zb=0;yb.prototype.reset=function(a,b,c,d,e){this.jl=typeof e=="number"?e:zb++;this.tj=d||va();this.rd=a;this.Pi=b;this.Pk=c;delete this.Ug;delete this.Tg};yb.prototype.ej=ba("rd");function Ab(a){this.Uk=a}Ab.prototype.za=l;Ab.prototype.rd=l;Ab.prototype.oa=l;Ab.prototype.be=l;function Bb(a,b){this.name=a;this.value=b}Bb.prototype.toString=r("name");var Cb=new Bb("SHOUT",1200),Db=new Bb("SEVERE",1E3),Eb=new Bb("WARNING",900),Fb=new Bb("INFO",800),Gb=new Bb("CONFIG",700),Hb=new Bb("FINE",500),Ib=new Bb("FINEST",300);u=Ab.prototype;u.ej=ba("rd");function Jb(a){if(a.rd)return a.rd;if(a.za)return Jb(a.za);Ka("Root logger has no level set.");return l}
u.log=function(a,b,c){if(a.value>=Jb(this).value){a=this.ek(a,b,c);da.console&&da.console.markTimeline&&da.console.markTimeline("log:"+a.Pi);for(b=this;b;){c=b;var d=a;if(c.be)for(var e=0,f=void 0;f=c.be[e];e++)f(d);b=b.za}}};
u.ek=function(a,b,c){var d=new yb(a,String(b),this.Uk);if(c){d.Ug=c;var e;var f=arguments.callee.caller;try{var h,i=ea("window.location.href");h=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:i,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.Dm||"Not available",fileName:c.fileName||c.filename||c.sourceURL||i,stack:c.stack||"Not available"}:c;e="Message: "+za(h.message)+'\nUrl: <a href="view-source:'+
h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+za(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+za(ub(f)+"-> ")}catch(j){e="Exception trying to expose exception! You win, we lose. "+j}d.Tg=e}return d};u.info=function(a,b){this.log(Fb,a,b)};u.j=function(a,b){this.log(Gb,a,b)};function Kb(a,b,c){a.log(Hb,b,c)}var Lb={},Mb=l;function Nb(){if(!Mb){Mb=new Ab("");Lb[""]=Mb;Mb.ej(Gb)}}
function E(a){Nb();var b;if(!(b=Lb[a])){b=new Ab(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=E(a.substr(0,c));if(!c.oa)c.oa={};c.oa[d]=b;b.za=c;b=Lb[a]=b}return b};function Ob(){this.aj=va()}var Pb=new Ob;Ob.prototype.Jb=ba("aj");Ob.prototype.reset=function(){this.Jb(va())};Ob.prototype.l=r("aj");function Qb(a){this.el=a||"";this.ql=Pb}u=Qb.prototype;u.hj=k;u.nl=k;u.ml=k;u.ij=n;u.ol=n;function Rb(a){if(a<10)return"0"+a;return String(a)}function Sb(a,b){var c=(a.tj-b)/1E3,d=c.toFixed(3),e=0;if(c<1)e=2;else for(;c<100;){e++;c*=10}for(;e-- >0;)d=" "+d;return d}function Tb(a){Qb.call(this,a)}A(Tb,Qb);function Ub(){this.Zi=ta(this.Jj,this);this.Yg=new Tb;this.Yg.hj=n;this.Ai=this.Yg.ij=n;this.Ok=""}Ub.prototype.kl=function(a){if(a!=this.Ai){var b;Nb();b=Mb;if(a){var c=this.Zi;if(!b.be)b.be=[];b.be.push(c)}else{(b=b.be)&&Sa(b,this.Zi);this.Em=""}this.Ai=a}};
Ub.prototype.Jj=function(a){var b;b=this.Yg;var c=[];c.push(b.el," ");if(b.hj){var d=new Date(a.tj);c.push("[",Rb(d.getFullYear()-2E3)+Rb(d.getMonth()+1)+Rb(d.getDate())+" "+Rb(d.getHours())+":"+Rb(d.getMinutes())+":"+Rb(d.getSeconds())+"."+Rb(Math.floor(d.getMilliseconds()/10)),"] ")}b.nl&&c.push("[",Sb(a,b.ql.l()),"s] ");b.ml&&c.push("[",a.Pk,"] ");b.ol&&c.push("[",a.rd.name,"] ");c.push(a.Pi,"\n");b.ij&&a.Ug&&c.push(a.Tg,"\n");b=c.join("");if(window.console&&window.console.firebug)switch(a.rd){case Cb:window.console.info(b);
break;case Db:window.console.error(b);break;case Eb:window.console.warn(b);break;default:window.console.debug(b)}else if(window.console)window.console.log(b);else if(window.opera)window.opera.postError(b);else this.Ok+=b};var Vb,Wb,Xb,Yb,Zb,$b,ac;function bc(){return da.navigator?da.navigator.userAgent:l}function cc(){return da.navigator}Zb=Yb=Xb=Wb=Vb=n;var dc;if(dc=bc()){var ec=cc();Vb=dc.indexOf("Opera")==0;Wb=!Vb&&dc.indexOf("MSIE")!=-1;Yb=(Xb=!Vb&&dc.indexOf("WebKit")!=-1)&&dc.indexOf("Mobile")!=-1;Zb=!Vb&&!Xb&&ec.product=="Gecko"}var fc=Vb,F=Wb,G=Zb,I=Xb,gc=Yb,hc,ic=cc();hc=ic&&ic.platform||"";$b=hc.indexOf("Mac")!=-1;ac=hc.indexOf("Win")!=-1;var jc=!!cc()&&(cc().appVersion||"").indexOf("X11")!=-1,kc;
a:{var lc="",mc;if(fc&&da.opera){var nc=da.opera.version;lc=typeof nc=="function"?nc():nc}else{if(G)mc=/rv\:([^\);]+)(\)|;)/;else if(F)mc=/MSIE\s+([^\);]+)(\)|;)/;else if(I)mc=/WebKit\/(\S+)/;if(mc){var oc=mc.exec(bc());lc=oc?oc[1]:""}}if(F){var pc,qc=da.document;pc=qc?qc.documentMode:undefined;if(pc>parseFloat(lc)){kc=String(pc);break a}}kc=lc}var rc={};function K(a){return rc[a]||(rc[a]=Fa(kc,a)>=0)};var sc,tc=!F||K("9"),uc=F&&!K("9");function vc(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function wc(a){var b=vc(a),c;c=Ya(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!D(b,c[e])){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c}function xc(a){var b=vc(a),c;c=Ya(arguments,1);for(var d=0,e=0;e<b.length;e++)if(D(c,b[e])){Xa(b,e--,1);d++}c=d==c.length;a.className=b.join(" ");return c};function L(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}L.prototype.ja=function(){return new L(this.x,this.y)};L.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function yc(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function zc(a,b){return new L(a.x-b.x,a.y-b.y)}function M(a,b){return new L(a.x+b.x,a.y+b.y)};function Ac(a,b){this.width=a;this.height=b}u=Ac.prototype;u.ja=function(){return new Ac(this.width,this.height)};u.toString=function(){return"("+this.width+" x "+this.height+")"};u.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};u.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};u.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
u.scale=function(a){this.width*=a;this.height*=a;return this};function Bc(a){return a?new Cc(Dc(a)):sc||(sc=new Cc)}function Ec(a,b){var c=b||document;if(Fc(c))return c.querySelectorAll("."+a);else if(c.getElementsByClassName)return c.getElementsByClassName(a);return Gc(document,"*",a,b)}function Fc(a){return a.querySelectorAll&&a.querySelector&&(!I||Hc(document)||K("528"))}
function Gc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(Fc(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)if(b==h.nodeName)d[e++]=h;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++){b=h.className;if(typeof b.split=="function"&&D(b.split(/\s+/),c))d[e++]=h}d.length=e;return d}else return a}
function Ic(a,b){db(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Jc)a.setAttribute(Jc[d],c);else a[d]=c})}var Jc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function Kc(a){var b=a.document;if(I&&!K("500")&&!gc){if(typeof a.innerHeight=="undefined")a=window;b=a.innerHeight;var c=a.document.documentElement.scrollHeight;if(a==a.top)if(c<b)b-=15;return new Ac(a.innerWidth,b)}a=Hc(b);if(fc&&!K("9.50"))a=n;a=a?b.documentElement:b.body;return new Ac(a.clientWidth,a.clientHeight)}function Lc(a){return a.parentWindow||a.defaultView}function Mc(){return Nc(document,arguments)}
function Nc(a,b){var c=b[0],d=b[1];if(!tc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',za(d.name),'"');if(d.type){c.push(' type="',za(d.type),'"');var e={};kb(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(x(d))c.className=d;else ia(d)?wc.apply(l,[c].concat(d)):Ic(c,d);b.length>2&&Oc(a,c,b,2);return c}
function Oc(a,b,c,d){function e(h){if(h)b.appendChild(x(h)?a.createTextNode(h):h)}for(d=d;d<c.length;d++){var f=c[d];ja(f)&&!(ma(f)&&f.nodeType>0)?B(Pc(f)?Va(f):f,e):e(f)}}function Hc(a){return a.compatMode=="CSS1Compat"}function Qc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Rc(a){return a&&a.parentNode?a.parentNode.removeChild(a):l}function Sc(a,b){for(;a&&a.nodeType!=1;)a=b?a.nextSibling:a.previousSibling;return a}
function Tc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Dc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Uc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{Qc(a);a.appendChild(Dc(a).createTextNode(b))}}var Vc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Wc={IMG:" ",BR:"\n"};function Xc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){a=a.tabIndex;return ka(a)&&a>=0}return n}
function Yc(a){if(uc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Zc(a,b,k);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");F||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function Zc(a,b,c){if(!(a.nodeName in Vc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Wc)b.push(Wc[a.nodeName]);else for(a=a.firstChild;a;){Zc(a,b,c);a=a.nextSibling}}
function Pc(a){if(a&&typeof a.length=="number")if(ma(a))return typeof a.item=="function"||typeof a.item=="string";else if(la(a))return typeof a.item=="function";return n}function Cc(a){this.ba=a||da.document||document}u=Cc.prototype;u.X=Bc;function $c(a){return a.ba}u.f=function(a){return x(a)?this.ba.getElementById(a):a};u.i=function(){return Nc(this.ba,arguments)};u.createElement=function(a){return this.ba.createElement(a)};u.createTextNode=function(a){return this.ba.createTextNode(a)};
u.hi=function(a,b,c){var d=this.ba,e=!!c;c=["<tr>"];for(var f=0;f<b;f++)c.push(e?"<td>&nbsp;</td>":"<td></td>");c.push("</tr>");c=c.join("");b=["<table>"];for(f=0;f<a;f++)b.push(c);b.push("</table>");a=d.createElement("DIV");a.innerHTML=b.join("");return a.removeChild(a.firstChild)};function ad(a){a=!I&&Hc(a.ba)?a.ba.documentElement:a.ba.body;return new L(a.scrollLeft,a.scrollTop)}u.appendChild=function(a,b){a.appendChild(b)};u.contains=Tc;var bd,cd=!F||K("9"),dd=F&&!K("8");function ed(){}ed.prototype.Ng=n;ed.prototype.aa=function(){if(!this.Ng){this.Ng=k;this.p()}};ed.prototype.p=aa();function fd(a,b){this.type=a;this.currentTarget=this.target=b}A(fd,ed);u=fd.prototype;u.p=function(){delete this.type;delete this.target;delete this.currentTarget};u.vd=n;u.Ye=k;u.stopPropagation=function(){this.vd=k};u.preventDefault=function(){this.Ye=n};function gd(a){a.preventDefault()};var hd=new Function("a","return a");function id(a,b){a&&this.Ke(a,b)}A(id,fd);var jd=[1,4,2];u=id.prototype;u.target=l;u.relatedTarget=l;u.offsetX=0;u.offsetY=0;u.clientX=0;u.clientY=0;u.screenX=0;u.screenY=0;u.button=0;u.keyCode=0;u.charCode=0;u.ctrlKey=n;u.altKey=n;u.shiftKey=n;u.metaKey=n;u.cl=n;u.qc=l;
u.Ke=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(G)try{hd(d.nodeName)}catch(e){d=l}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=
a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.cl=$b?a.metaKey:a.ctrlKey;this.state=a.state;this.qc=a;delete this.Ye;delete this.vd};function kd(a,b){return cd?a.qc.button==b:a.type=="click"?b==0:!!(a.qc.button&jd[b])}
u.stopPropagation=function(){id.h.stopPropagation.call(this);if(this.qc.stopPropagation)this.qc.stopPropagation();else this.qc.cancelBubble=k};u.preventDefault=function(){id.h.preventDefault.call(this);var a=this.qc;if(a.preventDefault)a.preventDefault();else{a.returnValue=n;if(dd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};u.p=function(){id.h.p.call(this);this.relatedTarget=this.currentTarget=this.target=this.qc=l};function ld(){}var md=0;u=ld.prototype;u.key=0;u.he=n;u.ci=n;u.Ke=function(a,b,c,d,e,f){if(la(a))this.Di=k;else if(a&&a.handleEvent&&la(a.handleEvent))this.Di=n;else g(Error("Invalid listener argument"));this.fe=a;this.Yi=b;this.src=c;this.type=d;this.capture=!!e;this.Jf=f;this.ci=n;this.key=++md;this.he=n};u.handleEvent=function(a){if(this.Di)return this.fe.call(this.Jf||this.src,a);return this.fe.handleEvent.call(this.fe,a)};function nd(a,b){this.Ki=b;this.hd=[];if(a>this.Ki)g(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.hd.push(this.Dc?this.Dc():{})}A(nd,ed);nd.prototype.Dc=l;nd.prototype.ki=l;function od(a){if(a.hd.length)return a.hd.pop();return a.Dc?a.Dc():{}}function pd(a,b){a.hd.length<a.Ki?a.hd.push(b):qd(a,b)}function qd(a,b){if(a.ki)a.ki(b);else if(ma(b))if(la(b.aa))b.aa();else for(var c in b)delete b[c]}
nd.prototype.p=function(){nd.h.p.call(this);for(var a=this.hd;a.length;)qd(this,a.pop());delete this.hd};var rd;var sd=(rd="ScriptEngine"in da&&da.ScriptEngine()=="JScript")?da.ScriptEngineMajorVersion()+"."+da.ScriptEngineMinorVersion()+"."+da.ScriptEngineBuildVersion():"0";var td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd;
(function(){function a(){return{da:0,jc:0}}function b(){return[]}function c(){function q(t){return h.call(q.src,q.key,t)}return q}function d(){return new ld}function e(){return new id}var f=rd&&!(Fa(sd,"5.7")>=0),h;yd=function(q){h=q};if(f){td=function(){return od(i)};ud=function(q){pd(i,q)};vd=function(){return od(j)};wd=function(q){pd(j,q)};xd=function(){return od(m)};zd=function(){pd(m,c())};Ad=function(){return od(o)};Bd=function(q){pd(o,q)};Cd=function(){return od(p)};Dd=function(q){pd(p,q)};
var i=new nd(0,600);i.Dc=a;var j=new nd(0,600);j.Dc=b;var m=new nd(0,600);m.Dc=c;var o=new nd(0,600);o.Dc=d;var p=new nd(0,600);p.Dc=e}else{td=a;ud=fa;vd=b;wd=fa;xd=c;zd=fa;Ad=d;Bd=fa;Cd=e;Dd=fa}})();var Ed={},Fd={},Gd={},Hd={};
function Id(a,b,c,d,e){if(b)if(ia(b)){for(var f=0;f<b.length;f++)Id(a,b[f],c,d,e);return l}else{d=!!d;var h=Fd;b in h||(h[b]=td());h=h[b];if(!(d in h)){h[d]=td();h.da++}h=h[d];var i=oa(a),j;h.jc++;if(h[i]){j=h[i];for(f=0;f<j.length;f++){h=j[f];if(h.fe==c&&h.Jf==e){if(h.he)break;return j[f].key}}}else{j=h[i]=vd();h.da++}f=xd();f.src=a;h=Ad();h.Ke(c,f,a,b,d,e);c=h.key;f.key=c;j.push(h);Ed[c]=h;Gd[i]||(Gd[i]=vd());Gd[i].push(h);if(a.addEventListener){if(a==da||!a.Jg)a.addEventListener(b,f,d)}else a.attachEvent(Jd(b),
f);return c}else g(Error("Invalid event type"))}function Kd(a,b,c,d,e){if(ia(b)){for(var f=0;f<b.length;f++)Kd(a,b[f],c,d,e);return l}d=!!d;a=Ld(a,b,d);if(!a)return n;for(f=0;f<a.length;f++)if(a[f].fe==c&&a[f].capture==d&&a[f].Jf==e)return Md(a[f].key);return n}
function Md(a){if(!Ed[a])return n;var b=Ed[a];if(b.he)return n;var c=b.src,d=b.type,e=b.Yi,f=b.capture;if(c.removeEventListener){if(c==da||!c.Jg)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Jd(d),e);c=oa(c);e=Fd[d][f][c];if(Gd[c]){var h=Gd[c];Sa(h,b);h.length==0&&delete Gd[c]}b.he=k;e.Qi=k;Nd(d,f,c,e);delete Ed[a];return k}
function Nd(a,b,c,d){if(!d.Xf)if(d.Qi){for(var e=0,f=0;e<d.length;e++)if(d[e].he){var h=d[e].Yi;h.src=l;zd(h);Bd(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Qi=n;if(f==0){wd(d);delete Fd[a][b][c];Fd[a][b].da--;if(Fd[a][b].da==0){ud(Fd[a][b]);delete Fd[a][b];Fd[a].da--}if(Fd[a].da==0){ud(Fd[a]);delete Fd[a]}}}}
function Od(a,b,c){var d=0,e=b==l,f=c==l;c=!!c;if(a==l)db(Gd,function(j){for(var m=j.length-1;m>=0;m--){var o=j[m];if((e||b==o.type)&&(f||c==o.capture)){Md(o.key);d++}}});else{a=oa(a);if(Gd[a]){a=Gd[a];for(var h=a.length-1;h>=0;h--){var i=a[h];if((e||b==i.type)&&(f||c==i.capture)){Md(i.key);d++}}}}return d}function Ld(a,b,c){var d=Fd;if(b in d){d=d[b];if(c in d){d=d[c];a=oa(a);if(d[a])return d[a]}}return l}function Jd(a){if(a in Hd)return Hd[a];return Hd[a]="on"+a}
function Pd(a,b,c,d,e){var f=1;b=oa(b);if(a[b]){a.jc--;a=a[b];if(a.Xf)a.Xf++;else a.Xf=1;try{for(var h=a.length,i=0;i<h;i++){var j=a[i];if(j&&!j.he)f&=Qd(j,e)!==n}}finally{a.Xf--;Nd(c,d,b,a)}}return Boolean(f)}function Qd(a,b){var c=a.handleEvent(b);a.ci&&Md(a.key);return c}
yd(function(a,b){if(!Ed[a])return k;var c=Ed[a],d=c.type,e=Fd;if(!(d in e))return k;e=e[d];var f,h;if(bd===undefined)bd=F&&!da.addEventListener;if(bd){f=b||ea("window.event");var i=k in e,j=n in e;if(i){if(f.keyCode<0||f.returnValue!=undefined)return k;a:{var m=n;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(o){m=k}if(m||f.returnValue==undefined)f.returnValue=k}}m=Cd();m.Ke(f,this);f=k;try{if(i){for(var p=vd(),q=m.currentTarget;q;q=q.parentNode)p.push(q);h=e[k];h.jc=h.da;for(var t=p.length-1;!m.vd&&
t>=0&&h.jc;t--){m.currentTarget=p[t];f&=Pd(h,p[t],d,k,m)}if(j){h=e[n];h.jc=h.da;for(t=0;!m.vd&&t<p.length&&h.jc;t++){m.currentTarget=p[t];f&=Pd(h,p[t],d,n,m)}}}else f=Qd(c,m)}finally{if(p){p.length=0;wd(p)}m.aa();Dd(m)}return f}d=new id(b,this);try{f=Qd(c,d)}finally{d.aa()}return f});var Rd=0;function Sd(a){this.Fb=a}A(Sd,ed);var Td=new nd(0,100);u=Sd.prototype;u.v=function(a,b,c,d,e){if(ia(b))for(var f=0;f<b.length;f++)this.v(a,b[f],c,d,e);else{a=Id(a,b,c||this,d||n,e||this.Fb||this);if(this.ga)this.ga[a]=k;else if(this.Yc){this.ga=od(Td);this.ga[this.Yc]=k;this.Yc=l;this.ga[a]=k}else this.Yc=a}return this};
u.mb=function(a,b,c,d,e){if(this.Yc||this.ga)if(ia(b))for(var f=0;f<b.length;f++)this.mb(a,b[f],c,d,e);else{a:{c=c||this;e=e||this.Fb||this;d=!!d;if(a=Ld(a,b,d))for(b=0;b<a.length;b++)if(a[b].fe==c&&a[b].capture==d&&a[b].Jf==e){a=a[b];break a}a=l}if(a){a=a.key;Md(a);if(this.ga)gb(this.ga,a);else if(this.Yc==a)this.Yc=l}}return this};u.We=function(){if(this.ga){for(var a in this.ga){Md(a);delete this.ga[a]}pd(Td,this.ga);this.ga=l}else this.Yc&&Md(this.Yc)};u.p=function(){Sd.h.p.call(this);this.We()};
u.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function Ud(){}A(Ud,ed);u=Ud.prototype;u.Jg=k;u.cg=l;u.Fh=ba("cg");u.addEventListener=function(a,b,c,d){Id(this,a,b,c,d)};u.removeEventListener=function(a,b,c,d){Kd(this,a,b,c,d)};
u.dispatchEvent=function(a){a=a;if(x(a))a=new fd(a,this);else if(a instanceof fd)a.target=a.target||this;else{var b=a;a=new fd(a.type,this);kb(a,b)}b=1;var c,d=a.type,e=Fd;if(d in e){e=e[d];d=k in e;var f;if(d){c=[];for(f=this;f;f=f.cg)c.push(f);f=e[k];f.jc=f.da;for(var h=c.length-1;!a.vd&&h>=0&&f.jc;h--){a.currentTarget=c[h];b&=Pd(f,c[h],a.type,k,a)&&a.Ye!=n}}if(n in e){f=e[n];f.jc=f.da;if(d)for(h=0;!a.vd&&h<c.length&&f.jc;h++){a.currentTarget=c[h];b&=Pd(f,c[h],a.type,n,a)&&a.Ye!=n}else for(c=this;!a.vd&&
c&&f.jc;c=c.cg){a.currentTarget=c;b&=Pd(f,c,a.type,n,a)&&a.Ye!=n}}a=Boolean(b)}else a=k;return a};u.p=function(){Ud.h.p.call(this);Od(this);this.cg=l};function Vd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}function Wd(){for(var a=new Vd(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),b=1;b<arguments.length;b++){var c=arguments[b];a.top=Math.min(a.top,c.y);a.right=Math.max(a.right,c.x);a.bottom=Math.max(a.bottom,c.y);a.left=Math.min(a.left,c.x)}return a}Vd.prototype.ja=function(){return new Vd(this.top,this.right,this.bottom,this.left)};
Vd.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};Vd.prototype.contains=function(a){a=!this||!a?n:a instanceof Vd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};
Vd.prototype.expand=function(a,b,c,d){if(ma(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=c;this.left-=d}return this};function Xd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}u=Xd.prototype;u.ja=function(){return new Xd(this.left,this.top,this.width,this.height)};function Yd(a){return new Xd(a.left,a.top,a.right-a.left,a.bottom-a.top)}u.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
u.zi=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a){this.left=b;this.top=d;this.width=c-b;this.height=a-d;return k}}return n};u.contains=function(a){return a instanceof Xd?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
u.kd=function(){return new Ac(this.width,this.height)};function Zd(a,b){var c=Dc(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,l))return c[b]||c.getPropertyValue(b);return""}function $d(a,b){return Zd(a,b)||(a.currentStyle?a.currentStyle[b]:l)||a.style[b]}function ae(a){return $d(a,"position")}function be(a,b,c){var d,e=G&&($b||jc)&&K("1.9");if(b instanceof L){d=b.x;b=b.y}else{d=b;b=c}a.style.left=ce(d,e);a.style.top=ce(b,e)}
function de(a){var b=a.getBoundingClientRect();if(F){a=a.ownerDocument;b.left-=a.documentElement.clientLeft+a.body.clientLeft;b.top-=a.documentElement.clientTop+a.body.clientTop}return b}
function ee(a){if(F)return a.offsetParent;var b=Dc(a),c=$d(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=$d(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return l}
function fe(a){var b=new Vd(0,Infinity,Infinity,0),c=Bc(a),d=c.ba.body,e=!I&&Hc(c.ba)?c.ba.documentElement:c.ba.body,f;for(a=a;a=ee(a);)if((!F||a.clientWidth!=0)&&(!I||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&$d(a,"overflow")!="visible"){var h=ge(a),i;i=a;if(G&&!K("1.9")){var j=parseFloat(Zd(i,"borderLeftWidth"));if(he(i)){var m=i.offsetWidth-i.clientWidth-j-parseFloat(Zd(i,"borderRightWidth"));j+=m}i=new L(j,parseFloat(Zd(i,"borderTopWidth")))}else i=
new L(i.clientLeft,i.clientTop);h.x+=i.x;h.y+=i.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x);f=f||a!=e}d=e.scrollLeft;e=e.scrollTop;if(I){b.left+=d;b.top+=e}else{b.left=Math.max(b.left,d);b.top=Math.max(b.top,e)}if(!f||I){b.right+=d;b.bottom+=e}c=Kc(Lc(c.ba)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,e+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?
b:l}
function ge(a){var b,c=Dc(a),d=$d(a,"position"),e=G&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),f=new L(0,0),h;b=c?c.nodeType==9?c:Dc(c):document;if(h=F){h=Bc(b);h=!Hc(h.ba)}h=h?b.body:b.documentElement;if(a==h)return f;if(a.getBoundingClientRect){b=de(a);a=ad(Bc(c));f.x=b.left+a.x;f.y=b.top+a.y}else if(c.getBoxObjectFor&&!e){b=c.getBoxObjectFor(a);a=c.getBoxObjectFor(h);f.x=b.screenX-a.screenX;f.y=b.screenY-a.screenY}else{e=a;
do{f.x+=e.offsetLeft;f.y+=e.offsetTop;if(e!=a){f.x+=e.clientLeft||0;f.y+=e.clientTop||0}if(I&&ae(e)=="fixed"){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(fc||I&&d=="absolute")f.y-=c.body.offsetTop;for(e=a;(e=ee(e))&&e!=c.body&&e!=h;){f.x-=e.scrollLeft;if(!fc||e.tagName!="TR")f.y-=e.scrollTop}}return f}
function ie(a,b,c){if(b instanceof Ac){c=b.height;b=b.width}else{if(c==undefined)g(Error("missing height argument"));c=c}a.style.width=ce(b,k);a.style.height=ce(c,k)}function ce(a,b){if(typeof a=="number")a=(b?Math.round(a):a)+"px";return a}
function je(a){var b=fc&&!K("10");if($d(a,"display")!="none")return b?new Ac(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new Ac(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new Ac(b,a)}
function ke(a){var b=ge(a);a=je(a);return new Xd(b.x,b.y,a.width,a.height)}var le={};function me(a){return le[a]||(le[a]=String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()}))}function ne(a,b){var c=a.style;if("opacity"in c)c.opacity=b;else if("MozOpacity"in c)c.MozOpacity=b;else if("filter"in c)c.filter=b===""?"":"alpha(opacity="+b*100+")"}function oe(a,b){a.style.display=b?"":"none"}function pe(a,b){if(F)a.cssText=b;else a[I?"innerText":"innerHTML"]=b}
function he(a){return"rtl"==$d(a,"direction")}var qe=G?"MozUserSelect":I?"WebkitUserSelect":l;function re(a,b,c){c=!c?a.getElementsByTagName("*"):l;if(qe){b=b?"none":"";a.style[qe]=b;if(c){a=0;for(var d;d=c[a];a++)d.style[qe]=b}}else if(F||fc){b=b?"on":"";a.setAttribute("unselectable",b);if(c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}};function se(){}ga(se);se.prototype.Vk=0;se.pa();function te(a){this.Cb=a||Bc();this.Ze=ue}A(te,Ud);te.prototype.Hk=se.pa();var ue=l;function ve(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}g(Error("Invalid component state"))}u=te.prototype;u.Gb=l;u.Z=n;u.q=l;u.Ze=l;u.th=l;u.za=l;u.oa=l;u.ec=l;u.vl=n;
function we(a){return a.Gb||(a.Gb=":"+(a.Hk.Vk++).toString(36))}function xe(a,b){if(a.za&&a.za.ec){gb(a.za.ec,a.Gb);hb(a.za.ec,b,a)}a.Gb=b}u.f=r("q");u.db=function(){return this.Yd||(this.Yd=new Sd(this))};function ye(a,b){if(a==b)g(Error("Unable to set parent component"));if(b&&a.za&&a.Gb&&ze(a.za,a.Gb)&&a.za!=b)g(Error("Unable to set parent component"));a.za=b;te.h.Fh.call(a,b)}u.Fh=function(a){if(this.za&&this.za!=a)g(Error("Method not supported"));te.h.Fh.call(this,a)};u.X=r("Cb");
u.i=function(){this.q=this.Cb.createElement("div")};u.R=function(a){Ae(this,a)};function Ae(a,b,c){if(a.Z)g(Error("Component already rendered"));a.q||a.i();b?b.insertBefore(a.q,c||l):a.Cb.ba.body.appendChild(a.q);if(!a.za||a.za.Z)a.ra()}u.ra=function(){this.Z=k;Be(this,function(a){!a.Z&&a.f()&&a.ra()})};u.wb=function(){Be(this,function(a){a.Z&&a.wb()});this.Yd&&this.Yd.We();this.Z=n};
u.p=function(){te.h.p.call(this);this.Z&&this.wb();if(this.Yd){this.Yd.aa();delete this.Yd}Be(this,function(a){a.aa()});!this.vl&&this.q&&Rc(this.q);this.za=this.th=this.q=this.ec=this.oa=l};u.ua=function(a,b){this.pe(a,Ce(this),b)};
u.pe=function(a,b,c){if(a.Z&&(c||!this.Z))g(Error("Component already rendered"));if(b<0||b>Ce(this))g(Error("Child component index out of bounds"));if(!this.ec||!this.oa){this.ec={};this.oa=[]}if(a.za==this){this.ec[we(a)]=a;Sa(this.oa,a)}else hb(this.ec,we(a),a);ye(a,this);Xa(this.oa,b,0,a);if(a.Z&&this.Z&&a.za==this){c=this.xa();c.insertBefore(a.f(),c.childNodes[b]||l)}else if(c){this.q||this.i();b=De(this,b+1);Ae(a,this.xa(),b?b.q:l)}else this.Z&&!a.Z&&a.q&&a.ra()};u.xa=r("q");
function Ee(a){if(a.Ze==l)a.Ze=he(a.Z?a.q:a.Cb.ba.body);return a.Ze}u.bd=function(a){if(this.Z)g(Error("Component already rendered"));this.Ze=a};function Ce(a){return a.oa?a.oa.length:0}function ze(a,b){var c;if(a.ec&&b){c=a.ec;c=b in c?c[b]:void 0;c=c||l}else c=l;return c}function De(a,b){return a.oa?a.oa[b]||l:l}function Be(a,b,c){a.oa&&B(a.oa,b,c)}function Fe(a,b){return a.oa&&b?Ma(a.oa,b):-1}
u.removeChild=function(a,b){if(a){var c=x(a)?a:we(a);a=ze(this,c);if(c&&a){gb(this.ec,c);Sa(this.oa,a);if(b){a.wb();a.q&&Rc(a.q)}ye(a,l)}}if(!a)g(Error("Child is not in parent component"));return a};function Ge(a,b,c,d,e){if(!F&&!(I&&K("525")))return k;if($b&&e)return He(a);if(e&&!d)return n;if(!c&&(b==17||b==18))return n;if(F&&d&&b==a)return n;switch(a){case 13:return k;case 27:return!I}return He(a)}
function He(a){if(a>=48&&a<=57)return k;if(a>=96&&a<=106)return k;if(a>=65&&a<=90)return k;if(I&&a==0)return k;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return k;default:return n}};function Ie(a,b){a&&Je(this,a,b)}A(Ie,Ud);u=Ie.prototype;u.q=l;u.Uf=l;u.ph=l;u.Vf=l;u.Zc=-1;u.Xc=-1;
var Ke={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Le={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Me={61:187,
59:186},Ne=F||I&&K("525");u=Ie.prototype;u.md=function(a){if(I&&(this.Zc==17&&!a.ctrlKey||this.Zc==18&&!a.altKey))this.Xc=this.Zc=-1;if(Ne&&!Ge(a.keyCode,this.Zc,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.Xc=G&&a.keyCode in Me?Me[a.keyCode]:a.keyCode};u.yk=function(){this.Xc=this.Zc=-1};
u.handleEvent=function(a){var b=a.qc,c,d;if(F&&a.type=="keypress"){c=this.Xc;d=c!=13&&c!=27?b.keyCode:0}else if(I&&a.type=="keypress"){c=this.Xc;d=b.charCode>=0&&b.charCode<63232&&He(c)?b.charCode:0}else if(fc){c=this.Xc;d=He(c)?b.keyCode:0}else{c=b.keyCode||this.Xc;d=b.charCode||0;if($b&&d==63&&!c)c=191}var e=c,f=b.keyIdentifier;if(c)if(c>=63232&&c in Ke)e=Ke[c];else{if(c==25&&a.shiftKey)e=9}else if(f&&f in Le)e=Le[f];a=e==this.Zc;this.Zc=e;b=new Oe(e,d,a,b);try{this.dispatchEvent(b)}finally{b.aa()}};
u.f=r("q");function Je(a,b,c){a.Vf&&a.detach();a.q=b;a.Uf=Id(a.q,"keypress",a,c);a.ph=Id(a.q,"keydown",a.md,c,a);a.Vf=Id(a.q,"keyup",a.yk,c,a)}u.detach=function(){if(this.Uf){Md(this.Uf);Md(this.ph);Md(this.Vf);this.Vf=this.ph=this.Uf=l}this.q=l;this.Xc=this.Zc=-1};u.p=function(){Ie.h.p.call(this);this.detach()};function Oe(a,b,c,d){d&&this.Ke(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}A(Oe,id);function Pe(a,b){a.setAttribute("role",b);a.Mm=b}function Qe(a,b,c){a.setAttribute("aria-"+b,c)};function Re(){}var Se;ga(Re);u=Re.prototype;u.hc=aa();u.i=function(a){return a.X().i("div",this.Fc(a).join(" "),a.Oa)};u.xa=function(a){return a};u.xe=function(a,b,c){if(a=a.f?a.f():a)if(F&&!K("7")){var d=Te(this,vc(a),b);d.push(b);ua(c?wc:xc,a).apply(l,d)}else c?wc(a,b):xc(a,b)};u.tc=function(a){Ee(a)&&this.bd(a.f(),k);a.la()&&this.vc(a,a.$a())};u.eg=function(a,b){re(a,!b,!F&&!fc)};u.bd=function(a,b){this.xe(a,this.t()+"-rtl",b)};u.Wc=function(a){var b;if(a.fb&32&&(b=a.Qa()))return Xc(b);return n};
u.vc=function(a,b){var c;if(a.fb&32&&(c=a.Qa())){if(!b&&a.Ka&32){try{c.blur()}catch(d){}a.Ka&32&&a.Vc(l)}if(Xc(c)!=b){c=c;if(b)c.tabIndex=0;else c.removeAttribute("tabIndex")}}};u.Aa=function(a,b){oe(a,b)};u.Lb=function(a,b,c){var d=a.f();if(d){var e=this.zf(b);e&&this.xe(a,e,c);this.hf(d,b,c)}};u.hf=function(a,b,c){Se||(Se=lb(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=Se[b])&&Qe(a,b,c)};
u.kc=function(a,b){var c=this.xa(a);if(c){Qc(c);if(b)if(x(b))Uc(c,b);else{var d=function(e){if(e){var f=Dc(c);c.appendChild(x(e)?f.createTextNode(e):e)}};if(ia(b))B(b,d);else ja(b)&&!("nodeType"in b)?B(Va(b),d):d(b)}}};u.Qa=function(a){return a.f()};u.t=s("goog-control");u.Fc=function(a){var b=this.t(),c=[b],d=this.t();d!=b&&c.push(d);b=a.Ka;for(d=[];b;){var e=b&-b;d.push(this.zf(e));b&=~e}c.push.apply(c,d);(a=a.rc)&&c.push.apply(c,a);F&&!K("7")&&c.push.apply(c,Te(this,c));return c};
function Te(a,b,c){var d=[];if(c)b=b.concat([c]);B([],function(e){if(Qa(e,ua(D,b))&&(!c||D(e,c)))d.push(e.join("_"))});return d}u.zf=function(a){if(!this.fi){var b=this.t();this.fi=lb(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")}return this.fi[a]};function Ue(a,b){if(!a)g(Error("Invalid class name "+a));if(!la(b))g(Error("Invalid decorator function "+b))}var Ve={};function We(a,b,c){te.call(this,c);if(!(b=b)){b=this.constructor;for(var d;b;){d=oa(b);if(d=Ve[d])break;b=b.h?b.h.constructor:l}b=d?la(d.pa)?d.pa():new d:l}this.J=b;this.gg(a)}A(We,te);u=We.prototype;u.Oa=l;u.Ka=0;u.fb=39;u.$h=255;u.Kh=0;u.nb=k;u.rc=l;u.fh=k;u.yg=n;function Xe(a,b){a.Z&&b!=a.fh&&Ye(a,b);a.fh=b}u.Qa=function(){return this.J.Qa(this)};u.Df=function(){return this.Zb||(this.Zb=new Ie)};u.vg=function(a){if(a){if(this.rc)D(this.rc,a)||this.rc.push(a);else this.rc=[a];this.J.xe(this,a,k)}};
u.xe=function(a,b){if(b)this.vg(a);else if(a&&this.rc){Sa(this.rc,a);if(this.rc.length==0)this.rc=l;this.J.xe(this,a,n)}};u.i=function(){var a=this.J.i(this);this.q=a;var b=this.J.hc();b&&Pe(a,b);this.yg||this.J.eg(a,n);this.$a()||this.J.Aa(a,n)};u.xa=function(){return this.J.xa(this.f())};u.ra=function(){We.h.ra.call(this);this.J.tc(this);if(this.fb&-2){this.fh&&Ye(this,k);if(this.fb&32){var a=this.Qa();if(a){var b=this.Df();Je(b,a);this.db().v(b,"key",this.sc).v(a,"focus",this.Ff).v(a,"blur",this.Vc)}}}};
function Ye(a,b){var c=a.db(),d=a.f();if(b){c.v(d,"mouseover",a.ae).v(d,"mousedown",a.ib).v(d,"mouseup",a.nd).v(d,"mouseout",a.$d);F&&c.v(d,"dblclick",a.qi)}else{c.mb(d,"mouseover",a.ae).mb(d,"mousedown",a.ib).mb(d,"mouseup",a.nd).mb(d,"mouseout",a.$d);F&&c.mb(d,"dblclick",a.qi)}}u.wb=function(){We.h.wb.call(this);this.Zb&&this.Zb.detach();this.$a()&&this.la()&&this.J.vc(this,n)};u.p=function(){We.h.p.call(this);if(this.Zb){this.Zb.aa();delete this.Zb}delete this.J;this.rc=this.Oa=l};
u.kc=function(a){this.J.kc(this.f(),a);this.gg(a)};u.gg=ba("Oa");function Ze(a,b){var c=a.Oa;if(!c||x(c))return c;return(c=ia(c)?C(c,b).join(""):Yc(c))&&ya(c)}u.ye=function(){return Ze(this,Yc)};u.bd=function(a){We.h.bd.call(this,a);var b=this.f();b&&this.J.bd(b,a)};u.eg=function(a){this.yg=a;var b=this.f();b&&this.J.eg(b,a)};u.$a=r("nb");u.Aa=function(a,b){if(b||this.nb!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.f();c&&this.J.Aa(c,a);this.la()&&this.J.vc(this,a);this.nb=a;return k}return n};
u.la=function(){return!(this.Ka&1)};u.uc=function(a){var b=this.za;if(!(b&&typeof b.la=="function"&&!b.la())&&$e(this,1,!a)){if(!a){this.setActive(n);this.wc(n)}this.$a()&&this.J.vc(this,a);this.Lb(1,!a)}};u.wc=function(a){$e(this,2,a)&&this.Lb(2,a)};u.qa=function(){return!!(this.Ka&4)};u.setActive=function(a){$e(this,4,a)&&this.Lb(4,a)};u.Ih=function(a){$e(this,8,a)&&this.Lb(8,a)};u.Pf=function(){return!!(this.Ka&16)};function af(a,b){$e(a,16,b)&&a.Lb(16,b)}
u.ta=function(a){$e(this,64,a)&&this.Lb(64,a)};u.Lb=function(a,b){if(this.fb&a&&b!=!!(this.Ka&a)){this.J.Lb(this,a,b);this.Ka=b?this.Ka|a:this.Ka&~a}};function bf(a,b,c){if(a.Z&&a.Ka&b&&!c)g(Error("Component already rendered"));!c&&a.Ka&b&&a.Lb(b,n);a.fb=c?a.fb|b:a.fb&~b}function cf(a,b){return!!(a.$h&b)&&!!(a.fb&b)}function $e(a,b,c){return!!(a.fb&b)&&!!(a.Ka&b)!=c&&(!(a.Kh&b)||a.dispatchEvent(ve(b,c)))&&!a.Ng}
u.ae=function(a){!df(a,this.f())&&this.dispatchEvent("enter")&&this.la()&&cf(this,2)&&this.wc(k)};u.$d=function(a){if(!df(a,this.f())&&this.dispatchEvent("leave")){cf(this,4)&&this.setActive(n);cf(this,2)&&this.wc(n)}};function df(a,b){return!!a.relatedTarget&&Tc(b,a.relatedTarget)}u.ib=function(a){if(this.la()){cf(this,2)&&this.wc(k);if(kd(a,0)){cf(this,4)&&this.setActive(k);this.J.Wc(this)&&this.Qa().focus()}}!this.yg&&kd(a,0)&&a.preventDefault()};
u.nd=function(a){if(this.la()){cf(this,2)&&this.wc(k);this.qa()&&this.Kc(a)&&cf(this,4)&&this.setActive(n)}};u.qi=function(a){this.la()&&this.Kc(a)};u.Kc=function(a){cf(this,16)&&af(this,!this.Pf());cf(this,8)&&this.Ih(k);cf(this,64)&&this.ta(!(this.Ka&64));var b=new fd("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,e=0;d=c[e];e++)b[d]=a[d];return this.dispatchEvent(b)};u.Ff=function(){cf(this,32)&&$e(this,32,k)&&this.Lb(32,k)};
u.Vc=function(){cf(this,4)&&this.setActive(n);cf(this,32)&&$e(this,32,n)&&this.Lb(32,n)};u.sc=function(a){if(this.$a()&&this.la()&&this.Zd(a)){a.preventDefault();a.stopPropagation();return k}return n};u.Zd=function(a){return a.keyCode==13&&this.Kc(a)};if(!la(We))g(Error("Invalid component class "+We));if(!la(Re))g(Error("Invalid renderer class "+Re));var ef=oa(We);Ve[ef]=Re;Ue("goog-control",function(){return new We(l)});function ff(){this.gi=[]}A(ff,Re);ga(ff);function gf(a,b){var c=a.gi[b];if(!c){switch(b){case 0:c=a.t()+"-highlight";break;case 1:c=a.t()+"-checkbox";break;case 2:c=a.t()+"-content"}a.gi[b]=c}return c}u=ff.prototype;u.hc=s("menuitem");u.i=function(a){var b=a.X().i("div",this.Fc(a).join(" "),hf(this,a.Oa,a.X()));jf(this,a,b,!!(a.fb&8)||!!(a.fb&16));return b};u.xa=function(a){return a&&a.firstChild};
u.kc=function(a,b){var c=this.xa(a),d=kf(this,a)?c.firstChild:l;ff.h.kc.call(this,a,b);if(d&&!kf(this,a))c.insertBefore(d,c.firstChild||l)};function hf(a,b,c){a=gf(a,2);return c.i("div",a,b)}u.Hh=function(a,b,c){if(b){Pe(b,c?"menuitemradio":this.hc());jf(this,a,b,c)}};function kf(a,b){var c=a.xa(b);if(c){c=c.firstChild;var d=gf(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return n}
function jf(a,b,c,d){if(d!=kf(a,c)){d?wc(c,"goog-option"):xc(c,"goog-option");c=a.xa(c);if(d){a=gf(a,1);c.insertBefore(b.X().i("div",a),c.firstChild||l)}else c.removeChild(c.firstChild)}}u.zf=function(a){switch(a){case 2:return gf(this,0);case 16:case 8:return"goog-option-selected";default:return ff.h.zf.call(this,a)}};u.t=s("goog-menuitem");function lf(a,b,c,d){We.call(this,a,d||ff.pa(),c);this.Ha(b)}A(lf,We);lf.prototype.Sa=function(){var a=this.th;return a!=l?a:this.ye()};lf.prototype.Ha=ba("th");lf.prototype.Hh=function(a){bf(this,8,a);this.Pf()&&!a&&af(this,n);var b=this.f();b&&this.J.Hh(this,b,a)};lf.prototype.ye=function(){return Ze(this,function(a){return D(vc(a),"goog-menuitem-accel")?"":Yc(a)})};Ue("goog-menuitem",function(){return new lf(l)});function mf(a,b){this.Of=a||1;this.ff=b||nf;this.Bg=ta(this.rl,this);this.rh=va()}A(mf,Ud);mf.prototype.enabled=n;var nf=da.window;u=mf.prototype;u.ac=l;u.rl=function(){if(this.enabled){var a=va()-this.rh;if(a>0&&a<this.Of*0.8)this.ac=this.ff.setTimeout(this.Bg,this.Of-a);else{this.dispatchEvent(of);if(this.enabled){this.ac=this.ff.setTimeout(this.Bg,this.Of);this.rh=va()}}}};u.start=function(){this.enabled=k;if(!this.ac){this.ac=this.ff.setTimeout(this.Bg,this.Of);this.rh=va()}};
u.stop=function(){this.enabled=n;if(this.ac){this.ff.clearTimeout(this.ac);this.ac=l}};u.p=function(){mf.h.p.call(this);this.stop();delete this.ff};var of="tick";function pf(a,b,c){if(la(a)){if(c)a=ta(a,c)}else if(a&&typeof a.handleEvent=="function")a=ta(a.handleEvent,a);else g(Error("Invalid listener argument"));return b>2147483647?-1:nf.setTimeout(a,b||0)};function qf(a){this.q=a;a=F?"focusout":"blur";this.Mk=Id(this.q,F?"focusin":"focus",this,!F);this.Nk=Id(this.q,a,this,!F)}A(qf,Ud);qf.prototype.handleEvent=function(a){var b=new id(a.qc);b.type=a.type=="focusin"||a.type=="focus"?"focusin":"focusout";try{this.dispatchEvent(b)}finally{b.aa()}};qf.prototype.p=function(){qf.h.p.call(this);Md(this.Mk);Md(this.Nk);delete this.q};function rf(a,b,c){this.target=a;this.handle=b||a;this.sh=c||new Xd(NaN,NaN,NaN,NaN);this.ba=Dc(a);this.pc=new Sd(this);Id(this.handle,"mousedown",this.yc,n,this)}A(rf,Ud);var sf=F||G&&K("1.9.3");u=rf.prototype;u.screenX=0;u.screenY=0;u.oj=0;u.pj=0;u.ub=0;u.vb=0;u.Da=k;u.Qc=n;u.xi=0;u.Sk=0;u.Ik=n;u.db=r("pc");u.uc=ba("Da");u.p=function(){rf.h.p.call(this);Kd(this.handle,"mousedown",this.yc,n,this);this.pc.aa();delete this.target;delete this.handle;delete this.pc};
u.yc=function(a){if(this.Da&&!this.Qc&&(a.type!="mousedown"||kd(a,0))){if(this.xi==0){tf(this,a);if(this.Qc)a.preventDefault();else return}else a.preventDefault();var b=this.ba,c=b.documentElement,d=!sf;this.pc.v(b,"mousemove",this.Tk,d);this.pc.v(b,"mouseup",this.wf,d);if(sf){c.setCapture(n);this.pc.v(c,"losecapture",this.wf)}else this.pc.v(b?Lc(b):window,"blur",this.wf);F&&this.Ik&&this.pc.v(b,"dragstart",gd);this.il&&this.pc.v(this.il,"scroll",this.Yk,d);this.screenX=this.oj=a.screenX;this.screenY=
this.pj=a.screenY;this.ub=this.target.offsetLeft;this.vb=this.target.offsetTop;this.Ue=ad(Bc(this.ba));this.Sk=va()}};function tf(a,b){if(a.dispatchEvent(new uf("start",a,b.clientX,b.clientY,b))!==n)a.Qc=k}u.wf=function(a,b){this.pc.We();sf&&this.ba.releaseCapture();if(this.Qc){this.Qc=n;this.dispatchEvent(new uf("end",this,a.clientX,a.clientY,a,vf(this,this.ub),wf(this,this.vb),b))}};
u.Tk=function(a){if(this.Da){var b=a.screenX-this.screenX,c=a.screenY-this.screenY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Qc){var d=this.oj-this.screenX,e=this.pj-this.screenY;if(d*d+e*e>this.xi){tf(this,a);if(!this.Qc){this.wf(a);return}}}c=xf(this,b,c);b=c.x;c=c.y;if(this.Qc)if(this.dispatchEvent(new uf("beforedrag",this,a.clientX,a.clientY,a,b,c))!==n){yf(this,a,b,c,n);a.preventDefault()}}};
function xf(a,b,c){var d=ad(Bc(a.ba));b+=d.x-a.Ue.x;c+=d.y-a.Ue.y;a.Ue=d;a.ub+=b;a.vb+=c;return new L(vf(a,a.ub),wf(a,a.vb))}u.Yk=function(a){var b=xf(this,0,0);a.clientX=this.Ue.x-this.screenX;a.clientY=this.Ue.x-this.screenY;yf(this,a,b.x,b.y,k)};function yf(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new uf("drag",a,b.clientX,b.clientY,b,c,d))}
function vf(a,b){var c=a.sh,d=!isNaN(c.left)?c.left:l;c=!isNaN(c.width)?c.width:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}function wf(a,b){var c=a.sh,d=!isNaN(c.top)?c.top:l;c=!isNaN(c.height)?c.height:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}function uf(a,b,c,d,e,f,h,i){fd.call(this,a);this.clientX=c;this.clientY=d;this.Rl=e;this.left=f!==undefined?f:b.ub;this.top=h!==undefined?h:b.vb;this.$l=b;this.Zl=!!i}A(uf,fd);function zf(a,b,c){te.call(this,c);this.Vb=a||"modal-dialog";this.Nh=!!b;this.Ub=Af()}A(zf,te);u=zf.prototype;u.yf=l;u.$j=k;u.vi=k;u.Nh=n;u.Yf=k;u.ni=k;u.Uj=0.5;u.vj="";u.Oa="";u.Ub=l;u.Qd=l;u.nb=n;u.Zj=n;u.Ma=l;u.Ia=l;u.kg=l;u.gf=l;u.uj=l;u.jg=l;u.re=l;u.lc=l;u.kc=function(a){this.Oa=a;if(this.re)this.re.innerHTML=a};u.xa=function(){this.f()||this.R();return this.re};
u.i=function(){if(this.Nh&&this.Yf&&!this.Ia){this.Ia=this.X().i("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});this.Ia.className=this.Vb+"-bg";oe(this.Ia,n);ne(this.Ia,0)}else if((!this.Nh||!this.Yf)&&this.Ia){Rc(this.Ia);this.Ia=l}if(this.Yf&&!this.Ma){this.Ma=this.X().i("div",this.Vb+"-bg");ne(this.Ma,this.Uj);oe(this.Ma,n)}else if(!this.Yf&&this.Ma){Rc(this.Ma);this.Ma=l}var a=this.X();this.q=a.i("div",{className:this.Vb,tabIndex:0},this.kg=a.i("div",{className:this.Vb+
"-title",id:we(this)},this.gf=a.i("span",this.Vb+"-title-text",this.vj),this.jg=a.i("span",this.Vb+"-title-close")),this.re=a.i("div",this.Vb+"-content"),this.lc=a.i("div",this.Vb+"-buttons"),this.qj=a.i("span",{tabIndex:0}));this.uj=this.kg.id;Pe(this.f(),"dialog");Qe(this.f(),"labelledby",this.uj||"");if(this.Oa)this.re.innerHTML=this.Oa;oe(this.jg,this.vi);oe(this.f(),n);if(this.Ub){a=this.Ub;a.q=this.lc;a.R()}};
u.R=function(a){if(this.Z)g(Error("Component already rendered"));this.f()||this.i();a=a||$c(this.X()).body;this.Ia&&a.appendChild(this.Ia);this.Ma&&a.appendChild(this.Ma);zf.h.R.call(this,a)};u.ra=function(){zf.h.ra.call(this);this.yf=new qf($c(this.X()));if(this.ni&&!this.Qd){var a=new rf(this.f(),this.kg);wc(this.kg,this.Vb+"-title-draggable");this.Qd=a}this.db().v(this.jg,"click",this.$k).v(this.yf,"focusin",this.Wk);Pe(this.f(),"dialog");this.gf.id!==""&&Qe(this.f(),"labelledby",this.gf.id)};
u.wb=function(){this.$a()&&this.Aa(n);this.yf.aa();this.yf=l;if(this.Qd){this.Qd.aa();this.Qd=l}zf.h.wb.call(this)};
u.Aa=function(a){if(a!=this.nb){var b=$c(this.X()),c=(b?Lc(b):window)||window;this.Z||this.R(b.body);if(a){Bf(this);this.wd();this.db().v(this.f(),"keydown",this.ag).v(this.f(),"keypress",this.ag).v(c,"resize",this.Xi)}else this.db().mb(this.f(),"keydown",this.ag).mb(this.f(),"keypress",this.ag).mb(c,"resize",this.Xi);this.Ia&&oe(this.Ia,a);this.Ma&&oe(this.Ma,a);oe(this.f(),a);a&&this.focus();if(this.nb=a)this.db().v(this.lc,"click",this.Ui);else{this.db().mb(this.lc,"click",this.Ui);this.dispatchEvent(Cf);
this.Zj&&this.aa()}}};u.$a=r("nb");u.focus=function(){try{this.f().focus()}catch(a){}if(this.Ub){var b=this.Ub.ve;if(b)for(var c=$c(this.X()),d=this.lc.getElementsByTagName("button"),e=0,f;f=d[e];e++)if(f.name==b){try{if(I||fc){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.f().appendChild(h);h.focus();this.f().removeChild(h)}f.focus()}catch(i){}break}}};
function Bf(a){a.Ia&&oe(a.Ia,n);a.Ma&&oe(a.Ma,n);var b=$c(a.X()),c=Kc((b?Lc(b):window)||window||window),d=Math.max(b.body.scrollWidth,c.width);b=Math.max(b.body.scrollHeight,c.height);if(a.Ia){oe(a.Ia,k);ie(a.Ia,d,b)}if(a.Ma){oe(a.Ma,k);ie(a.Ma,d,b)}if(a.ni){c=je(a.f());a.Qd.sh=new Xd(0,0,d-c.width,b-c.height)}}
u.wd=function(){var a=$c(this.X()),b=(a?Lc(a):window)||window;if(ae(this.f())=="fixed")var c=a=0;else{c=ad(this.X());a=c.x;c=c.y}var d=je(this.f());b=Kc(b||window);a=Math.max(a+b.width/2-d.width/2,0);c=Math.max(c+b.height/2-d.height/2,0);be(this.f(),a,c)};u.$k=function(){if(this.vi){var a=this.Ub,b=a&&a.Dg;if(b){a=a.l(b);this.dispatchEvent(new Df(b,a))&&this.Aa(n)}else this.Aa(n)}};
u.p=function(){zf.h.p.call(this);if(this.Ma){Rc(this.Ma);this.Ma=l}if(this.Ia){Rc(this.Ia);this.Ia=l}this.qj=this.lc=this.jg=l};u.Ui=function(a){a:{for(a=a.target;a!=l&&a!=this.lc;){if(a.tagName=="BUTTON"){a=a;break a}a=a.parentNode}a=l}if(a&&!a.disabled){a=a.name;var b=this.Ub.l(a);this.dispatchEvent(new Df(a,b))&&this.Aa(n)}};
u.ag=function(a){var b=n,c=n,d=this.Ub,e=a.target;if(a.type=="keydown")if(this.$j&&a.keyCode==27){var f=d&&d.Dg;e=e.tagName=="SELECT"&&!e.disabled;if(f&&!e){c=k;b=d.l(f);b=this.dispatchEvent(new Df(f,b))}else e||(b=k)}else{if(a.keyCode==9&&a.shiftKey&&e==this.f())c=k}else if(a.keyCode==13){if(e.tagName=="BUTTON")f=e.name;else if(d){var h=d.ve,i;if(i=h)a:{i=d.q.getElementsByTagName("BUTTON");for(var j=0,m;m=i[j];j++)if(m.name==h||m.id==h){i=m;break a}i=l}i=i;e=(e.tagName=="TEXTAREA"||e.tagName=="SELECT")&&
!e.disabled;if(i&&!i.disabled&&!e)f=h}if(f){c=k;b=this.dispatchEvent(new Df(f,String(d.l(f))))}}if(b||c){a.stopPropagation();a.preventDefault()}b&&this.Aa(n)};u.Xi=function(){Bf(this)};u.Wk=function(a){this.qj==a.target&&pf(this.ak,0,this)};u.ak=function(){F&&$c(this.X()).body.focus();this.f().focus()};function Df(a,b){this.type=Ef;this.key=a;this.caption=b}A(Df,fd);var Ef="dialogselect",Cf="afterhide";function Ff(a){this.Cb=a||Bc();pb.call(this)}A(Ff,pb);u=Ff.prototype;u.Vb="goog-buttonset";
u.ve=l;u.q=l;u.Dg=l;u.Jb=function(a,b,c,d){pb.prototype.Jb.call(this,a,b);if(c)this.ve=a;if(d)this.Dg=a;return this};function Gf(a,b,c,d){return a.Jb(b.key,b.caption,c,d)}u.R=function(){if(this.q){this.q.innerHTML="";var a=Bc(this.q);ob(this,function(b,c){var d=a.i("button",{name:c},b);if(c==this.ve)d.className=this.Vb+"-default";this.q.appendChild(d)},this)}};
var Hf=z("OK"),If=z("Cancel"),Jf=z("Yes"),Kf=z("No"),Lf=z("Save"),Mf=z("Continue"),Nf={key:"ok",caption:Hf},Of={key:"cancel",caption:If},Pf={key:"yes",caption:Jf},Qf={key:"no",caption:Kf},Rf={key:"save",caption:Lf},Sf={key:"continue",caption:Mf};function Af(){return Gf(Gf(new Ff,Nf,k),Of,n,k)}Gf(new Ff,Nf,k,k);Af();Gf(Gf(new Ff,Pf,k),Qf,n,k);Gf(Gf(Gf(new Ff,Pf),Qf,k),Of,n,k);Gf(Gf(Gf(new Ff,Sf),Rf),Of,k,k);function Tf(a,b,c,d,e,f,h){zf.call(this,e,f,h);this.vj=a;this.gf&&Uc(this.gf,a);this.kc(b+"<br><br>");this.Cg=c;this.sf=d!==undefined?d:"";Id(this,Ef,this.Vi);a=z("OK");b=z("Cancel");h=new Ff(h);h.Jb("ok",a,k);h.Jb("cancel",b,n,k);this.Ub=h;if(this.lc)if(this.Ub){h=this.Ub;h.q=this.lc;h.R()}else this.lc.innerHTML=""}A(Tf,zf);u=Tf.prototype;u.Cg=fa;u.sf="";u.Ob=l;u.jh=n;u.yh=1;u.qf=0;
u.i=function(){Tf.h.i.call(this);var a={className:this.Vb+"-userInput",value:this.sf};if(this.yh==1){this.Ob=this.X().i("input",a);this.Ob.type="text";if(this.qf)this.Ob.size=this.qf}else{this.Ob=this.X().i("textarea",a);this.Ob.rows=this.yh;if(this.qf)this.Ob.cols=this.qf}this.xa().appendChild(this.X().i("div",{style:"overflow: auto"},this.Ob));if(this.yh>1)this.Ub.ve=l};u.Aa=function(a){zf.prototype.Aa.call(this,a);if(a){this.jh=n;this.Ob.value=this.sf;this.focus()}};
u.focus=function(){fc&&this.Ob.focus();this.Ob.select()};u.ll=ba("sf");u.Vi=function(a){if(!this.jh){this.jh=k;a.key=="ok"?pf(ta(this.Cg,this,this.Ob.value),1):pf(ta(this.Cg,this,l),1)}};u.p=function(){Rc(this.Ob);Kd(this,Ef,this.Vi,k,this);Tf.h.p.call(this);this.Ob=this.Yl=l};function Uf(a,b,c,d,e,f,h,i){var j,m=c.offsetParent;if(m){var o=m.tagName=="HTML"||m.tagName=="BODY";if(!o||ae(m)!="static"){j=ge(m);o||(j=zc(j,new L(m.scrollLeft,m.scrollTop)))}}m=ke(a);(o=fe(a))&&m.zi(Yd(o));o=Bc(a);var p=Bc(c);if(o.ba!=p.ba){var q=o.ba.body;p=Lc(p.ba);var t=new L(0,0),v=Dc(q)?Lc(Dc(q)):window,y=q;do{var H;if(v==p)H=ge(y);else{var J=y;H=new L;if(J.nodeType==1)if(J.getBoundingClientRect){var na=de(J);H.x=na.left;H.y=na.top}else{na=ad(Bc(J));J=ge(J);H.x=J.x-na.x;H.y=J.y-na.y}else{H.x=
J.clientX;H.y=J.clientY}H=H}H=H;t.x+=H.x;t.y+=H.y}while(v&&v!=p&&(y=v.frameElement)&&(v=v.parent));q=zc(t,ge(q));if(F&&!Hc(o.ba))q=zc(q,ad(o));m.left+=q.x;m.top+=q.y}a=(b&4&&he(a)?b^2:b)&-5;b=new L(a&2?m.left+m.width:m.left,a&1?m.top+m.height:m.top);if(j)b=zc(b,j);if(e){b.x+=(a&2?-1:1)*e.x;b.y+=(a&1?-1:1)*e.y}var X;if(h)if((X=fe(c))&&j){X.top=Math.max(0,X.top-j.y);X.right-=j.x;X.bottom-=j.y;X.left=Math.max(0,X.left-j.x)}a:{j=X;e=b.ja();X=0;a=(d&4&&he(c)?d^2:d)&-5;d=je(c);i=i?i.ja():d;if(f||a!=0){if(a&
2)e.x-=i.width+(f?f.right:0);else if(f)e.x+=f.left;if(a&1)e.y-=i.height+(f?f.bottom:0);else if(f)e.y+=f.top}if(h){if(j){f=e;X=0;if(f.x<j.left&&h&1){f.x=j.left;X|=1}if(f.x<j.left&&f.x+i.width>j.right&&h&16){i.width-=f.x+i.width-j.right;X|=4}if(f.x+i.width>j.right&&h&1){f.x=Math.max(j.right-i.width,j.left);X|=1}if(h&2)X|=(f.x<j.left?16:0)|(f.x+i.width>j.right?32:0);if(f.y<j.top&&h&4){f.y=j.top;X|=2}if(f.y>=j.top&&f.y+i.height>j.bottom&&h&32){i.height-=f.y+i.height-j.bottom;X|=8}if(f.y+i.height>j.bottom&&
h&4){f.y=Math.max(j.bottom-i.height,j.top);X|=2}if(h&8)X|=(f.y<j.top?64:0)|(f.y+i.height>j.bottom?128:0);h=X}else h=256;X=h;if(X&496){c=X;break a}}be(c,e);h=d==i?k:!d||!i?n:d.width==i.width&&d.height==i.height;h||ie(c,i);c=X}return c};function Vf(){}Vf.prototype.wd=aa();function Wf(a,b){this.element=a;this.Od=b}A(Wf,Vf);Wf.prototype.wd=function(a,b,c){Uf(this.element,this.Od,a,b,undefined,c)};function Xf(a,b,c){Wf.call(this,a,b);this.Kj=c}A(Xf,Wf);Xf.prototype.wd=function(a,b,c,d){var e=Uf(this.element,this.Od,a,b,l,c,10,d);if(e&496){var f=this.Od,h=b;if(e&48){f^=2;h^=2}if(e&192){f^=1;h^=1}e=Uf(this.element,f,a,h,l,c,10,d);if(e&496)this.Kj?Uf(this.element,this.Od,a,b,l,c,5,d):Uf(this.element,this.Od,a,b,l,c,0,d)}};function Yf(a,b,c,d){Xf.call(this,a,b,c);this.hl=d}A(Yf,Xf);Yf.prototype.wd=function(a,b,c,d){this.hl?Uf(this.element,this.Od,a,b,l,c,33,d):Yf.h.wd.call(this,a,b,c,d)};function Zf(){}A(Zf,Re);ga(Zf);u=Zf.prototype;u.hc=s("button");u.hf=function(a,b,c){b==16?Qe(a,"pressed",c):Zf.h.hf.call(this,a,b,c)};u.i=function(a){var b=Zf.h.i.call(this,a),c=a.Xd();c&&this.bf(b,c);(c=a.Sa())&&this.Ha(b,c);a.fb&16&&this.hf(b,16,n);return b};u.Sa=fa;u.Ha=fa;u.Xd=function(a){return a.title};u.bf=function(a,b){if(a)a.title=b||""};u.t=s("goog-button");function $f(){}A($f,Zf);ga($f);u=$f.prototype;u.hc=aa();u.i=function(a){Xe(a,n);a.$h&=-256;bf(a,32,n);return a.X().i("button",{"class":this.Fc(a).join(" "),disabled:!a.la(),title:a.Xd()||"",value:a.Sa()||""},a.ye()||"")};u.tc=function(a){a.db().v(a.f(),"click",a.Kc)};u.eg=fa;u.bd=fa;u.Wc=function(a){return a.la()};u.vc=fa;u.Lb=function(a,b,c){$f.h.Lb.call(this,a,b,c);if((a=a.f())&&b==1)a.disabled=c};u.Sa=function(a){return a.value};u.Ha=function(a,b){if(a)a.value=b};u.hf=fa;function ag(a,b,c){We.call(this,a,b||$f.pa(),c)}A(ag,We);u=ag.prototype;u.Sa=r("yj");u.Ha=function(a){this.yj=a;this.J.Ha(this.f(),a)};u.Xd=r("wj");u.bf=function(a){this.wj=a;this.J.bf(this.f(),a)};u.p=function(){ag.h.p.call(this);delete this.yj;delete this.wj};u.ra=function(){ag.h.ra.call(this);if(this.fb&32){var a=this.Qa();a&&this.db().v(a,"keyup",this.Zd)}};u.Zd=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Kc(a);return a.keyCode==32};
Ue("goog-button",function(){return new ag(l)});function bg(){}A(bg,Re);ga(bg);bg.prototype.i=function(a){return a.X().i("div",this.t())};bg.prototype.kc=aa();bg.prototype.t=s("goog-menuseparator");function cg(a,b){We.call(this,l,a||bg.pa(),b);bf(this,1,n);bf(this,2,n);bf(this,4,n);bf(this,32,n);this.Ka=1}A(cg,We);cg.prototype.ra=function(){cg.h.ra.call(this);Pe(this.f(),"separator")};Ue("goog-menuseparator",function(){return new cg});function dg(){}ga(dg);u=dg.prototype;u.hc=aa();function eg(a,b,c){if(b)b.tabIndex=c?0:-1}u.i=function(a){return a.X().i("div",this.Fc(a).join(" "))};u.xa=function(a){return a};u.tc=function(a){a=a.f();re(a,k,G);if(F)a.hideFocus=k;var b=this.hc();b&&Pe(a,b)};u.Qa=function(a){return a.f()};u.t=s("goog-container");u.Fc=function(a){var b=this.t(),c=[b,a.Ef()==fg?b+"-horizontal":b+"-vertical"];a.la()||c.push(b+"-disabled");return c};u.pi=function(){return gg};function hg(a,b,c){te.call(this,c);this.J=b||dg.pa();this.ge=a||this.J.pi()}A(hg,te);var fg="horizontal",gg="vertical";u=hg.prototype;u.Ii=l;u.Zb=l;u.J=l;u.ge=l;u.nb=k;u.Da=k;u.Xg=k;u.na=-1;u.Va=l;u.Jc=n;u.Nj=n;u.al=k;u.Oc=l;u.Qa=function(){return this.Ii||this.J.Qa(this)};u.Df=function(){return this.Zb||(this.Zb=new Ie(this.Qa()))};u.i=function(){this.q=this.J.i(this)};u.xa=function(){return this.J.xa(this.f())};
u.ra=function(){hg.h.ra.call(this);Be(this,function(b){b.Z&&ig(this,b)},this);var a=this.f();this.J.tc(this);this.Aa(this.nb,k);this.db().v(this,"enter",this.dh).v(this,"highlight",this.eh).v(this,"unhighlight",this.gh).v(this,"open",this.Dk).v(this,"close",this.tk).v(a,"mousedown",this.ib).v(Dc(a),"mouseup",this.vk).v(a,["mousedown","mouseup","mouseover","mouseout"],this.sk);this.Wc()&&jg(this,k)};
function jg(a,b){var c=a.db(),d=a.Qa();b?c.v(d,"focus",a.Ff).v(d,"blur",a.Vc).v(a.Df(),"key",a.sc):c.mb(d,"focus",a.Ff).mb(d,"blur",a.Vc).mb(a.Df(),"key",a.sc)}u.wb=function(){this.pb(-1);this.Va&&this.Va.ta(n);this.Jc=n;hg.h.wb.call(this)};u.p=function(){hg.h.p.call(this);if(this.Zb){this.Zb.aa();this.Zb=l}this.J=this.Va=this.Oc=l};u.dh=s(k);
u.eh=function(a){var b=Fe(this,a.target);if(b>-1&&b!=this.na){var c=De(this,this.na);c&&c.wc(n);this.na=b;c=De(this,this.na);this.Jc&&c.setActive(k);if(this.al&&this.Va&&c!=this.Va)c.fb&64?c.ta(k):this.Va.ta(n)}Qe(this.f(),"activedescendant",a.target.f().id)};u.gh=function(a){if(a.target==De(this,this.na))this.na=-1;Qe(this.f(),"activedescendant","")};u.Dk=function(a){if((a=a.target)&&a!=this.Va&&a.za==this){this.Va&&this.Va.ta(n);this.Va=a}};u.tk=function(a){if(a.target==this.Va)this.Va=l};
u.ib=function(a){if(this.Da)this.Jc=k;var b=this.Qa();b&&Xc(b)?b.focus():a.preventDefault()};u.vk=function(){this.Jc=n};u.sk=function(a){var b;a:{b=a.target;if(this.Oc)for(var c=this.f();b&&b!==c;){var d=b.id;if(d in this.Oc){b=this.Oc[d];break a}b=b.parentNode}b=l}if(b)switch(a.type){case "mousedown":b.ib(a);break;case "mouseup":b.nd(a);break;case "mouseover":b.ae(a);break;case "mouseout":b.$d(a)}};u.Ff=aa();u.Vc=function(){this.pb(-1);this.Jc=n;this.Va&&this.Va.ta(n)};
u.sc=function(a){if(this.la()&&this.$a()&&(Ce(this)!=0||this.Ii)&&this.Zd(a)){a.preventDefault();a.stopPropagation();return k}return n};
u.Zd=function(a){var b=De(this,this.na);if(b&&typeof b.sc=="function"&&b.sc(a))return k;if(this.Va&&this.Va!=b&&typeof this.Va.sc=="function"&&this.Va.sc(a))return k;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return n;switch(a.keyCode){case 27:if(this.Wc())this.Qa().blur();else return n;break;case 36:kg(this);break;case 35:lg(this);break;case 38:if(this.ge==gg)mg(this);else return n;break;case 37:if(this.ge==fg)Ee(this)?ng(this):mg(this);else return n;break;case 40:if(this.ge==gg)ng(this);else return n;
break;case 39:if(this.ge==fg)Ee(this)?mg(this):ng(this);else return n;break;default:return n}return k};function ig(a,b){var c=b.f();c=c.id||(c.id=we(b));if(!a.Oc)a.Oc={};a.Oc[c]=b}u.ua=function(a,b){hg.h.ua.call(this,a,b)};u.pe=function(a,b,c){a.Kh|=2;a.Kh|=64;if(this.Wc()||!this.Nj)bf(a,32,n);Xe(a,n);hg.h.pe.call(this,a,b,c);c&&this.Z&&ig(this,a);b<=this.na&&this.na++};
u.removeChild=function(a,b){if(a=x(a)?ze(this,a):a){var c=Fe(this,a);if(c!=-1)if(c==this.na)a.wc(n);else c<this.na&&this.na--;(c=a.f())&&c.id&&gb(this.Oc,c.id)}a=hg.h.removeChild.call(this,a,b);Xe(a,k);return a};u.Ef=r("ge");u.$a=r("nb");u.Aa=function(a,b){if(b||this.nb!=a&&this.dispatchEvent(a?"show":"hide")){this.nb=a;var c=this.f();if(c){oe(c,a);this.Wc()&&eg(this.J,this.Qa(),this.Da&&this.nb);b||this.dispatchEvent(this.nb?"aftershow":"afterhide")}return k}return n};u.la=r("Da");
u.uc=function(a){if(this.Da!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.Da=k;Be(this,function(b){if(b.Aj)delete b.Aj;else b.uc(k)})}else{Be(this,function(b){if(b.la())b.uc(n);else b.Aj=k});this.Jc=this.Da=n}this.Wc()&&eg(this.J,this.Qa(),a&&this.nb)}};u.Wc=r("Xg");u.vc=function(a){a!=this.Xg&&this.Z&&jg(this,a);this.Xg=a;this.Da&&this.nb&&eg(this.J,this.Qa(),a)};u.pb=function(a){if(a=De(this,a))a.wc(k);else this.na>-1&&De(this,this.na).wc(n)};u.wc=function(a){this.pb(Fe(this,a))};
function kg(a){og(a,function(b,c){return(b+1)%c},Ce(a)-1)}function lg(a){og(a,function(b,c){b--;return b<0?c-1:b},0)}function ng(a){og(a,function(b,c){return(b+1)%c},a.na)}function mg(a){og(a,function(b,c){b--;return b<0?c-1:b},a.na)}function og(a,b,c){c=c<0?Fe(a,a.Va):c;var d=Ce(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=De(a,c);if(f&&a.di(f)){a.pb(c);return k}e++;c=b.call(a,c,d)}return n}u.di=function(a){return a.$a()&&a.la()&&!!(a.fb&2)};function pg(){}A(pg,Re);ga(pg);pg.prototype.t=s("goog-menuheader");function qg(a,b,c){We.call(this,a,c||pg.pa(),b);bf(this,1,n);bf(this,2,n);bf(this,4,n);bf(this,32,n);this.Ka=1}A(qg,We);Ue("goog-menuheader",function(){return new qg(l)});function rg(){}A(rg,dg);ga(rg);rg.prototype.hc=s("menu");rg.prototype.dd=function(a,b){return Tc(a.f(),b)};rg.prototype.t=s("goog-menu");rg.prototype.tc=function(a){rg.h.tc.call(this,a);a=a.f();Qe(a,"haspopup","true")};function sg(a){cg.call(this,bg.pa(),a)}A(sg,cg);Ue("goog-menuseparator",function(){return new cg});function tg(a,b){hg.call(this,gg,b||rg.pa(),a);this.vc(n)}A(tg,hg);u=tg.prototype;u.xg=k;u.Oj=n;u.t=function(){return this.J.t()};u.dd=function(a){if(this.J.dd(this,a))return k;for(var b=0,c=Ce(this);b<c;b++){var d=De(this,b);if(typeof d.dd=="function"&&d.dd(a))return k}return n};u.Cc=function(a){this.ua(a,k)};u.Id=function(a,b){this.pe(a,b,k)};u.Td=function(a){return De(this,a)};u.Bf=function(){return Ce(this)};
u.Aa=function(a,b){var c=tg.h.Aa.call(this,a,b);c&&a&&this.Z&&this.xg&&this.Qa().focus();return c};u.dh=function(a){this.xg&&this.Qa().focus();return tg.h.dh.call(this,a)};u.di=function(a){return(this.Oj||a.la())&&a.$a()&&!!(a.fb&2)};function ug(){}A(ug,Zf);ga(ug);u=ug.prototype;u.i=function(a){var b={"class":"goog-inline-block "+this.Fc(a).join(" "),title:a.Xd()||""};return a.X().i("div",b,this.Fg(a.Oa,a.X()))};u.hc=s("button");u.xa=function(a){return a&&a.firstChild.firstChild};u.Fg=function(a,b){return b.i("div","goog-inline-block "+(this.t()+"-outer-box"),b.i("div","goog-inline-block "+(this.t()+"-inner-box"),a))};u.t=s("goog-custom-button");function vg(){}A(vg,ug);ga(vg);if(G)vg.prototype.kc=function(a,b){var c=vg.h.xa.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,Bc(a)),e=c.parentNode;e&&e.replaceChild(d,c)}};u=vg.prototype;u.xa=function(a){a=vg.h.xa.call(this,a&&a.firstChild);if(G&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};u.Fg=function(a,b){return vg.h.Fg.call(this,[this.createCaption(a,b),this.Gg(b)],b)};u.createCaption=function(a,b){return wg(a,this.t(),b)};
function wg(a,b,c){return c.i("div","goog-inline-block "+(b+"-caption"),a)}u.Gg=function(a){return a.i("div","goog-inline-block "+(this.t()+"-dropdown"),"")};u.t=s("goog-menu-button");function xg(a,b,c,d){ag.call(this,a,c||vg.pa(),d);bf(this,64,k);b&&this.ad(b);this.ac=new mf(500)}A(xg,ag);u=xg.prototype;u.Zh=k;u.zh=n;u.lh=n;u.ra=function(){xg.h.ra.call(this);this.G&&yg(this,this.G,k);Qe(this.f(),"haspopup","true")};u.wb=function(){xg.h.wb.call(this);if(this.G){this.ta(n);this.G.wb();yg(this,this.G,n);var a=this.G.f();a&&Rc(a)}};u.p=function(){xg.h.p.call(this);if(this.G){this.G.aa();delete this.G}delete this.dl;this.ac.aa()};
u.ib=function(a){xg.h.ib.call(this,a);if(this.qa()){this.ta(!(this.Ka&64));if(this.G)this.G.Jc=!!(this.Ka&64)}};u.nd=function(a){xg.h.nd.call(this,a);if(this.G&&!this.qa())this.G.Jc=n};u.Kc=function(){this.setActive(n);return k};u.uk=function(a){this.G&&this.G.$a()&&!this.dd(a.target)&&this.ta(n)};u.dd=function(a){return a&&Tc(this.f(),a)||this.G&&this.G.dd(a)||n};
u.Zd=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!="keyup")return n}else if(a.type!="key")return n;if(this.G&&this.G.$a()){var b=this.G.sc(a);if(a.keyCode==27){this.ta(n);return k}return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.ta(k);return k}return n};u.De=function(){this.ta(n)};u.zk=function(){this.qa()||this.ta(n)};u.Vc=function(a){this.lh||this.ta(n);xg.h.Vc.call(this,a)};function zg(a){a.G||a.ad(new tg(a.X()));return a.G||l}
u.ad=function(a){var b=this.G;if(a!=b){if(b){this.ta(n);this.Z&&yg(this,b,n);delete this.G}if(a){this.G=a;ye(a,this);a.Aa(n);var c=this.lh;(a.xg=c)&&a.vc(k);this.Z&&yg(this,a,k)}}return b};u.Cc=function(a){zg(this).ua(a,k)};u.Id=function(a,b){zg(this).pe(a,b,k)};u.Td=function(a){return this.G?De(this.G,a):l};u.Bf=function(){return this.G?Ce(this.G):0};u.Aa=function(a,b){var c=xg.h.Aa.call(this,a,b);c&&!this.$a()&&this.ta(n);return c};u.uc=function(a){xg.h.uc.call(this,a);this.la()||this.ta(n)};
u.ta=function(a){xg.h.ta.call(this,a);if(this.G&&!!(this.Ka&64)==a){if(a){this.G.Z||this.G.R();this.zj=fe(this.f());this.ai=ke(this.f());Ag(this);this.G.pb(-1)}else{this.setActive(n);this.G.Jc=n;if(this.bg!=l){this.bg=undefined;var b=this.G.f();b&&ie(b,"","")}}this.G.Aa(a);b=this.db();var c=a?b.v:b.mb;c.call(b,$c(this.X()),"mousedown",this.uk,k);this.lh&&c.call(b,this.G,"blur",this.zk);c.call(b,this.ac,of,this.Zk);a?this.ac.start():this.ac.stop()}};
function Ag(a){if(a.G.Z){var b=a.dl||a.f();b=new Yf(b,a.Zh?5:7,!a.zh,a.zh);var c=a.G.f();if(!a.G.$a()){c.style.visibility="hidden";oe(c,k)}if(!a.bg&&a.zh)a.bg=je(c);b.wd(c,a.Zh?4:6,l,a.bg);if(!a.G.$a()){oe(c,n);c.style.visibility="visible"}}}
u.Zk=function(){var a=ke(this.f()),b=fe(this.f()),c;c=this.ai;c=c==a?k:!c||!a?n:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c)){c=this.zj;c=c==b?k:!c||!b?n:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left;c=!c}if(c){this.ai=a;this.zj=b;Ag(this)}};function yg(a,b,c){var d=a.db();c=c?d.v:d.mb;c.call(d,b,"action",a.De);c.call(d,b,"highlight",a.eh);c.call(d,b,"unhighlight",a.gh)}u.eh=function(a){Qe(this.f(),"activedescendant",a.target.f().id)};
u.gh=function(){De(this.G,this.G.na)||Qe(this.f(),"activedescendant","")};Ue("goog-menu-button",function(){return new xg(l)});function Bg(a){this.qd=[];Cg(this,a)}A(Bg,Ud);u=Bg.prototype;u.$c=l;u.Ah=l;u.Bf=function(){return this.qd.length};u.Td=function(a){return this.qd[a]||l};function Cg(a,b){if(b){B(b,function(c){this.ie(c,n)},a);Wa(a.qd,b)}}u.Cc=function(a){this.Id(a,this.Bf())};u.Id=function(a,b){if(a){this.ie(a,n);Xa(this.qd,b,0,a)}};u.jd=r("$c");u.xc=function(a){if(a!=this.$c){this.ie(this.$c,n);this.$c=a;this.ie(a,k)}this.dispatchEvent("select")};u.Wd=function(){return this.$c?Ma(this.qd,this.$c):-1};u.af=function(a){this.xc(this.Td(a))};
u.clear=function(){var a=this.qd;if(!ia(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.$c=l};u.p=function(){Bg.h.p.call(this);delete this.qd;this.$c=l};u.ie=function(a,b){if(a)if(typeof this.Ah=="function")this.Ah(a,b);else typeof a.Ih=="function"&&a.Ih(b)};function Dg(a,b,c,d){xg.call(this,a,b,c,d);this.rf=a;Eg(this)}A(Dg,xg);u=Dg.prototype;u.A=l;u.rf=l;u.ra=function(){Dg.h.ra.call(this);Eg(this);Fg(this)};u.p=function(){Dg.h.p.call(this);if(this.A){this.A.aa();this.A=l}this.rf=l};u.De=function(a){this.xc(a.target);Dg.h.De.call(this,a);a.stopPropagation();this.dispatchEvent("action")};u.If=function(){var a=this.jd();Dg.h.Ha.call(this,a&&a.Sa());Eg(this)};
u.ad=function(a){var b=Dg.h.ad.call(this,a);if(a!=b){this.A&&this.A.clear();if(a)this.A?Be(a,function(c){this.A.Cc(c)},this):Gg(this,a)}return b};u.Cc=function(a){Dg.h.Cc.call(this,a);this.A?this.A.Cc(a):Gg(this,zg(this))};u.Id=function(a,b){Dg.h.Id.call(this,a,b);this.A?this.A.Id(a,b):Gg(this,zg(this))};u.xc=function(a){this.A&&this.A.xc(a)};u.af=function(a){this.A&&this.xc(this.A.Td(a))};
u.Ha=function(a){if(a!=l&&this.A)for(var b=0,c;c=this.A.Td(b);b++)if(c&&typeof c.Sa=="function"&&c.Sa()==a){this.xc(c);return}this.xc(l)};u.jd=function(){return this.A?this.A.jd():l};u.Wd=function(){return this.A?this.A.Wd():-1};function Gg(a,b){a.A=new Bg;b&&Be(b,function(c){this.A.Cc(c)},a);Fg(a)}function Fg(a){a.A&&a.db().v(a.A,"select",a.If)}function Eg(a){var b=a.jd();a.kc(b?b.ye():a.rf)}u.ta=function(a){Dg.h.ta.call(this,a);this.Ka&64&&zg(this).pb(this.Wd())};Ue("goog-select",function(){return new Dg(l)});function Hg(){}A(Hg,bg);ga(Hg);Hg.prototype.i=function(a){return a.X().i("div",this.t()+" goog-inline-block","")};Hg.prototype.t=s("goog-toolbar-separator");function Ig(a,b){cg.call(this,a||Hg.pa(),b)}A(Ig,cg);Ue("goog-toolbar-separator",function(){return new Ig});var Jg={};function Kg(){}A(Kg,Zf);ga(Kg);Kg.prototype.i=function(a){var b={"class":"goog-inline-block "+this.Fc(a).join(" "),title:a.Xd()||""};return a.X().i("div",b,a.Oa)};Kg.prototype.hc=s("button");Kg.prototype.Sa=s(l);Kg.prototype.t=s("goog-flat-button");Ue("goog-flat-button",function(){return new ag(l,Kg.pa())});function Lg(){}A(Lg,Kg);ga(Lg);u=Lg.prototype;u.i=function(a){var b={"class":"goog-inline-block "+this.Fc(a).join(" "),title:a.Xd()||""};return a.X().i("div",b,[this.createCaption(a.Oa,a.X()),this.Gg(a.X())])};u.xa=function(a){return a&&a.firstChild};u.createCaption=function(a,b){return b.i("div","goog-inline-block "+(this.t()+"-caption"),a)};u.Gg=function(a){return a.i("div","goog-inline-block "+(this.t()+"-dropdown"),"")};u.t=s("goog-flat-menu-button");
Ue("goog-flat-menu-button",function(){return new xg(l,l,Lg.pa())});function Mg(a,b,c){lf.call(this,a,b,c);this.Hh(k)}A(Mg,lf);Mg.prototype.Kc=function(){return this.dispatchEvent("action")};Ue("goog-option",function(){return new Mg(l)});function Ng(){}A(Ng,dg);ga(Ng);Ng.prototype.hc=s("toolbar");Ng.prototype.t=s("goog-toolbar");Ng.prototype.pi=function(){return fg};function Og(a,b,c){hg.call(this,b,a||Ng.pa(),c)}A(Og,hg);function Pg(){}A(Pg,ug);ga(Pg);Pg.prototype.t=s("goog-toolbar-button");function Qg(a,b,c){ag.call(this,a,b||Pg.pa(),c)}A(Qg,ag);Ue("goog-toolbar-button",function(){return new Qg(l)});var Rg={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Sg(a){a=a%360;return a*360<0?a+360:a}function N(a){return a*Math.PI/180}function Tg(a,b,c,d){return Sg(Math.atan2(d-b,c-a)*180/Math.PI)}function Ug(a,b){var c=Sg(b)-Sg(a);if(c>180)c-=360;else if(c<=-180)c=360+c;return c};function Vg(a){var b={};a=String(a);var c=a.charAt(0)=="#"?a:"#"+a;if(Wg.test(c)){b.Kf=Xg(c);b.type="hex";return b}else{a:{var d=a.match(Yg);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(c>=0&&c<=255&&e>=0&&e<=255&&d>=0&&d<=255){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||e<0||e>255||isNaN(a)||a<0||a>255||isNaN(c)||c<0||c>255)g(Error('"('+e+","+a+","+c+'") is not a valid RGB color'));e=Zg(e.toString(16));a=Zg(a.toString(16));
c=Zg(c.toString(16));b.Kf="#"+e+a+c;b.type="rgb";return b}else if(Rg)if(c=Rg[a.toLowerCase()]){b.Kf=c;b.type="named";return b}}g(Error(a+" is not a valid color string"))}var $g=/#(.)(.)(.)/;function Xg(a){if(!Wg.test(a))g(Error("'"+a+"' is not a valid hex color"));if(a.length==4)a=a.replace($g,"#$1$1$2$2$3$3");return a.toLowerCase()}var Wg=/^#(?:[0-9a-f]{3}){1,2}$/i,Yg=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Zg(a){return a.length==1?"0"+a:a};function ah(){}A(ah,vg);ga(ah);ah.prototype.createCaption=function(a,b){return ah.h.createCaption.call(this,bh(a,b),b)};function bh(a,b){return b.i("div","goog-color-menu-button-indicator",a)}ah.prototype.Ha=function(a,b){a&&ch(this.xa(a),b)};function ch(a,b){if(a&&a.firstChild){var c;try{c=Vg(b).Kf}catch(d){c=l}a.firstChild.style.borderBottomColor=c||(F?"":"transparent")}}ah.prototype.tc=function(a){this.Ha(a.f(),a.Sa());wc(a.f(),"goog-color-menu-button");ah.h.tc.call(this,a)};function dh(){}A(dh,Re);ga(dh);var eh=0;dh.prototype.i=function(a){var b=this.Fc(a);return a.X().i("div",b?b.join(" "):l,fh(this,a.Oa,a.kd(),a.X()))};function fh(a,b,c,d){for(var e=[],f=0,h=0;f<c.height;f++){for(var i=[],j=0;j<c.width;j++){var m=b&&b[h++];i.push(gh(a,m,d))}e.push(d.i("tr",a.t()+"-row",i))}return a.hi(e,d)}dh.prototype.hi=function(a,b){var c=b.i("table",this.t()+"-table",b.i("tbody",this.t()+"-body",a));c.cellSpacing=0;c.cellPadding=0;Pe(c,"grid");return c};
function gh(a,b,c){a=c.i("td",{"class":a.t()+"-cell",id:a.t()+"-cell-"+eh++},b);Pe(a,"gridcell");return a}
dh.prototype.kc=function(a,b){if(a){var c=Gc(document,"tbody",this.t()+"-body",a)[0];if(c){var d=0;B(c.rows,function(j){B(j.cells,function(m){Qc(m);if(b){var o=b[d++];o&&m.appendChild(o)}})});if(d<b.length){for(var e=[],f=Bc(a),h=c.rows[0].cells.length;d<b.length;){var i=b[d++];e.push(gh(this,i,f));if(e.length==h){i=f.i("tr",this.t()+"-row",e);c.appendChild(i);e.length=0}}if(e.length>0){for(;e.length<h;)e.push(gh(this,"",f));i=f.i("tr",this.t()+"-row",e);c.appendChild(i)}}}re(a,k,G)}};
function hh(a,b,c){for(b=b.f();c&&c.nodeType==1&&c!=b;){if(c.tagName=="TD"&&D(vc(c),a.t()+"-cell"))return c.firstChild;c=c.parentNode}return l}function ih(a,b,c,d){if(c){c=c.parentNode;a=a.t()+"-cell-hover";d?wc(c,a):xc(c,a);b=b.f().firstChild;Qe(b,"activedescendent",c.id)}}dh.prototype.t=s("goog-palette");function jh(a,b,c){We.call(this,a,b||dh.pa(),c)}A(jh,We);u=jh.prototype;u.$b=l;u.na=-1;u.A=l;u.p=function(){jh.h.p.call(this);if(this.A){this.A.aa();this.A=l}this.$b=l};u.gg=function(a){jh.h.gg.call(this,a);kh(this);if(this.A){this.A.clear();Cg(this.A,a)}else{this.A=new Bg(a);this.A.Ah=ta(this.ie,this);this.db().v(this.A,"select",this.If)}this.na=-1};u.ye=s(l);
u.ae=function(a){jh.h.ae.call(this,a);var b=hh(this.J,this,a.target);if(!(b&&a.relatedTarget&&Tc(b,a.relatedTarget)))if(b!=lh(this)){a=this.Oa;this.pb(a?Ma(a,b):-1)}};u.$d=function(a){jh.h.$d.call(this,a);var b=hh(this.J,this,a.target);b&&a.relatedTarget&&Tc(b,a.relatedTarget)||b==lh(this)&&ih(this.J,this,b,n)};u.ib=function(a){jh.h.ib.call(this,a);if(this.qa()){a=hh(this.J,this,a.target);if(a!=lh(this)){var b=this.Oa;this.pb(b?Ma(b,a):-1)}}};u.Kc=function(){var a=lh(this);if(a){this.xc(a);return this.dispatchEvent("action")}return n};
u.sc=function(a){var b=this.Oa;b=b?b.length:0;var c=this.$b.width;if(b==0||!this.la())return n;if(a.keyCode==13||a.keyCode==32)return this.Kc(a);if(a.keyCode==36){this.pb(0);return k}else if(a.keyCode==35){this.pb(b-1);return k}var d=this.na<0?this.Wd():this.na;switch(a.keyCode){case 37:if(d==-1)d=b;if(d>0){this.pb(d-1);a.preventDefault();return k}break;case 39:if(d<b-1){this.pb(d+1);a.preventDefault();return k}break;case 38:if(d==-1)d=b+c-1;if(d>=c){this.pb(d-c);a.preventDefault();return k}break;
case 40:if(d==-1)d=-c;if(d<b-c){this.pb(d+c);a.preventDefault();return k}}return n};u.If=aa();u.kd=r("$b");u.Kb=function(a,b){if(this.f())g(Error("Component already rendered"));this.$b=ka(a)?new Ac(a,b):a;kh(this)};function lh(a){var b=a.Oa;return b&&b[a.na]}u.pb=function(a){if(a!=this.na){mh(this,this.na,n);this.na=a;mh(this,a,k)}};u.Wd=function(){return this.A?this.A.Wd():-1};u.jd=function(){return this.A?this.A.jd():l};u.af=function(a){this.A&&this.A.af(a)};u.xc=function(a){this.A&&this.A.xc(a)};
function mh(a,b,c){if(a.f()){var d=a.Oa;d&&b>=0&&b<d.length&&ih(a.J,a,d[b],c)}}u.ie=function(a,b){if(this.f())if(a){var c=a.parentNode,d=this.J.t()+"-cell-selected";b?wc(c,d):xc(c,d)}};function kh(a){var b=a.Oa;if(b)if(a.$b&&a.$b.width){b=Math.ceil(b.length/a.$b.width);if(!ka(a.$b.height)||a.$b.height<b)a.$b.height=b}else{b=Math.ceil(Math.sqrt(b.length));a.$b=new Ac(b,b)}else a.$b=new Ac(0,0)};function nh(a,b,c){this.pf=a||[];jh.call(this,l,b||dh.pa(),c);this.pf=this.pf;this.$f=l;this.kc(oh(this))}A(nh,jh);nh.prototype.$f=l;nh.prototype.ah=function(){var a=this.jd();if(a){a=a.style[me("background-color")]||"";return ph(a)}else return l};nh.prototype.Jh=function(a){a=ph(a);if(!this.$f)this.$f=C(this.pf,function(b){return ph(b)});this.af(a?Ma(this.$f,a):-1)};
function oh(a){return C(a.pf,function(b){var c=this.X().i("div",{"class":this.J.t()+"-colorswatch",style:"background-color:"+b});if(b.charAt(0)=="#"){b=Xg(b);b="RGB ("+[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16)].join(", ")+")"}else b=b;c.title=b;return c},a)}function ph(a){if(a)try{return Vg(a).Kf}catch(b){}return l};function qh(a,b,c,d){xg.call(this,a,b,c||ah.pa(),d)}A(qh,xg);
var rh={Gl:["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],Ml:["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],Jl:["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c",
"#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]};function sh(a,b){var c=new tg(b);a&&B(a,function(d){c.ua(d,k)});db(rh,function(d){d=new nh(d,l,b);d.Kb(8);c.ua(d,k)});return c}u=qh.prototype;u.ah=function(){return this.Sa()};u.Jh=function(a){this.Ha(a)};u.Ha=function(a){for(var b=0,c;c=this.Td(b);b++)typeof c.Jh=="function"&&c.Jh(a);qh.h.Ha.call(this,a)};
u.De=function(a){if(typeof a.target.ah=="function")this.Ha(a.target.ah());else a.target.Sa()=="none"&&this.Ha(l);qh.h.De.call(this,a);a.stopPropagation();this.dispatchEvent("action")};u.ta=function(a){if(a&&this.Bf()==0){this.ad(sh(l,this.X()));this.Ha(this.Sa())}qh.h.ta.call(this,a)};Ue("goog-color-menu-button",function(){return new qh(l)});function th(){}A(th,vg);ga(th);th.prototype.t=s("goog-toolbar-menu-button");function uh(){}A(uh,th);ga(uh);uh.prototype.createCaption=function(a,b){return wg(bh(a,b),this.t(),b)};uh.prototype.Ha=function(a,b){a&&ch(this.xa(a),b)};uh.prototype.tc=function(a){this.Ha(a.f(),a.Sa());wc(a.f(),"goog-toolbar-color-menu-button");uh.h.tc.call(this,a)};function vh(a,b,c,d){qh.call(this,a,b,c||uh.pa(),d)}A(vh,qh);Ue("goog-toolbar-color-menu-button",function(){return new vh(l)});function wh(a,b,c,d){xg.call(this,a,b,c||th.pa(),d)}A(wh,xg);Ue("goog-toolbar-menu-button",function(){return new wh(l)});function xh(a,b,c,d){Dg.call(this,a,b,c||th.pa(),d)}A(xh,Dg);Ue("goog-toolbar-select",function(){return new xh(l)});function yh(a,b,c,d,e,f){c=c;if((!c||c=="")&&G&&!K("1.9a"))c="";d=(f||Bc()).i("DIV",d?{"class":d}:l,c);e=new Qg(d,e,f);xe(e,a);e.bf(b);return e}function zh(a,b,c,d,e,f){a=yh(a,b,c,d,e,f);bf(a,16,k);return a}function Ah(a,b,c,d,e,f){e=new xh(l,l,e,f);d&&B(d.split(/\s+/),e.vg,e);e.vg("goog-toolbar-select");e.rf=c;Eg(e);xe(e,a);e.bf(b);return e};function Bh(a){return function(){return a}}var Ch=Bh(n);/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function O(){this.Da=this.Ij()}A(O,Ud);u=O.prototype;u.Ij=Ch;function Dh(a,b){a.b=b;B(a.Ae(),function(c){b.xh(c.id,c.key)})}u.Ae=function(){return[]};u.vf=function(a){if(this.b==a)this.Da=k;else this.M.log(Db,"Trying to enable an unregistered field with this plugin.",void 0)};u.Lg=function(a){this.M.info("disable");if(this.b==a)this.Da=n;else this.M.log(Db,"Trying to disable an unregistered field with this plugin.",void 0)};u.M=E("kemia.controller.Plugin");
u.la=function(a){return this.b==a?this.Da:n};u.p=function(){if(this.b)if(this.b){this.Lg(this.b);this.b=l}O.h.p.call(this)};u.Tj=k;var Eh={};O.prototype.Xh=Ch;var Fh=ib({rm:1,sm:2,um:3,If:4,Gf:5,execCommand:6,queryCommandValue:7,ib:8,nd:9,ae:10,$d:11,Ee:12,mm:13,lm:14,km:15,pm:16,om:17,nm:18,jm:19,im:20,hm:21,zm:22,ym:23,xm:24,wm:25,qm:26});O.prototype.execCommand=function(a){var b=this.Hi(a);try{Gh(this.b);var c=this.Uc.apply(this,arguments)}finally{if(!b){P(this.b);this.b.dispatchEvent(Hh)}}return c};
O.prototype.Hi=Ch;O.prototype.Xb=s(n);function Ih(a,b){this.source=a;this.target=b}function Jh(a,b,c){return((a.target.x-a.source.x)*(b.y-a.source.y)-(b.x-a.source.x)*(a.target.y-a.source.y))*((a.target.x-a.source.x)*(c.y-a.source.y)-(c.x-a.source.x)*(a.target.y-a.source.y))>0};function Kh(a,b){this.x=Number(a)||0;this.y=Number(b)||0}A(Kh,L);function Lh(a){return new Kh(a.x,a.y)}u=Kh.prototype;u.ja=function(){return new Kh(this.x,this.y)};u.scale=function(a){this.x*=a;this.y*=a;return this};u.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y))};u.add=function(a){this.x+=a.x;this.y+=a.y;return this};u.df=function(a){this.x-=a.x;this.y-=a.y;return this};function Mh(a,b,c,d,e){this.source=a!==undefined?a:new L(10,0);this.target=b!==undefined?b:M(this.source,new L(2,0));this.style=c!==undefined?c:Nh;this.wh=d!==undefined?d:"";this.Eg=e!==undefined?e:""}u=Mh.prototype;u.translate=function(a){this.source=M(this.source,a);this.target=M(this.target,a)};u.wa=function(){var a=Lh(this.source);return a.add(Lh(this.target).df(a).scale(0.5))};
u.Ef=function(a){var b=new L((this.source.x+this.target.x)/2,(this.source.y+this.target.y)/2),c=new Lh(zc(this.source,this.target));return Jh(new Ih(b,M(b,new Kh(-c.y,c.x))),a,this.target)?Oh:Ph};u.hg=function(a){this.wh=a?a:""};u.fg=function(a){this.Eg=a?a:""};u.toString=function(){return"kemia.model.Arrow "+this.source.toString()+" "+this.target.toString()};var Nh=1,Oh=1,Ph=2;function Qh(a){this.a=a!==undefined?a:new L(0,0)}Qh.prototype.translate=function(a){this.a=M(this.a,a)};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Rh(){this.Fd={};O.call(this)}A(Rh,O);var Sh=ib({El:"editArrow",Fl:"editPlus"});u=Rh.prototype;u.Xb=function(a){return a in Sh};u.Gc=Bh("ArrowPlusEdit");u.Uc=function(a,b,c){this.Fd[a]=c};u.M=E("kemia.controller.plugins.ArrowPlusEdit");
u.ib=function(a){if(this.Fd.editArrow){Q(this.b);var b=this.b.k.ca.transform.ob();b=R(b,[new L(a.offsetX,a.offsetY)]);Th(this.b.r[0],new Mh(b[0]));S(this.b,this.b.r);P(this.b)}else if(this.Fd.editPlus){Q(this.b);b=this.b.k.ca.transform.ob();b=R(b,[new L(a.offsetX,a.offsetY)]);a=this.b.r[0];b=new Qh(b[0]);a.Hb.push(b);b.Ja=a;S(this.b,this.b.r);P(this.b)}};u.xd=function(){this.Fd.editArrow=n;this.Fd.editPlus=n};u.queryCommandValue=function(a){var b=l;if(this.Xb(a))b=this.Fd[a];return b};var Uh={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function Vh(a){this.cf={};this.Ic={zd:[],sj:0};this.pk=mb(Wh);this.Pj=k;this.Mj=this.Qj=n;this.Rk=k;this.Hc=a;Id(this.Hc,"keydown",this.md,n,this);$b&&G&&K("1.8")&&Id(this.Hc,"keyup",this.ri,n,this);if(ac&&!G){Id(this.Hc,"keypress",this.ti,n,this);Id(this.Hc,"keyup",this.ui,n,this)}}var Xh;A(Vh,Ud);var Wh=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],Yh={Ej:"shortcut",Dj:"shortcut_"};u=Vh.prototype;
u.xh=function(a){var b=Zh,c=this.cf,d=arguments;if(x(d[1])){d=d[1];d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();d=d.split(" ");for(var e=[],f,h=0;f=d[h];h++){var i=f.split("+"),j;f=0;for(var m,o=0;m=i[o];o++){switch(m){case "shift":f|=1;continue;case "ctrl":f|=2;continue;case "alt":f|=4;continue;case "meta":f|=8;continue}j=m;if(!Xh){i={};m=void 0;for(m in Uh)i[Uh[m]]=m;Xh=i}j=Xh[j];break}e.push({keyCode:j,Oi:f})}d=e}else{e=d;h=1;if(ia(d[1])){e=d[1];h=0}for(d=[];h<e.length;h+=
2)d.push({keyCode:e[h],Oi:e[h+1]})}b(c,d,a)};u.p=function(){Vh.h.p.call(this);this.cf={};Kd(this.Hc,"keydown",this.md,n,this);$b&&G&&K("1.8")&&Kd(this.Hc,"keyup",this.ri,n,this);if(ac&&!G){Kd(this.Hc,"keypress",this.ti,n,this);Kd(this.Hc,"keyup",this.ui,n,this)}this.Hc=l};u.ri=function(a){if(a.keyCode==224){this.Mi=k;pf(function(){this.Mi=n},400,this)}else{var b=a.metaKey||this.Mi;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&b){a.metaKey=b;this.md(a)}}};
function $h(a,b){return ac&&!G&&b.ctrlKey&&b.altKey&&!b.shiftKey}u.ti=function(a){if(a.keyCode>32&&$h(this,a))this.Gi=k};u.ui=function(a){!this.Gi&&$h(this,a)&&this.md(a)};function Zh(a,b,c){var d=b.shift();d=d.keyCode&255|d.Oi<<8;var e=a[d];if(e&&c&&(b.length==0||x(e)))g(Error("Keyboard shortcut conflicts with existing shortcut"));if(b.length){e||(e=a[d]={});Zh(e,b,c)}else a[d]=c}function ai(a,b,c,d){c=c||0;if((d=(d||a.cf)[b[c]])&&!x(d)&&b.length-c>1)return ai(a,b,c+1,d);return d}
u.md=function(a){if(bi(this,a))if(a.type=="keydown"&&$h(this,a))this.Gi=n;else{var b=a.keyCode&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8,c,d,e=va();if(this.Ic.zd.length&&e-this.Ic.sj<=1500)c=ai(this,this.Ic.zd);else this.Ic.zd.length=0;c=c?c[b]:this.cf[b];if(!c){c=this.cf[b];this.Ic.zd=[]}if(c&&x(c))d=c;else if(c){this.Ic.zd.push(b);this.Ic.sj=e;G&&a.preventDefault()}else this.Ic.zd.length=0;if(d){this.Pj&&a.preventDefault();this.Qj&&a.stopPropagation();b=this.dispatchEvent(new ci(Yh.Ej,
d,a.target));b&=this.dispatchEvent(new ci(Yh.Dj+d,d,a.target));b||a.preventDefault();this.Ic.zd.length=0}}};
function bi(a,b){var c=b.keyCode;if(c==16||c==17||c==18)return n;var d=b.target,e=d.tagName=="TEXTAREA"||d.tagName=="INPUT"||d.tagName=="BUTTON"||d.tagName=="SELECT",f=!e&&(d.isContentEditable||d.ownerDocument&&d.ownerDocument.designMode=="on");if(!e&&!f)return k;if(a.pk[c]||a.Mj)return k;if(f)return n;if(a.Rk&&(b.altKey||b.ctrlKey||b.metaKey))return k;if(d.tagName=="INPUT"&&(d.type=="text"||d.type=="password"))return c==13;if(d.tagName=="INPUT"||d.tagName=="BUTTON")return c!=32;return n}
function ci(a,b,c){fd.call(this,a,c);this.identifier=b}A(ci,fd);/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function di(){O.call(this)}A(di,O);di.prototype.Xb=function(a){return a=="selectSymbol"};di.prototype.Gc=Bh("selectSymbol");var ei=[{id:"H",key:"h"},{id:"C",key:"c"},{id:"N",key:"n"},{id:"S",key:"s"},{id:"P",key:"p"},{id:"O",key:"o"},{id:"F",key:"f"},{id:"I",key:"i"},{id:"+",key:[187,1]},{id:"-",key:189}];u=di.prototype;u.Ae=function(){return ei};u.xd=function(){this.T=undefined};u.Uc=function(a,b){this.T=b};u.M=E("kemia.controller.plugins.AtomEdit");
u.Gf=function(a){try{var b=a.identifier,c=Ra(ei,function(e){return e.id==b});if(c){B(this.b.selected,function(e){if(e instanceof T)if("+"==c.id){Q(this.b);e.Ya++;this.b.Mc(this.b.r);P(this.b)}else if("-"==c.id){Q(this.b);e.Ya--;this.b.Mc(this.b.r);P(this.b)}else{var f=c.id;if(f!=e.T){Q(this.b);fi(this,f,e);this.b.Mc(this.b.r);P(this.b);return k}}},this);return k}}catch(d){this.M.info(d)}};
u.Ee=function(a){if(this.T){this.b.selected.length=0;this.b.$.style.cursor="default";var b=gi(this.b,a);a.currentTarget.m&&a.currentTarget.m.clear();if(b instanceof T){hi(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.yb(b,a.currentTarget.m):this.yb(b);return k}}return n};
u.ib=function(a){if(this.T){var b=this.b.selected;if(b.length)if(b.length==1&&a.shiftKey){a=b[0];ii(a.u,a,ji,ki,this.T);this.b.Mc(this.b.r);P(this.b);return k}else B(b,function(c){if(c instanceof T)if(this.T&&this.T!=c.T){Q(this.b);fi(this,this.T,c);this.b.Mc(this.b.r);P(this.b);return k}},this);else{this.ue(li(a));this.b.Mc(this.b.r);P(this.b);return k}}return n};u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"purple",b)};
function fi(a,b,c){var d=new T(b,c.a.x,c.a.y),e=c.u;B(c.g.L(),function(f){var h=f.ja();h.u=undefined;c==h.source?h.source=d:h.target=d;mi(e,h);ni(e,f)});oi(e,c);pi(e,d)}u.ue=function(a){a=qi(this.b.k.transform.ob(),[a])[0];var b=new T(this.T,a.x,a.y);a=new U;pi(a,b);if(this.b.r.length>0){b=this.b.r[0];ri(b,a)}};u.queryCommandValue=function(a){if(a=="selectSymbol")return this.T};var si={};var ti={C:4,Si:4,N:3,P:3,O:2,S:2,H:1,Br:1,Cl:1,I:1,F:1};function T(a,b,c,d,e,f){this.T=a!==undefined?a:"C";this.a=new L(b?b:0,c?c:0);this.g=new sb;this.Ya=d?d:0;this.Sf=f?f:0;this.dc=e!==undefined?e:n;this.Bm=l;this.ea=Array(3)}T.prototype.Bb=function(){return this.g.Af()};function ui(a){var b=ti[a.T],c=a.g.L();c=Oa(c,function(e,f){return e+f.Fa},0);var d=0;if(b)d=b-c+a.Ya;return d}function vi(a){for(var b=a.g.L(),c=[],d=0,e=b.length;d<e;d++)c.push(V(b[d],a));return c}
function wi(a){var b=a.g.L(),c;if(b.length==0)c=0;else if(b.length==1){var d=V(b[0],a),e=Tg(a.a.x,a.a.y,d.a.x,d.a.y);b=C(d.g.L(),function(f){f=V(f,d);if(f!=a)return Ug(e,Tg(d.a.x,d.a.y,f.a.x,f.a.y))});$a(b);c=b[0]>0?e-120:e+120}else if(b.length==2){b=C(b,function(f){f=V(f,a);return Tg(a.a.x,a.a.y,f.a.x,f.a.y)});c=Ug(b[0],b[1]);if(Math.abs(c)<180)c=180+c/2;else c/=2;c=b[0]+c}else if(b.length==3){$a(b,function(f,h){return ab(V(f,a).g.L().length,V(h,a).g.L().length)});b=Ya(b,0,2);b=C(b,function(f){f=
V(f,a);return Tg(a.a.x,a.a.y,f.a.x,f.a.y)});c=b[0]+Ug(b[0],b[1])/2}return c}T.prototype.ja=function(){return new T(this.T,this.a.x,this.a.y,this.Ya,this.dc,this.Sf)};T.prototype.lb=function(a,b){this.ea[a]=b};T.prototype.toString=function(){return"kemia.model.Atom ["+this.T+"] "+this.a.toString()};function W(a,b,c,d,e,f){this.source=a;this.target=b;this.Fa=c!==undefined?c:ji;this.fa=d!==undefined?d:ki;this.dc=e!==undefined?e:n;this.u=f!==undefined?f:l}function V(a,b){if(b===a.source)return a.target;if(b===a.target)return a.source;return l}W.prototype.ja=function(){return new W(this.source,this.target,this.Fa,this.fa,this.dc,this.u)};var ji=1,ki=10;
W.prototype.toString=function(){return"kemia.model.Bond["+this.Fa+", "+this.fa+"]  "+this.source.toString()+" -- "+this.target.toString()+" mol: "+(this.u?this.u.name:"no molecule")};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function xi(){O.call(this);this.tg=n}A(xi,O);xi.prototype.Xb=function(a){return a=="selectBond"};xi.prototype.Gc=Bh("selectBond");xi.prototype.Uc=function(a,b){this.Xa=b};var yi=[{id:"1",key:"1"},{id:"2",key:"2"},{id:"3",key:"3"},{id:"4",key:"4"},{id:"5",key:"5"},{id:"6",key:"6"},{id:"7",key:"7"},{id:"8",key:"8"},{id:"9",key:"9"}];xi.prototype.Ae=function(){return yi};
var zi=[{caption:"Single",Fa:ji,fa:ki},{caption:"Double",Fa:2,fa:ki},{caption:"Triple",Fa:3,fa:ki},{caption:"Quadruple",Fa:4,fa:ki},{caption:"Single Up",Fa:ji,fa:11},{caption:"Single Down",Fa:ji,fa:13},{caption:"Single Up or Down",Fa:ji,fa:12}];u=xi.prototype;u.M=E("kemia.controller.plugins.BondEdit");
u.Gf=function(a){var b=Ra(yi,function(c){return c.id==a.identifier});b&&B(this.b.selected,function(c){var d=parseInt(b.id);if(c instanceof T){c=c;Q(this.b);for(var e=0;e<d;e++){var f=ii(c.u,c,ji,ki);if(f)c=V(f,c)}S(this.b,this.b.r);P(this.b);return k}return k},this)};
u.Ee=function(a){if(this.Xa&&!this.tg){var b=gi(this.b,a);this.b.selected.length=0;this.b.$.style.cursor="default";a.currentTarget.m&&a.currentTarget.m.clear();a.currentTarget.m=undefined;if(b instanceof T){hi(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.yb(b,a.currentTarget.m):this.yb(b);return k}else if(b instanceof W){hi(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.ic(b,a.currentTarget.m):this.ic(b);return k}}return n};
u.ib=function(a){try{var b=this.b.selected;if(b.length)B(b,function(d){if(d instanceof T)if(this.Xa){Q(this.b);d=ii(d.u,d,this.Xa.Fa,this.Xa.fa);this.b.selected.length=0;hi(this.b,d);S(this.b,this.b.r);P(this.b);return k}if(d instanceof W)if(this.Xa)if(this.Xa.Fa!=d.Fa||this.Xa.fa!=d.fa||d.fa!=ki){Q(this.b);var e=this.Xa.fa!=ki&&d.fa==this.Xa.fa?new W(d.target,d.source,this.Xa.Fa,this.Xa.fa):new W(d.source,d.target,this.Xa.Fa,this.Xa.fa),f=d.u;ni(f,d);mi(f,e);S(this.b,this.b.r);P(this.b);return k}},
this);else if(this.Xa){Q(this.b);this.ue(li(a));S(this.b,this.b.r);P(this.b);return k}}catch(c){this.M.log(Db,c,void 0)}};u.ue=function(a){a=qi((this.b.k.transform?this.b.k.transform:this.b.k.ca.transform).ob(),[a])[0];var b=new T("C",a.x,a.y);a=new U;pi(a,b);ii(a,b,this.Xa.Fa,this.Xa.fa);if(this.b.r.length>0){b=this.b.r[0];b instanceof Ai&&ri(b,a)}else this.b.Mc([a])};u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"green",b)};u.ic=function(a,b){return this.b.k.ca.Jd.l(a).ka(a,"green",b)};
u.xd=function(){this.Xa=undefined};u.queryCommandValue=function(a){if(a=="selectBond")return this.Xa};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Bi(){O.call(this)}A(Bi,O);Bi.prototype.Gc=Bh("clearEditor");Bi.prototype.Xb=function(a){return a=="clearEditor"};Bi.prototype.Uc=function(){try{Q(this.b);this.b.clear()}catch(a){this.M.info(a)}};Bi.prototype.Hi=Ch;/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Ci(){O.call(this)}A(Ci,O);u=Ci.prototype;u.Xb=function(a){return a=="erase"};u.Gc=Bh("erase");u.M=E("kemia.controller.plugins.Erase");u.Uc=function(a,b,c){this.qa=c};
u.Ee=function(a){if(this.qa){var b=gi(this.b,a);this.b.$.style.cursor="default";a.currentTarget.m&&a.currentTarget.m.clear();if(b instanceof T){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.m=a.currentTarget.m?this.yb(b,a.currentTarget.m):this.yb(b);return k}else if(b instanceof W){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.m=a.currentTarget.m?this.ic(b,a.currentTarget.m):this.ic(b);return k}else if(b instanceof
U){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.m=a.currentTarget.m?this.od(b,a.currentTarget.m):this.od(b);return k}else if(b instanceof Qh){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';a.currentTarget.m=a.currentTarget.m?this.Je(b,a.currentTarget.m):this.Je(b);return k}else if(b instanceof Mh){this.b.$.style.cursor='url("../../elements/images/erase-cursor-32.png") 0 32,  hand';if(a.currentTarget.Gk)a.currentTarget.m=
this.Ie(b,a.currentTarget.m);else a.currentTarget.Gk=this.Ie(b)}else{a.currentTarget.m=undefined;return n}}return n};u.ib=function(a){var b=n;if(this.qa){Q(this.b);a=gi(this.b,a);if(a instanceof T){Di(this,a);b=k}if(a instanceof W){Ei(this,a);b=k}if(a instanceof U){(b=a.Ja)?Fi(b,a):Sa(this.b.r,a);S(this.b,this.b.r);b=k}if(a instanceof Qh){Sa(a.Ja.Hb,a);a.Ja=undefined;S(this.b,this.b.r);b=k}if(a instanceof Mh){Sa(a.Ja.ia,a);a.Ja=undefined;S(this.b,this.b.r);b=k}P(this.b)}return b};
function Di(a,b){var c=b.u;B(b.g.L(),function(d){ni(c,d)});oi(c,b);c.e.length==0&&Fi(c.Ja,c);S(a.b,a.b.r)}function Ei(a,b){var c=a.b.r,d=b.u;ni(d,b);var e=Gi(d);Kb(a.M,"fragements.length: "+e.length);var f=d.Ja;if(f){Fi(f,d);B(e,function(h){ri(f,h)})}S(a.b,c)}u.xd=function(){this.qa=n;this.b.$.style.cursor="default"};u.queryCommandValue=function(a){var b=l;if(a=="erase")b=this.qa;return b};u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"#ff6666",b)};
u.ic=function(a,b){return this.b.k.ca.Jd.l(a).ka(a,"#ff6666",b)};u.Je=function(a,b){return this.b.k.dg.ka(a,"#ff6666",b)};u.Ie=function(a,b){return this.b.k.nf.ka(a,"#ff6666",b)};u.od=function(a,b){return this.b.k.ca.ka(a,"#ff6666",b)};function Hi(a){a=String(a);var b;b=/^\s*$/.test(a)?n:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{return eval("("+a+")")}catch(c){}g(Error("Invalid JSON string: "+a))}function Ii(a){return Ji(new Ki,a)}function Ki(){}function Ji(a,b){var c=[];Li(a,b,c);return c.join("")}
function Li(a,b,c){switch(typeof b){case "string":Mi(a,b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==l){c.push("null");break}if(ia(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++){c.push(e);Li(a,b[f],c);e=","}c.push("]");break}c.push("{");d="";for(e in b)if(b.hasOwnProperty(e)){f=b[e];if(typeof f!="function"){c.push(d);Mi(a,e,c);c.push(":");Li(a,f,c);d=","}}c.push("}");break;case "function":break;
default:g(Error("Unknown type: "+typeof b))}}var Ni={'"':'\\"',"\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","":"\\u000b"},Oi=/\uffff/.test("?")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function Mi(a,b,c){c.push('"',b.replace(Oi,function(d){if(d in Ni)return Ni[d];var e=d.charCodeAt(0),f="\\u";if(e<16)f+="000";else if(e<256)f+="00";else if(e<4096)f+="0";return Ni[d]=f+e.toString(16)}),'"')};function Pi(a,b){this.e=a;this.g=b;this.ea=Array(3);this.qb=l}Pi.prototype.lb=function(a,b){this.ea[a]=b};Pi.prototype.wa=function(){if(!this.qb){for(var a=0,b=0,c=0,d=this.e.length;c<d;c++){a+=this.e[c].a.x;b+=this.e[c].a.y}this.qb=new L(a/this.e.length,b/this.e.length)}return this.qb};Pi.prototype.toString=function(){return"kemia.ring.Ring \n\t"+C(this.e,function(a){return" "+a.toString()},this).join("\n\t")+"\n\t"+C(this.g,function(a){return" "+a.toString()},this).join("\n\t")+"\n\t"};function Qi(a){this.e=a}function Ri(a){var b=a.e.length-1;return a.e.length>2&&a.e[0]==a.e[b]}
Qi.prototype.splice=function(a){var b;var c=a.e,d=this.e.length-1,e=c.length-1;if(this.e[d]==c[0]||this.e[d]==c[e])b=this.e[d];else if(this.e[0]==c[0]||this.e[0]==c[e])b=this.e[0];else g("Couldn't splice - no intersection");c=[];d=0;for(e=this.e.length;d<e;d++)c.push(this.e[d]);this.e[0]==b&&c.reverse();if(a.e[0]==b){d=1;for(e=a.e.length;d<e;d++)c.push(a.e[d])}else for(d=a.e.length-2;d>=0;d--)c.push(a.e[d]);a:{a=1;for(b=c.length-1;a<b;a++)for(d=1;d<b;d++)if(a!=d)if(c[a]==c[d]){a=n;break a}a=k}if(!a)return l;
return new Qi(c)};function Si(a){this.Ec=[];this.e=[];for(var b=0,c=a.Bb();b<c;b++){var d=a.g[b];this.Ec.push(new Qi([d.source,d.target]))}b=0;for(c=Y(a);b<c;b++)this.e.push(a.e[b])}
Si.prototype.remove=function(a,b){for(var c=[],d=0,e=this.Ec.length;d<e;d++){var f=this.Ec[d];if(Ri(f))D(f.e,a)&&c.push(f);else{var h=f.e.length-1;if(f.e[0]==a||f.e[h]==a)c.push(f)}}d=[];f=0;for(h=c.length;f<h;f++)Ri(c[f])&&d.push(c[f]);f=0;for(h=d.length;f<h;f++){D(c,d[f])&&Sa(c,d[f]);D(this.Ec,d[f])&&Sa(this.Ec,d[f])}e=[];f=0;for(h=c.length;f<h;f++)for(var i=f+1;i<h;i++){var j=c[i].splice(c[f]);j!=l&&e.push(j)}f=0;for(h=c.length;f<h;f++)D(this.Ec,c[f])&&Sa(this.Ec,c[f]);f=0;for(h=e.length;f<h;f++)!D(this.Ec,
e[f])&&e[f].e.length<=b+1&&this.Ec.push(e[f]);Sa(this.e,a);return d};function Ti(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];e instanceof Array?b.push(Ti(e)):b.push(e)}return b}function Ui(a,b,c){if(a.length)a.push(b[0].concat(c[0]));else a[0]=b[0].concat(c[0])}function Vi(a,b){return a.Cnum-b.Cnum}
function Wi(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var h=b[e];if(a.length>=h.length){for(var i=k,j=0,m=h.length;j<m;j++)D(a,h[j])||(i=n);if(i)return k}j=0;for(m=a.length;j<m;j++)D(h,a[j])&&d[j]++}b=n;j=0;for(m=a.length;j<m;j++)if(d[a[j]]<c[a[j]]-1)b=k;if(b){j=0;for(m=a.length;j<m;j++)d[a[j]]++;return n}return k}function Xi(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=b.g[a[d]],h=Yi(b,f.source);f=Yi(b,f.target);D(c,h)||c.push(h);D(c,f)||c.push(f)}return c}
function Zi(a){var b=a.Bb()-Y(a)+1;if(!b)return[];var c;c=Y(a);for(var d=[],e=0;e<c;e++){for(var f=[],h=0;h<c;h++)if(e==h)f.push(0);else $i(a,a.e[e],a.e[h])?f.push(1):f.push(99999999);d.push(f)}e=[];for(f=0;f<c;f++){h=[];for(var i=0;i<c;i++){var j=$i(a,a.e[f],a.e[i]);j?h.push([[Ma(a.g,j)]]):h.push([])}e.push(h)}f=[];for(h=0;h<c;h++){i=[];for(j=0;j<c;j++)i.push([]);f.push(i)}for(h=0;h<c;h++)for(i=0;i<c;i++)for(j=0;j<c;j++){var m=d[i][j],o=d[i][h]+d[h][j],p=e[i][h],q=e[h][j];if(o!=1E8)if(m>o){f[i][j]=
m==o+1?Ti(e[i][j]):[];d[i][j]=o;e[i][j]=[p[0].concat(q[0])]}else if(m==o)p.length&&q.length&&Ui(e[i][j],p,q);else if(m==o-1)Ui(f[i][j],p,q);else d[i][j]=d[i][j]}c={D:d,Pe1:e,Pe2:f};d=c.D;e=c.Pe1;f=c.Pe2;h=d.length;c=[];for(i=0;i<h;i++)for(j=0;j<h;j++)d[i][j]==0||e[i][j].length==1&&f[i][j].length==0||c.push({Cnum:f[i][j].length?2*(d[i][j]+0.5):2*d[i][j],Pe1:e[i][j],Pe2:f[i][j]});c.sort(Vi);a:{d=[];e=[];f=0;for(h=Y(a);f<h;f++)e.push(a.e[f].Bb());i=[];for(f=0;f<Y(a);f++)i[f]=0;f=0;for(h=c.length;f<h;f++){j=
c[f];if(j.Cnum%2){m=0;for(o=j.Pe2.length;m<o;m++){p=p=j.Pe1[0].concat(j.Pe2[m]);q=d;var t=e,v=i,y=Xi(p,a);if(p.length===y.length)Wi(y,q,t,v)||q.push(y);if(d.length==b){b=d;break a}}}else{m=0;for(o=j.Pe1.length-1;m<o;m++){p=p=j.Pe1[m].concat(j.Pe1[m+1]);q=d;t=e;v=i;y=Xi(p,a);if(p.length===y.length)Wi(y,q,t,v)||q.push(y);if(d.length==b){b=d;break a}}}}b=d}c=0;for(d=b.length;c<d;c++){e=b;f=c;h=b[c];i=a;j=[h[0]];m=i.e[h[0]];for(o=0;h.length!=j.length;){o++;if(o>1E3)break;p=1;for(q=h.length;p<q;p++){t=
i.e[j[j.length-1]];v=i.e[h[p]];if(!D(j,h[p]))if($i(i,t,v))j.push(h[p]);else $i(i,m,v)&&Xa(j,0,0,h[p])}}e[f]=j}return b};function aj(a,b){for(var c=[],d=0,e=a.length;d<e;d++)c.push(b.e[a[d]]);e=[];d=0;for(var f=c.length-1;d<f;d++){var h=$i(b,c[d],c[d+1]);h!=l&&e.push(h)}h=$i(b,c[0],c[c.length-1]);h!=l&&e.push(h);return new Pi(c,e)};function bj(a,b,c,d,e,f){if(arguments.length==6)this.setTransform(a,b,c,d,e,f);else if(arguments.length!=0)g(Error("Insufficient matrix parameters"));else{this.ha=this.sa=1;this.ya=this.Ea=this.jb=this.kb=0}}u=bj.prototype;u.ja=function(){return new bj(this.ha,this.ya,this.Ea,this.sa,this.jb,this.kb)};u.setTransform=function(a,b,c,d,e,f){if(!ka(a)||!ka(b)||!ka(c)||!ka(d)||!ka(e)||!ka(f))g(Error("Invalid transform parameters"));this.ha=a;this.ya=b;this.Ea=c;this.sa=d;this.jb=e;this.kb=f;return this};
u.scale=function(a,b){this.ha*=a;this.ya*=a;this.Ea*=b;this.sa*=b;return this};u.translate=function(a,b){this.jb+=a*this.ha+b*this.Ea;this.kb+=a*this.ya+b*this.sa;return this};u.rotate=function(a,b,c){a=cj(new bj,a,b,c);b=this.ha;c=this.Ea;this.ha=a.ha*b+a.ya*c;this.Ea=a.Ea*b+a.sa*c;this.jb+=a.jb*b+a.kb*c;b=this.ya;c=this.sa;this.ya=a.ha*b+a.ya*c;this.sa=a.Ea*b+a.sa*c;this.kb+=a.jb*b+a.kb*c;return this};
u.toString=function(){return"matrix("+[this.ha,this.ya,this.Ea,this.sa,this.jb,this.kb].join(",")+")"};u.transform=function(a,b,c,d,e){var f=b;d=d;for(b=b+2*e;f<b;){e=a[f++];var h=a[f++];c[d++]=e*this.ha+h*this.Ea+this.jb;c[d++]=e*this.ya+h*this.sa+this.kb}};u.ob=function(){var a=this.ha*this.sa-this.Ea*this.ya;return new bj(this.sa/a,-this.ya/a,-this.Ea/a,this.ha/a,(this.Ea*this.kb-this.sa*this.jb)/a,(this.ya*this.jb-this.ha*this.kb)/a)};
function dj(a,b){return(new bj).setTransform(1,0,0,1,a,b)}function ej(a,b,c){return a.setTransform(b,0,0,c,0,0)}function cj(a,b,c,d){var e=Math.cos(b);b=Math.sin(b);return a.setTransform(e,b,-b,e,c-c*e+d*b,d-c*b-d*e)};function fj(a,b,c,d,e,f){bj.call(this);arguments.length==6&&this.setTransform(a,b,c,d,e,f)}A(fj,bj);function R(a,b){var c=C(b,function(f){return[f.x,f.y]}),d=cb(c);c=[];a.transform(d,0,c,0,d.length/2);d=[];for(var e=0;e<c.length;e+=2)d.push(new L(c[e],c[e+1]));return d}function qi(a,b){return R(a,b)}fj.prototype.ob=function(){var a=this.ha*this.sa-this.Ea*this.ya;return new fj(this.sa/a,-this.ya/a,-this.Ea/a,this.ha/a,(this.Ea*this.kb-this.sa*this.jb)/a,(this.ya*this.jb-this.ha*this.kb)/a)};function U(a){this.g=[];this.e=[];this.name=a?a:"";this.id=undefined;this.nj=[];this.Zf=k;this.Eb=[];this.Sd=0}function mi(a,b){var c=Yi(a,b.source),d=Yi(a,b.target);if(a.Eb[c]!=a.Eb[d]){var e;if(a.Eb[c]<a.Eb[d]){c=a.Eb[c];e=a.Eb[d]}else{e=a.Eb[c];c=a.Eb[d]}a.Sd--;d=0;for(var f=a.e.length;d<f;d++)if(a.Eb[d]==c)a.Eb[d]=e}a.g.push(b);b.source.g.add(b);b.target.g.add(b);pi(a,b.source);pi(a,b.target);b.u=a}
function gj(a){var b=1.25;if(a.g.length)b=Oa(a.g,function(c,d){return c+yc(d.source.a,d.target.a)},0)/a.g.length;return b}function $i(a,b,c){a=b.g.L();for(var d=0,e=a.length;d<e;d++){var f=a[d];if(V(f,b)==c)return f}return l}function Yi(a,b){return Ma(a.e,b)}function oi(a,b){var c;if(b.constructor==Number)c=a.e[b];else if(b.constructor==T)c=b;var d=c.g.L();B(d,function(e){Sa(this.g,e)},a);c.g.clear();Sa(a.e,c);c.u=undefined}
function ni(a,b){var c;c=b.constructor==Number?a.g[b]:b;c.source.g.remove(c);c.target.g.remove(c);if(c.source.g.L().length==0){Sa(a.e,c.source);c.source.u=undefined}if(c.target.g.L().length==0){Sa(a.e,c.target);c.target.u=undefined}Sa(a.g,c);c.u=undefined;c.source=undefined;c.target=undefined}function Y(a){return a.e.length}u=U.prototype;u.Bb=function(){return this.g.length};function pi(a,b){if(!D(a.e,b)){var c=a.e.length;a.Sd++;a.Eb[c]=a.Sd;a.e.push(b);b.u=a}}
function hj(a){if(a.Zf){var b;if(a.Bb()-Y(a)+a.Sd){b=0;for(var c=a.e.length;b<c;b++){var d=a.e[b];d.index=b;d.oc=undefined;d.ee=undefined;a.e[b].index=b}b=0;for(c=a.g.length;b<c;b++)a.g[b].index=b;if(c=Y(a)){b=bb(n,c);c=bb(n,c);d=[];var e=a.e[0];e.oc=0;d.push(e);for(b[0]=k;;){if(!d.length)break;e=d[0];Ta(d,0);for(var f=e.g.L(),h=0,i=f.length;h<i;h++){var j=f[h],m=j.index;if(!c[m]){c[m]=k;var o=V(j,e);j=o.index;if(b[j]){j=[];if(e.oc==o.oc){j.push(e);j.push(o)}else{o.ee=k;var p=vi(o);m=0;for(var q=
p.length;m<q;m++){var t=p[m];t.oc==o.oc-1&&j.push(t)}}for(o=e.oc;;){j[0].ee=k;j[1].ee=k;o--;p=vi(j[0]);m=0;for(q=p.length;m<q;m++)if(p[m].oc==o){j[0]=p[m];break}p=vi(j[1]);m=0;for(q=p.length;m<q;m++)if(p[m].oc==o){j[1]=p[m];break}if(j[0]==j[1]){j[0].ee=k;break}}}else{o.oc=e.oc+1;b[j]=k;d.push(o)}}}}}b=[];e=Y(a);c=bb(n,e);d=bb(n,e);e=bb(-1,e);f=0;for(h=Y(a);f<h;f++){j=a.e[f];if(!c[j.index])if(j.ee){i=new U;q=[];q.push(j);c[0]=k;t=new T;t.Mf=j.index;e[j.index]=0;for(pi(i,t);;){if(!q.length)break;o=
q[0];Ta(q,0);p=o.g.L();j=0;for(m=p.length;j<m;j++){var v=p[j];t=v.index;if(!d[t]){d[t]=k;v=V(v,o);t=v.index;if(v.ee){if(c[t]){t=$i(a,o,v);var y=new W(i.e[e[o.index]],i.e[e[v.index]]);y.Mf=t.index}else{c[t]=k;q.push(v);t=new T;t.Mf=v.index;e[v.index]=i.e.length;pi(i,t);v=$i(a,o,v);y=new W(i.e[e[o.index]],t);y.Mf=v.index}mi(i,y)}}}}j=0;for(m=i.e.length;j<m;j++)i.e[j].index=j;j=0;for(m=i.g.length;j<m;j++)i.g[j].index=j;j=i.g.length-i.e.length+1;m=i;q=[];o=new Si(m);p=0;for(t=Y(m);p<t;p++){v=o.remove(m.e[p],
6);for(y=0;y<v.length;y++){var H=v[y].e;Ta(H,H.length-1);for(var J=0,na=H.length;J<na;J++)H[J]=Yi(m,H[J]);q.push(H)}}$a(q);m=q;if(m.length>=j){m=m;q=j;y=i;o=[];p=[];t=0;for(v=Y(y);t<v;t++)p.push(y.e[t].Bb());y=bb(0,Y(y));t=0;for(v=m.length;t<v;t++){H=m[t];if(!Wi(H,o,p,y)){o.push(H);if(o.length==q)break}}q=o;if(q.length<j)q=Zi(i)}else q=Zi(i);j=0;for(m=q.length;j<m;j++){o=q[j];p=0;for(t=o.length;p<t;p++)o[p]=i.e[o[p]].Mf}j=0;for(i=q.length;j<i;j++)b.push(aj(q[j],a))}}b=b}else b=[];a.nj=b;a.Zf=n}return a.nj}
u.ja=function(){var a=new U(this.name);B(this.e,function(b){pi(a,b)});B(this.g,function(b){mi(a,b)});return a};function Gi(a){var b=a.ja();if(b.Sd==1)return[b];var c=new pb;B(b.e,function(d){var e=b.Eb[Yi(b,d)];rb(c.Ua,e)==n&&c.Jb(e,new U);pi(c.l(e),d)});B(b.g,function(d){var e=b.Eb[Yi(b,d.source)];mi(c.l(e),d)});return c.L()}function ij(a,b){for(var c=[],d=a.g.length,e=0;e<d;e++)if(a.g[e].source==b||a.g[e].target==b)c.push(a.g[e]);return c}
u.toString=function(){return"kemia.model.Molecule - name: "+this.name+"\n\t"+C(this.e,function(a){return" "+Yi(this,a)+": "+a.toString()},this).join("\n\t")+"\n\t"+C(this.g,function(a){return" "+Yi(this,a.source)+", "+Yi(this,a.target)+":  "+a.toString()},this).join("\n\t")+"\n\t"+C(hj(this),function(a){return a.toString()}).join("\n\t")};u.wa=function(){var a=jj(this);return new L((a.left+a.right)/2,(a.top+a.bottom)/2)};function jj(a){return Wd.apply(l,C(a.e,function(b){return b.a}))}
u.rotate=function(a,b){b!==undefined||(b=this.wa());var c=cj(new fj,N(a),b.x,b.y);B(this.e,function(d){d.a=R(c,[d.a])[0]})};u.scale=function(a){var b=ej(new fj,a,a);B(this.e,function(c){c.a=R(b,[c.a])[0]})};u.translate=function(a){B(this.e,function(b){b.a=M(b.a,a)})};
function kj(a,b,c,d,e,f){Ja(D(b.g,c));Ja(D(a.g,d));Ja(D(e.g.L(),c));Ja(D(f.g.L(),d));var h=gj(a)/gj(b);b.scale(h);h=Lh(zc(f.a,e.a));var i=V(d,f),j=V(c,e);b.rotate(180+Ug(Tg(e.a.x,e.a.y,j.a.x,j.a.y),Tg(i.a.x,i.a.y,f.a.x,f.a.y)),e.a);b.translate(h);var m=[c];B(e.g.L(),function(o){if(!D(m,o)){e==o.source?o.source=f:o.target=f;m.push(o);mi(this,o)}},a);j=V(c,e);i=V(d,f);B(j.g.L(),function(o){if(!D(m,o)){j==o.source?o.source=i:o.target=i;mi(this,o);m.push(o)}},a);c=Na(b.g,function(o){return!D(m,o)});B(c,
function(o){mi(this,o)},a);b.g.length=0;b.e.length=0;b.Ja&&Fi(b.Ja,b);delete b;a.Zf=k;return a}function ii(a,b,c,d,e){var f=1.25,h=b.g.L();if(h.length)f=Oa(h,function(j,m){return j+yc(m.source.a,m.target.a)},0)/h.length;h=wi(b);if(h!=undefined){var i="C";if(e)i=e;e=new T(i,b.a.x+f*Math.cos(N(h)),b.a.y+f*Math.sin(N(h)));b=new W(b,e,c,d);pi(a,e);mi(a,b);return b}}u.M=E("kemia.model.Molecule");/*
 Copyright 2010 Paul Novak (paul@wingu.com)

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Ai(){this.wi="";this.sd=[];this.ia=[];this.Hb=[]}u=Ai.prototype;u.M=E("kemia.model.Reaction");
u.wg=function(a){var b=this.Vd(),c=new Kh(0,0),d=jj(a);if(b.length>0){b=lj(b);if(d.left<=b.right&&b.left<=d.right&&d.top<=b.bottom&&b.top<=d.bottom)c=new Kh(b.right-d.left+3,0)}a.translate(c);if(!this.nh(a)){c=this.Ud();d=jj(a).right+3;if(this.ia.length>0)d-=this.ia[0].source.x;var e=new Kh(d,0);B(this.ia,function(f){f.translate(e)});B(this.Hb,function(f){f.translate(e)});B(c,function(f){f.translate(e)})}Ja(this.nh(a));this.Hb.length=0;ri(this,a)};u.Vd=function(){return Na(this.sd,this.nh,this)};
u.Ud=function(){return Na(this.sd,this.mh,this)};function ri(a,b){a.sd.push(b);b.Ja=a}u.Yh=function(a,b){if(this.ia.length==0){var c=this.Vd();if(c.length>0){c=lj(c);c=new Mh(new L(c.right+3,(c.top+c.bottom)/2))}else c=new Mh(new L(3,0));Th(this,c)}c=jj(a);var d=this.Ud(),e=0;if(d.length==0||b)e+=this.ia[0].target.x;else{d=lj(d);e+=d.right}e+=3;e-=c.left;if(e!=0){a.translate(new Kh(e,0));this.Hb.length=0}Ja(this.mh(a));ri(this,a)};
u.nh=function(a){return this.ia.length>0?this.ia[0].Ef(a.wa())==Ph:k};u.mh=function(a){return this.ia.length>0?this.ia[0].Ef(a.wa())==Oh:n};function Fi(a,b){Sa(a.sd,b);b.Ja=undefined}function Th(a,b){if(a.ia.length)a.ia[0].Ja=undefined;a.ia.length=0;a.ia[0]=b;b.Ja=a}u.hg=function(a){this.ia.length>0&&this.ia[0].hg(a)};u.fg=function(a){this.ia.length>0&&this.ia[0].fg(a)};u.gk=r("Hb");
u.Zg=function(a){var b;$a(a,function(c,d){return ab(jj(c).left,jj(d).left)});B(a,function(c){if(b){var d,e=jj(b);d=jj(c);e=new Kh(e.right,e.top);d=e.add((new Kh(d.left,d.bottom)).df(e).scale(0.5));d=new Qh(d);this.Hb.push(d);d.Ja=this}b=c},this)};function lj(a){a=cb(C(a,function(b){return b.e}));a=C(a,function(b){return b.a});return a.length>0?Wd.apply(l,a):l}
function mj(a){if(a.ia.length>0){var b=a.ia[0],c=lj(a.Vd());a=lj(a.Ud());if(c||a){c||(c=new Vd(a.top,a.left-1,a.bottom,a.left-1));a||(a=new Vd(c.top,c.right+1,c.bottom,c.right+1));c=new Kh(c.right,c.top);c=c.add((new Kh(a.left,a.bottom)).df(c).scale(0.5));c=Lh(c).df(Lh(b.wa()));b.translate(c)}}}u.translate=function(a){B(this.sd,function(b){b.translate(a)});B(this.Hb,function(b){b.translate(a)});B(this.ia,function(b){b.translate(a)})};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function nj(a){if(a.Fa==ji)return"SINGLE_BOND";if(a.Fa==2)return"DOUBLE_BOND";if(a.Fa==3)return"TRIPLE_BOND";if(a.Fa==4)return"QUADRUPLE_BOND";g(Error("Invalid bond type ["+a.toString()+"]"))}function oj(a){if(a.fa==11)return"SINGLE_BOND_UP";if(a.fa==13)return"SINGLE_BOND_DOWN";if(a.fa==12)return"SINGLE_BOND_UP_OR_DOWN";return"NOT_STEREO"}
function pj(a,b,c,d){switch(a){case "SINGLE_BOND":switch(b){case "NOT_STEREO":return new W(c,d);case "SINGLE_BOND_UP":return new W(c,d,ji,11);case "SINGLE_BOND_UP_OR_DOWN":return new W(c,d,ji,12);case "SINGLE_BOND_DOWN":return new W(c,d,ji,13);default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}case "DOUBLE_BOND":return new W(c,d,2);case "TRIPLE_BOND":return new W(c,d,3);case "QUADRUPLE_BOND":return new W(c,d,4);case "AROMATIC":return new W(c,d,undefined,undefined,k);default:g(Error("invalid bond type/stereo ["+
a+"]/["+b+"]"))}}function qj(a){a=a.constructor==String?Hi(a):a;var b=new U;b.name=a.name;b.id=a.id;B(a.atoms,function(c){pi(b,new T(c.symbol,c.coord.x,c.coord.y,c.charge))});B(a.bondindex,function(c){mi(b,pj(c.type,c.stereo,b.e[c.source],b.e[c.target]))});return b}
function rj(a){var b=C(a.e,function(d){return{symbol:d.T,coord:{x:d.a.x,y:d.a.y},charge:d.Ya}}),c=C(a.g,function(d){var e=nj(d),f=oj(d),h=Yi(a,d.source),i=Yi(a,d.target);Ja(h>-1);Ja(i>-1);return{source:Yi(a,d.source),target:Yi(a,d.target),type:e,stereo:f}});return{name:a.name,id:a.id,atoms:b,bondindex:c}}function sj(a){return{source:{x:a.source.x,y:a.source.y},target:{x:a.target.x,y:a.target.y}}}function tj(a){return{x:a.a.x,y:a.a.y}}
function uj(a,b){var c;c=a.constructor==String?Hi(a):a;var d=new Ai,e=[];if(c.reactants)e=C(c.reactants,qj);var f=[];if(c.products)f=C(c.products,qj);d.wi=c.header;if(c.arrows)B(c.arrows,function(h){Th(d,new Mh(new L(h.source.x,h.source.y),new L(h.target.x,h.target.y)))});else f.length>0&&Th(d,new Mh);d.hg(c.reagents_text);d.fg(c.conditions_text);c.pluses&&B(c.pluses,function(h){h=new Qh(new L(h.x,h.y));d.Hb.push(h);h.Ja=d});B(e,function(h){d.wg(h)});B(f,function(h){d.Yh(h,b)});c.arrows||mj(d);if(d.Hb.length==
0){d.Zg(d.Vd());d.Zg(d.Ud())}return d}function vj(a){var b=a.wi,c=C(a.Vd(),rj),d=C(a.Ud(),rj),e=C(a.ia,sj),f=C(a.Hb,tj),h;if(a.ia.length>0)h=a.ia[0].wh;var i;if(a.ia.length>0)i=a.ia[0].Eg;return{header:b,reactants:c,products:d,reagents_text:h,conditions_text:i,arrows:e,pluses:f}}E("kemia.io.json");/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function wj(){O.call(this)}A(wj,O);wj.prototype.M=E("kemia.controller.plugins.MoleculeEdit");wj.prototype.Xb=function(a){return a=="selectMoleculeTemplate"};wj.prototype.Gc=Bh("selectMoleculeTemplate");var xj=[{id:"benzene",key:"a"}];u=wj.prototype;u.Ae=function(){return xj};
u.Gf=function(a){var b=Ra(xj,function(e){return e.id==a.identifier});if(b){var c=Ra(yj,function(e){return e.name==b.id}),d=this.b.selected;if(d.length)B(d,function(e){if(e instanceof T){Q(this.b);zj(this,e,c);S(this.b,this.b.r);P(this.b);return k}if(e instanceof W){Q(this.b);Aj(this,e,c);S(this.b,this.b.r);P(this.b);return k}},this);else return n}};u.Uc=function(a,b){this.cd=b};
u.ib=function(a){var b=this.b.selected;if(b.length&&this.cd)B(b,function(c){if(c instanceof T){Q(this.b);var d=Va(c.u.e),e=zj(this,c,this.cd);e=Na(e.e,function(f){return!D(d,f)});Bj(this,a,e,c);S(this.b,this.b.r);P(this.b);return k}if(c instanceof W){Q(this.b);Aj(this,c,this.cd);S(this.b,this.b.r);P(this.b);return k}},this);else if(this.cd){Q(this.b);this.ue(qi(this.b.k.transform?this.b.k.transform.ob():this.b.k.ca.transform.ob(),[li(a)])[0],this.cd);S(this.b,this.b.r);P(this.b);return k}};
u.Ee=function(a){if(this.cd){var b=gi(this.b,a);this.b.selected.length=0;this.b.$.style.cursor="default";a.currentTarget.m&&a.currentTarget.m.clear();a.currentTarget.m=undefined;if(b instanceof T){hi(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.yb(b,a.currentTarget.m):this.yb(b);return k}else if(b instanceof W){hi(this.b,b);this.b.$.style.cursor="pointer";a.currentTarget.m=a.currentTarget.m?this.ic(b,a.currentTarget.m):this.ic(b);return k}}return n};
u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"yellow",b)};u.ic=function(a,b){return this.b.k.ca.Jd.l(a).ka(a,"yellow",b)};
function Bj(a,b,c,d){var e=d.a,f=new rf(a.b.$);f.Fj=d.u;f.qb=e;f.Bc=R(a.b.k.transform?a.b.k.transform:a.b.k.ca.transform,[e])[0];f.hb=li(b);f.oe=Tg(f.Bc.x,f.Bc.y,f.hb.x,f.hb.y);f.w=a.b;f.addEventListener("drag",function(){f.Fj.eb.clear();f.sb=f.sb||f.ub;f.tb=f.tb||f.vb;var h=Tg(f.Bc.x,f.Bc.y,f.hb.x+(f.ub-f.sb),f.hb.y+(f.vb-f.tb))-f.oe;h-=h%30;f.oe+=h;var i=cj(new fj,-N(h),f.qb.x,f.qb.y);B(c,function(j){j.a=R(i,[j.a])[0]});S(f.w,f.w.r)});f.addEventListener("end",function(){f.aa()});f.yc(b)}
u.ue=function(a,b){if(b)var c=qj(b);var d=zc(a,c.wa());c.translate(d);if(this.b.r.length>0){d=this.b.r;var e=d[0];if(e instanceof Ai)ri(e,c);else e instanceof U&&d.push(c)}else ri(new Ai,c)};function Aj(a,b,c){a=qj(c);kj(b.u,a,a.g[0],b,a.g[0].target,b.source)}function zj(a,b,c){a=ii(b.u,b,ji,ki);var d=V(a,b);c=qj(c);var e=c.e[0],f=ii(c,e,ji,ki);return kj(b.u,c,f,a,e,d)}u.M=E("kemia.controller.plugins.MoleculeEdit");u.xd=function(){this.cd=undefined};u.queryCommandValue=function(a){if(a=="selectMoleculeTemplate")return this.cd};
u.Wg=function(a){return Na(C(a.e,function(b){var c=Cj(this.b.Pe,{x:b.a.x,y:b.a.y},this);c=Na(c,function(d){if(d instanceof T)if(!D(a.e,d))return k;return n});return c.length>0?[b,c[0]]:n},this),function(b){return b!=n},this)};
var yj=[{name:"benzene",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:3,
target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclohexane",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,
type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopentane",atoms:[{symbol:"C",coord:{x:-2.3083,y:0.4635,z:0},charge:0},{symbol:"C",coord:{x:-2.3083,y:1.9635,z:0},charge:0},{symbol:"C",coord:{x:-0.8817,y:2.427,
z:0},charge:0},{symbol:"C",coord:{x:0,y:1.2135,z:0},charge:0},{symbol:"C",coord:{x:-0.8817,y:0,z:0},charge:0}],bondindex:[{source:1,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopentane-house",atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},
{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.3,y:0,z:0},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"naphthalene",
atoms:[{symbol:"C",coord:{x:2.5981,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:2.5981,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:1.2991,y:3,z:0},charge:0},{symbol:"C",coord:{x:0,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:0,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:1.2991,y:0,z:0},charge:0},{symbol:"C",coord:{x:3.8971,y:3,z:0},charge:0},{symbol:"C",coord:{x:5.1962,y:2.25,z:0},charge:0},{symbol:"C",coord:{x:5.1962,y:0.75,z:0},charge:0},{symbol:"C",coord:{x:3.8971,y:0,z:0},charge:0}],bondindex:[{source:0,
target:1,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:3,target:4,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:4,target:5,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:5,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:6,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:6,target:7,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:7,target:8,type:"SINGLE_BOND",stereo:"NOT_STEREO"},
{source:8,target:9,type:"DOUBLE_BOND",stereo:"NOT_STEREO"},{source:9,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclobutane",atoms:[{symbol:"C",coord:{x:0,y:0},charge:0},{symbol:"C",coord:{x:0,y:1.5},charge:0},{symbol:"C",coord:{x:-1.5,y:1.5000000000000002},charge:0},{symbol:"C",coord:{x:-1.5000000000000002,y:1.1102230246251565E-16},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:3,
type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:3,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]},{name:"cyclopropane",atoms:[{symbol:"C",coord:{x:0,y:0},charge:0},{symbol:"C",coord:{x:0,y:1.5},charge:0},{symbol:"C",coord:{x:-1.2990381056766582,y:0.7500000000000001},charge:0}],bondindex:[{source:0,target:1,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:1,target:2,type:"SINGLE_BOND",stereo:"NOT_STEREO"},{source:2,target:0,type:"SINGLE_BOND",stereo:"NOT_STEREO"}]}];/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Dj(){O.call(this);this.qa={};this.qa[Ej]=k;this.kh=n}A(Dj,O);var Ej="move",Fj=ib({Il:Ej,Ll:"rotate"});u=Dj.prototype;u.Xb=function(a){return a in Fj};u.Gc=Bh("move");u.xd=function(){this.qa[Ej]=n;this.qa.rotate=n};u.Uc=function(a,b,c){this.qa[a]=c};
u.Ee=function(a){if((this.qa[Ej]||this.qa.rotate)&&!this.kh){var b=gi(this.b,a);this.b.selected.length=0;this.b.$.style.cursor="default";a.currentTarget.m&&a.currentTarget.m.clear();if(this.qa.rotate){if(b instanceof U){hi(this.b,b);this.b.$.style.cursor='url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';a.currentTarget.m=a.currentTarget.m?this.od(b,a.currentTarget.m):this.od(b);return k}}else if(b instanceof T){hi(this.b,b);this.b.$.style.cursor="move";a.currentTarget.m=a.currentTarget.m?
this.yb(b,a.currentTarget.m):this.yb(b);return k}else if(b instanceof W){if(b.source.g.L().length==1||b.target.g.L().length==1){hi(this.b,b);this.b.$.style.cursor="move";a.currentTarget.m=a.currentTarget.m?this.ic(b,a.currentTarget.m):this.ic(b)}return k}else if(b instanceof U){hi(this.b,b);this.b.$.style.cursor="move";a.currentTarget.m=a.currentTarget.m?this.od(b,a.currentTarget.m):this.od(b);return k}else if(b instanceof Mh){hi(this.b,b);if(!a.shiftKey){this.b.$.style.cursor="move";a.currentTarget.m=
a.currentTarget.m?this.Ie(b,a.currentTarget.m):this.Ie(b);return k}}else if(b instanceof Qh){hi(this.b,b);if(!a.shiftKey){this.b.$.style.cursor="move";a.currentTarget.m=a.currentTarget.m?this.Je(b,a.currentTarget.m):this.Je(b);return k}}else if(!b){this.b.$.style.cursor="all-scroll";return k}return n}};
u.ib=function(a){if(this.qa[Ej]||this.qa.rotate){a.currentTarget.m&&a.currentTarget.m.clear();a.currentTarget.m=undefined;this.kh=k;var b=gi(this.b,a);if(this.qa.rotate)if(b instanceof U){Q(this.b);this.b.$.style.cursor='url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';Gj(this,a,b);P(this.b);return k}if(this.qa[Ej]){if(b instanceof T){Q(this.b);Hj(this,a,b);P(this.b);return k}if(b instanceof W){Q(this.b);Ij(this,a,b);P(this.b);return k}if(b instanceof U){Q(this.b);if(a.shiftKey){this.b.$.style.cursor=
'url("../../elements/images/rotate-cursor-32.png") 16 16,  pointer';Gj(this,a,b)}else Jj(this,a,b);P(this.b);return k}if(b instanceof Qh){Q(this.b);Kj(this,a,b);P(this.b);return k}if(b instanceof Mh){Q(this.b);Lj(this,a,b);P(this.b);return k}if(!b){Q(this.b);Mj(this,a);P(this.b);return k}}}return n};
u.nd=function(a){try{this.kh=n;var b=Na(Nj(this.b,a),function(e){return e instanceof T&&e!==this.Og},this),c=b.length>0?b[0]:undefined;if(this.Og&&c instanceof T){Q(this.b);U.Hm(this.Og,c);this.Og=undefined;S(this.b,this.b.r);P(this.b);return k}}catch(d){this.M.log(Db,d,void 0)}};u.yb=function(a,b){return this.b.k.ca.zb.ka(a,"#3366ff",b)};u.ic=function(a,b){return this.b.k.ca.Jd.l(a).ka(a,"#3366ff",b)};u.od=function(a,b){var c="#3366ff";if(a.Ja&&a.Ja.mh(a))c="purple";return this.b.k.ca.ka(a,c,b)};
u.Ie=function(a,b){return this.b.k.nf.ka(a,"#3366ff",b)};u.Je=function(a,b){return this.b.k.dg.ka(a,"#3366ff",b)};u.queryCommandValue=function(a){return this.qa[a]};
function Oj(a,b){var c=a.u,d=b.u;B(b.g.L(),function(h){var i=h.ja();b==i.source?i.source=a:i.target=a;mi(d,i);ni(d,h)});oi(d,b);if(c!==d){B(c.e,function(h){pi(d,h)});B(c.g,function(h){h=h.ja();h.u=undefined;mi(d,h)});B(c.e,function(h){oi(c,h)});B(c.g,function(h){ni(c,h)});Fi(c.Ja,c);delete c}var e=d.ja(),f=d.Ja;Fi(f,d);ri(f,e);return e}
function Pj(a,b){Ja(a.u==b.u);var c=b.u;B(b.g.L(),function(f){var h=f.ja();b==h.source?h.source=a:h.target=a;mi(c,h);ni(c,f)});oi(c,b);var d=c.ja();B(d.g,function(f){Ja(f.source);Ja(f.target)});var e=c.Ja;Fi(e,c);ri(e,d);return d}
function Hj(a,b,c){var d=new rf(a.b.$);d.bc=b.clientX;d.cc=b.clientY;d.zg=c;d.w=a.b;d.addEventListener("drag",function(e){d.rb&&B(d.rb,function(h){h.clear()});d.rb=[];d.zg.u.eb&&d.zg.u.eb.clear();new dj(e.clientX-d.bc,e.clientY-d.cc);var f=qi(d.w.k.transform?d.w.k.transform.ob():d.w.k.ca.transform.ob(),[new L(e.clientX,e.clientY),new L(d.bc,d.cc)]);c.a=M(c.a,zc(f[0],f[1]));d.bc=e.clientX;d.cc=e.clientY;d.ug=Ua(c,C(c.g.L(),function(h){var i=V(h,c);return Ua(i,C(i.g.L(),function(j){return V(j,i)}))}));
e=this.b.Wg([c],d.ug);d.gb=Ya(e,0,1);B(e,function(h){d.rb.push(d.w.k.ca.zb.ka(h[0]));d.rb.push(d.w.k.ca.zb.ka(h[1]))});d.w.k.ca.R(d.zg.u,d.w.k.ca.transform)},undefined,a);d.addEventListener("end",function(){try{B(d.gb,function(f){f[0].u==f[1].u?Pj(f[0],f[1]):Oj(f[0],f[1])},this);S(d.w,d.w.r);d.gb=[];d.aa()}catch(e){this.M.log(Db,e,void 0)}},undefined,a);d.yc(b)}
function Ij(a,b,c){var d,e;if(c.source.g.L().length==1){d=c.target;e=c.source}else if(c.target.g.L().length==1){d=c.source;e=c.target}if(d){var f=new rf(a.b.$),h=d.a;f.Bc=R(a.b.k.transform?a.b.k.transform:a.b.k.ca.transform,[h])[0];f.hb=li(b);f.oe=Tg(f.Bc.x,f.Bc.y,f.hb.x,f.hb.y);f.gb=[];f.of=c;f.w=a.b;f.addEventListener("drag",function(i){try{f.rb&&B(f.rb,function(y){y.clear()});f.rb=[];f.sb=f.sb||f.ub;f.tb=f.tb||f.vb;var j=f.ub-f.sb,m=f.vb-f.tb,o=Tg(f.Bc.x,f.Bc.y,f.hb.x+j,f.hb.y+m)-f.oe;o-=o%30;
f.oe+=o;var p=qi(cj(new fj,-N(o),h.x,h.y),[f.of.source.a,f.of.target.a]);f.of.source.a=p[0];f.of.target.a=p[1];S(f.w,f.w.r);var q=gi(f.w,i,new L(f.hb.x+j,f.hb.y+m));if(q instanceof T&&q.u==e.u){var t=Ua(d,C(d.g.L(),function(y){return V(y,d)}));if(!D(t,q)){f.gb=[[q,e]];f.rb.push(f.w.k.ca.zb.ka(e));f.rb.push(f.w.k.ca.zb.ka(q))}}}catch(v){this.M.log(Db,v,void 0)}},undefined,a);f.addEventListener("end",function(){try{B(f.gb,function(j){j[0].u==j[1].u&&Pj(j[0],j[1])},this);S(f.w,f.w.r);f.gb=[];f.aa()}catch(i){this.M.log(Db,
i,void 0)}finally{this.tg=n}},undefined,a);a.tg=k;f.yc(b)}}function Kj(a,b,c){var d=new rf(a.b.$);d.bc=b.clientX;d.cc=b.clientY;d.uh=c;d.w=a.b;d.addEventListener("drag",function(e){new dj(e.clientX-d.bc,e.clientY-d.cc);var f=qi(d.w.k.transform.ob(),[new L(e.clientX,e.clientY),new L(d.bc,d.cc)]);d.uh.a=M(c.a,zc(f[0],f[1]));d.uh.eb.clear();d.w.k.dg.R(d.uh,d.w.k.transform);d.bc=e.clientX;d.cc=e.clientY});d.addEventListener("end",function(){S(d.w,d.w.r);d.aa()});d.yc(b)}
function Lj(a,b,c){var d=new rf(a.b.$);d.bc=b.clientX;d.cc=b.clientY;d.Ql=c;d.w=a.b;d.addEventListener("drag",function(e){new dj(e.clientX-d.bc,e.clientY-d.cc);var f=qi(d.w.k.transform.ob(),[new L(e.clientX,e.clientY),new L(d.bc,d.cc)]);f=zc(f[0],f[1]);c.source=M(c.source,f);c.target=M(c.target,f);c.eb.clear();d.w.k.nf.R(c,d.w.k.transform);d.bc=e.clientX;d.cc=e.clientY});d.addEventListener("end",function(){S(d.w,d.w.r);d.aa()});d.yc(b)}
function Jj(a,b,c){var d=new rf(a.b.$);d.qb=Qj(a.b,c.wa());d.sb=l;d.tb=l;d.Vh=0;d.Wh=0;d.gb=[];d.u=c;d.w=a.b;d.addEventListener("drag",function(){d.rb&&B(d.rb,function(j){j.clear()});d.rb=[];d.gb=[];d.sb=d.sb||d.ub;d.tb=d.tb||d.vb;var e=d.ub-d.sb,f=d.vb-d.tb,h=e-d.Vh,i=f-d.Wh;Rj(d.u.eb,e,f,0,0,0);e=d.w.k.transform?d.w.k.transform:d.w.k.ca.transform;d.u.translate(new Kh(h/e.ha,i/e.sa));d.Vh=d.ub-d.sb;d.Wh=d.vb-d.tb;d.ug=c.e;h=this.b.Wg(c.e,d.ug);if(h.length>1)d.gb=Ya(h,0,2);B(d.gb,function(j){d.rb.push(d.w.k.ca.zb.ka(j[0]));
d.rb.push(d.w.k.ca.zb.ka(j[1]))})},undefined,a);d.addEventListener("end",function(){try{if(d.gb.length==2){var e=d.gb[0][1],f=d.gb[1][1],h=Ra(e.g.L(),function(p){return V(p,e)==f}),i=d.gb[0][0],j=d.gb[1][0],m=Ra(i.g.L(),function(p){return V(p,i)==j});h&&m&&kj(i.u,e.u,h,m,e,i)}S(d.w,d.w.r);d.gb=[];d.aa()}catch(o){this.M.log(Db,o,void 0)}},undefined,a);d.yc(b)}
function Mj(a,b){var c=new rf(a.b.$);c.addEventListener("drag",function(){var d=this.b.k.transform,e=c.screenX-c.Kk,f=c.screenY-c.Lk;if(e||f){var h=new Kh(e/d.ha,f/d.sa);B(this.b.r,function(i){i instanceof Ai&&i.translate(h)});S(this.b,this.b.r)}c.Kk=c.screenX;c.Lk=c.screenY},undefined,a);c.addEventListener("end",function(){S(this.b,this.b.r);c.aa()},undefined,a);c.yc(b)}
function Gj(a,b,c){var d=new rf(a.b.$);d.qb=qi(a.b.k.transform?a.b.k.transform:a.b.k.ca.transform,[c.wa()])[0];d.hb=li(b);d.Hj=Tg(d.qb.x,d.qb.y,d.hb.x,d.hb.y);d.sb=l;d.tb=l;d.eb=c.eb;d.u=c;d.w=a.b;d.addEventListener("drag",function(){d.sb=d.sb||d.ub;d.tb=d.tb||d.vb;d.Uh=Tg(d.qb.x,d.qb.y,d.hb.x+(d.ub-d.sb),d.hb.y+(d.vb-d.tb))-d.Hj;Rj(d.eb,0,0,d.Uh,d.qb.x,d.qb.y)});d.addEventListener("end",function(){d.u.rotate(-d.Uh,d.u.wa());S(d.w,d.w.r);d.aa()});d.yc(b)}u.M=E("kemia.controller.plugins.Move");/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function Sj(){O.call(this);this.Qk=100;this.Dd=[];this.Ve=[];this.Ig=[]}A(Sj,O);var Tj=[{id:"undo",key:27}];Sj.prototype.Ae=function(){return Tj};Sj.prototype.Gf=aa();var Uj=ib({Nl:"undo",Kl:"redo"});u=Sj.prototype;u.Gc=s("UndoRedo");u.Xb=function(a){return a in Uj};u.Uc=function(a){try{if(a=="undo")Vj(this,this.Dd,this.Ve);else a=="redo"&&Vj(this,this.Ve,this.Dd)}catch(b){this.M.info(b)}};
u.rk=function(a){try{var b=Wj(this,a.target);if(this.Ig!=b){this.Dd.push(b);if(this.Dd.length>this.Qk){this.Dd.shift();var c=this.Ve.length;this.Ve.length=0;this.dispatchEvent({type:Xj,state:b});if(this.Dd.length==1||c)this.dispatchEvent(Yj)}}this.Ig=b}catch(d){this.M.info(d)}};function Wj(a,b){var c=b.r,d="[]";if(c)d=C(c,function(e){if(e instanceof Ai)return vj(e);else if(e instanceof U)return rj(e)});return d}
function Vj(a,b,c){if(b.length){var d=b.pop();c.push(d);S(a.b,C(d,function(e){return e.e?qj(e):uj(e,k)}));if(b.length==0||c.length==1)a.dispatchEvent(Yj)}}u.vf=function(a){Sj.h.vf.call(this,a);this.xf=new Sd(this);this.xf.v(a,Zj,this.rk)};u.Lg=function(a){a.Ul();this.xf.aa();this.Ig=this.xf=l};u.p=function(){Sj.h.p.call(this);this.xf.aa();this.b=l};var Yj="state_change",Xj="state_added";Sj.prototype.M=E("kemia.controller.plugins.UndoRedo");
Sj.prototype.queryCommandValue=function(a){var b=n;if(a=="undo")b=this.Dd.length>0;else if(a=="redo")b=this.Ve.length>0;return b};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function $j(){O.call(this)}A($j,O);var ak={Ol:"zoomIn",Pl:"zoomOut"},bk=ib(ak);$j.prototype.Gc=Bh(ak);$j.prototype.Xb=function(a){return a in bk};$j.prototype.execCommand=function(a){try{var b=this.b.k.$e;if(a=="zoomIn")this.b.je(b*1.1);else a=="zoomOut"&&this.b.je(b*0.9);S(this.b,this.b.r)}catch(c){this.M.info(c)}};$j.prototype.M=E("kemia.controller.plugins.Zoom");function ck(a){var b=new tg,c=new xg("File",b),d=yh("clearEditor","Clear all","New");b.Cc(d);c.Ib=k;a.push(c);a.push(new Ig);b=dk("undo","Undo","","tr-icon tr-undo");b.Ib=k;a.push(b);b=dk("redo","Redo","","tr-icon tr-redo");b.Ib=k;a.push(b);a.push(new Ig);b=zh(Ej,"Move","","tr-icon tr-move");b.Ib=k;a.push(b);b=zh("rotate","Rotate","","tr-icon tr-rotate");b.Ib=k;a.push(b);b=zh("erase","Erase","","tr-icon tr-erase");b.Ib=k;a.push(b);a.push(new Ig);return a}
function ek(a){a.push(yh("zoomIn","Zoom In","","tr-icon tr-zoom-in"));a.push(yh("zoomOut","Zoom Out","","tr-icon tr-zoom-out"));a.push(new Ig);return a}
function fk(a){var b=Ah("selectSymbol","Atomic Symbol","Symbol");b.Ib=k;b.jf=function(i){i=i&&i.length>0?i:l;i!=b.Sa()&&b.Ha(i)};var c=new tg;c.ua(new Mg(Mc("DIV",{style:"color:grey"},"H")),k);c.ua(new Mg(Mc("DIV",{style:"color:black"},"C")),k);c.ua(new Mg(Mc("DIV",{style:"color:blue"},"N")),k);c.ua(new Mg(Mc("DIV",{style:"color:red"},"O")),k);c.ua(new Mg(Mc("DIV",{style:"color:yellow"},"S")),k);c.ua(new Mg(Mc("DIV",{style:"color:orange"},"P")),k);c.ua(new Mg(Mc("DIV",{style:"color:green"},"F")),
k);c.ua(new Mg(Mc("DIV",{style:"color:green"},"Cl")),k);c.ua(new Mg(Mc("DIV",{style:"color:DarkRed"},"Br")),k);c.ua(new Mg(Mc("DIV",{style:"color:purple"},"I")),k);c.ua(new sg,k);c.ua(new Mg(Mc("DIV",{style:"color:black"},"R1")),k);c.ua(new Mg(Mc("DIV",{style:"color:black"},"R2")),k);b.ad(c);a.push(b);var d=Ah("selectBond","Bond Type","Bond");d.Ib=k;d.jf=function(i){i!=d.Sa()&&d.Ha(i)};var e=new tg;B(zi,function(i){e.ua(new Mg(i.caption,i),k)});d.ad(e);a.push(d);var f=Ah("selectMoleculeTemplate",
"Template","Template");f.Ib=k;f.jf=function(i){i!=f.Sa()&&f.Ha(i)};var h=new tg;B(yj,function(i){h.ua(new Mg(i.name,i),k)});f.ad(h);a.push(f);return a}function gk(a,b){for(var c=Bc(b),d=[],e=0,f;f=a[e];e++){if(x(f)){var h=void 0;if(f=hk[f]){h=f.factory||zh;var i=f.Vj,j=f.Rm,m=f.caption,o=f.Sl,p=c||Bc();h=h(i,j,m,o,l,p);if(f.Ib)h.Ib=k}f=h}f&&d.push(f)}c=Bc(b);c=new Og(Ng.pa(),fg,c);e=he(b);c.bd(e);c.vc(n);for(f=0;h=d[f];f++){bf(h,32,n);h.bd(e);c.ua(h,k)}c.R(b);return c}
function dk(a,b,c,d,e,f){var h=yh(a,b,c,d,e,f);h.jf=function(i){h.uc(i)};return h}z("Format");z("Format");z("Undo");z("Redo");z("Font");z("Font size");z("Text color");z("Bold");z("Italic");z("Underline");z("Text background color");z("Add or remove link");z("Numbered list");z("Bullet list");z("Decrease indent");z("Increase indent");z("Align left");z("Align center");z("Align right");z("Justify");z("Remove formatting");z("Insert image");z("Strikethrough");z("Left-to-right");z("Right-to-left");z("Quote");
z("Edit HTML source");z("Link");z("Subscript");z("Superscript");z("Edit HTML");for(var hk={},ik=[],jk=0,kk;kk=ik[jk];jk++)hk[kk.Vj]=kk;delete ik;var lk,mk,nk,ok,pk,qk,rk;rk=qk=pk=ok=nk=mk=lk=n;var sk=bc();if(sk)if(sk.indexOf("Firefox")!=-1)lk=k;else if(sk.indexOf("Camino")!=-1)mk=k;else if(sk.indexOf("iPhone")!=-1||sk.indexOf("iPod")!=-1)nk=k;else if(sk.indexOf("iPad")!=-1)ok=k;else if(sk.indexOf("Android")!=-1)pk=k;else if(sk.indexOf("Chrome")!=-1)qk=k;else if(sk.indexOf("Safari")!=-1)rk=k;var tk=mk,uk=nk,vk=ok,wk=pk,xk=qk,yk=rk;var zk;a:{var Ak="",Bk,Ck;if(lk)Bk=/Firefox\/([0-9.]+)/;else if(F||fc){zk=kc;break a}else if(xk)Bk=/Chrome\/([0-9.]+)/;else if(yk)Bk=/Safari\/([0-9.]+)/;else if(uk||vk){Bk=/Version\/(\S+).*Mobile\/(\S+)/;Ck=k}else if(wk)Bk=/Android\s+([0-9.]+)(?:.*Version\/([0-9.]+))?/;else if(tk)Bk=/Camino\/([0-9.]+)/;if(Bk){var Dk=Bk.exec(bc());Ak=Dk?Ck?Dk[1]+"."+Dk[2]:Dk[2]||Dk[1]:""}zk=Ak};F&&K("7.0");G&&K("1.8");F||fc||G&&K("1.9");F||I&&K("525");I&&K("531");I&&K("528");G&&K("1.9")||F||fc||I&&K("531");G||I&&K("526");xk&&Fa(zk,"4")>=0||yk&&Fa(zk,"533");function Ek(){this.bb=[];this.da=[];this.Qb=[]}Ek.prototype.mc=l;Ek.prototype.cb=l;Ek.prototype.yd=k;var Fk=[];Fk[0]=2;Fk[1]=2;Fk[2]=6;Fk[3]=6;Fk[4]=0;u=Ek.prototype;u.clear=function(){this.bb.length=0;this.da.length=0;this.Qb.length=0;delete this.mc;delete this.cb;delete this.yd;return this};u.moveTo=function(a,b){if(this.bb[this.bb.length-1]==0)this.Qb.length-=2;else{this.bb.push(0);this.da.push(1)}this.Qb.push(a,b);this.cb=this.mc=[a,b];return this};
u.lineTo=function(){var a=this.bb[this.bb.length-1];if(a==l)g(Error("Path cannot start with lineTo"));if(a!=1){this.bb.push(1);this.da.push(0)}for(a=0;a<arguments.length;a+=2){var b=arguments[a],c=arguments[a+1];this.Qb.push(b,c)}this.da[this.da.length-1]+=a/2;this.cb=[b,c];return this};
u.ii=function(){var a=this.bb[this.bb.length-1];if(a==l)g(Error("Path cannot start with curve"));if(a!=2){this.bb.push(2);this.da.push(0)}for(a=0;a<arguments.length;a+=6){var b=arguments[a+4],c=arguments[a+5];this.Qb.push(arguments[a],arguments[a+1],arguments[a+2],arguments[a+3],b,c)}this.da[this.da.length-1]+=a/6;this.cb=[b,c];return this};u.close=function(){var a=this.bb[this.bb.length-1];if(a==l)g(Error("Path cannot start with close"));if(a!=4){this.bb.push(4);this.da.push(1);this.cb=this.mc}return this};
u.arcTo=function(a,b,c,d){var e=this.cb[0]-a*Math.cos(N(c))+a*Math.cos(N(c+d)),f=this.cb[1]-b*Math.sin(N(c))+b*Math.sin(N(c+d));this.bb.push(3);this.da.push(1);this.Qb.push(a,b,c,d,e,f);this.yd=n;this.cb=[e,f];return this};
u.Rj=function(a,b,c,d){var e=this.cb[0]-a*Math.cos(N(c)),f=this.cb[1]-b*Math.sin(N(c)),h=N(d);d=Math.ceil(Math.abs(h)/Math.PI*2);h=h/d;c=N(c);for(var i=0;i<d;i++){var j=Math.cos(c),m=Math.sin(c),o=4/3*Math.sin(h/2)/(1+Math.cos(h/2)),p=e+(j-o*m)*a,q=f+(m+o*j)*b;c+=h;j=Math.cos(c);m=Math.sin(c);this.ii(p,q,e+(j+o*m)*a,f+(m-o*j)*b,e+j*a,f+m*b)}return this};function Gk(a,b){for(var c=a.Qb,d=0,e=0,f=a.bb.length;e<f;e++){var h=a.bb[e],i=Fk[h]*a.da[e];b(h,c.slice(d,d+i));d+=i}}
u.ja=function(){var a=new this.constructor;a.bb=this.bb.concat();a.da=this.da.concat();a.Qb=this.Qb.concat();a.mc=this.mc&&this.mc.concat();a.cb=this.cb&&this.cb.concat();a.yd=this.yd;return a};var Hk={};Hk[0]=Ek.prototype.moveTo;Hk[1]=Ek.prototype.lineTo;Hk[4]=Ek.prototype.close;Hk[2]=Ek.prototype.ii;Hk[3]=Ek.prototype.Rj;function Ik(a){if(a.yd)return a.ja();var b=new Ek;Gk(a,function(c,d){Hk[c].apply(b,d)});return b}
Ek.prototype.transform=function(a){if(!this.yd)g(Error("Non-simple path"));a.transform(this.Qb,0,this.Qb,0,this.Qb.length/2);this.mc&&a.transform(this.mc,0,this.mc,0,1);this.cb&&this.mc!=this.cb&&a.transform(this.cb,0,this.cb,0,1);return this};function Jk(a,b,c,d,e){te.call(this,e);this.width=a;this.height=b;this.fc=c||l;this.te=d||l}A(Jk,te);u=Jk.prototype;u.va=l;u.Pc=0;u.fd=0;function Kk(a){return a.fc?new Ac(a.fc,a.te):a.xb()}u.kd=function(){return this.xb()};u.xb=function(){if(this.Z)return je(this.f());if(ka(this.width)&&ka(this.height))return new Ac(this.width,this.height);return l};function Lk(a){var b=a.xb();return b?b.width/Kk(a).width:0}
function Mk(a,b,c,d,e,f,h,i,j,m,o,p){var q=j.size/2;d=i=="bottom"?d+f-q:i=="center"?d+f/2:d+q;return a.we(b,c,d,c+e,d,h,j,m,o,p)};function Nk(a,b){this.q=a;this.Za=b;this.Jg=n}A(Nk,Ud);u=Nk.prototype;u.Za=l;u.q=l;u.Mh=l;u.f=r("q");function Rj(a,b,c,d,e,f){a.Mh=cj(new bj,N(d),e,f).translate(b,c);a.Za.Eh(a,b,c,d,e,f)}u.addEventListener=function(a,b,c,d){Id(this.q,a,b,c,d)};u.removeEventListener=function(a,b,c,d){Kd(this.q,a,b,c,d)};u.p=function(){Nk.h.p.call(this);Od(this.q)};function Ok(a,b,c,d){Nk.call(this,a,b);this.fj(c);this.dj(d)}A(Ok,Nk);u=Ok.prototype;u.fill=l;u.Lh=l;u.dj=function(a){this.fill=a;this.Za.Ch(this,a)};u.dk=r("fill");u.fj=function(a){this.Lh=a;this.Za.Dh(this,a)};u.nk=r("Lh");function Pk(a,b,c,d){Ok.call(this,a,b,c,d)}A(Pk,Ok);function Qk(a,b){Nk.call(this,a,b)}A(Qk,Nk);function Rk(a,b){Nk.call(this,a,b)}A(Rk,Nk);function Sk(a,b,c,d){Ok.call(this,a,b,c,d)}A(Sk,Ok);function Tk(a,b,c,d){Ok.call(this,a,b,c,d)}A(Tk,Ok);function Uk(a,b,c,d){Ok.call(this,a,b,c,d)}A(Uk,Ok);function Vk(a){Nk.call(this,l,a);this.oa=[]}A(Vk,Qk);Vk.prototype.clear=function(){if(this.oa.length){this.oa.length=0;Wk(this.Za)}};Vk.prototype.Kb=aa();Vk.prototype.appendChild=function(a){this.oa.push(a)};Vk.prototype.gc=function(){for(var a=0,b=this.oa.length;a<b;a++)Xk(this.Za,this.oa[a])};
function Yk(a,b,c,d,e,f,h,i){Ok.call(this,a,b,h,i);this.Xj=c;this.Yj=d;this.bj=e;this.cj=f;this.ud=new Ek;this.ud.clear();this.ud.moveTo(this.Xj+this.bj*Math.cos(N(0)),this.Yj+this.cj*Math.sin(N(0)));this.ud.arcTo(this.bj,this.cj,0,360);this.ud.close();this.bl=new Zk(l,b,this.ud,h,i)}A(Yk,Pk);Yk.prototype.gc=function(a){this.bl.gc(a)};function $k(a,b,c,d,e,f,h,i){Ok.call(this,a,b,h,i);this.le=c;this.ne=d;this.Ed=e;this.ld=f}A($k,Tk);$k.prototype.Rc=n;
$k.prototype.Kb=function(a,b){this.Ed=a;this.ld=b;this.Rc&&Wk(this.Za)};$k.prototype.gc=function(a){this.Rc=k;a.beginPath();a.moveTo(this.le,this.ne);a.lineTo(this.le,this.ne+this.ld);a.lineTo(this.le+this.Ed,this.ne+this.ld);a.lineTo(this.le+this.Ed,this.ne);a.closePath()};function Zk(a,b,c,d,e){Ok.call(this,a,b,d,e);this.Gh(c)}A(Zk,Sk);Zk.prototype.Rc=n;Zk.prototype.Gh=function(a){this.ud=a.yd?a:Ik(a);this.Rc&&Wk(this.Za)};
Zk.prototype.gc=function(a){this.Rc=k;a.beginPath();Gk(this.ud,function(b,c){switch(b){case 0:a.moveTo(c[0],c[1]);break;case 1:for(var d=0;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);break;case 2:for(d=0;d<c.length;d+=6)a.bezierCurveTo(c[d],c[d+1],c[d+2],c[d+3],c[d+4],c[d+5]);break;case 3:g(Error("Canvas paths cannot contain arcs"));case 4:a.closePath()}})};
function al(a,b,c,d,e,f,h,i,j,m){Ok.call(this,l,a,j,m);this.rj=b;this.Bj=c;this.xl=d;this.Cj=e;this.yl=f;this.Lj=h||"left";this.bk=i;this.q=Mc("DIV",{style:"display:table;position:absolute;padding:0;margin:0;border:0"});this.Nf=Mc("DIV",{style:"display:table-cell;padding: 0;margin: 0;border: 0"});c=this.Bj;i=this.Cj;d=this.xl;e=this.yl;j=this.Lj;f=this.bk;b=this.q.style;h=Lk(this.Za);m=this.Za;var o=m.xb();m=o?o.height/Kk(m).height:0;if(c==i){b.lineHeight="90%";this.Nf.style.verticalAlign=j=="center"?
"middle":j=="left"?d<e?"top":"bottom":d<e?"bottom":"top";b.textAlign="center";i=f.size*h;b.top=Math.round(Math.min(d,e)*m)+"px";b.left=Math.round((c-i/2)*h)+"px";b.width=Math.round(i)+"px";b.height=Math.abs(d-e)*m+"px";b.fontSize=f.size*0.6*m+"pt"}else{b.lineHeight="100%";this.Nf.style.verticalAlign="top";b.textAlign=j;b.top=Math.round(((d+e)/2-f.size*2/3)*m)+"px";b.left=Math.round(c*h)+"px";b.width=Math.round(Math.abs(i-c)*h)+"px";b.height="auto";b.fontSize=f.size*m+"pt"}b.fontWeight=f.bold?"bold":
"normal";b.fontStyle=f.oh?"italic":"normal";b.fontFamily=f.Vg;c=this.fill;b.color=c.Ab||c.oi();this.Nf.innerHTML=this.Bj==this.Cj?C(this.rj.split(""),za).join("<br>"):za(this.rj);a.f().appendChild(this.q);this.q.appendChild(this.Nf)}A(al,Uk);al.prototype.dj=function(a){this.fill=a;if(this.q)this.q.style.color=a.Ab||a.oi()};al.prototype.fj=aa();al.prototype.gc=aa();function bl(a,b,c,d,e,f,h){Nk.call(this,a,b);this.le=c;this.ne=d;this.Ed=e;this.ld=f;this.pl=h}A(bl,Rk);bl.prototype.Rc=n;
bl.prototype.Kb=function(a,b){this.Ed=a;this.ld=b;this.Rc&&Wk(this.Za)};bl.prototype.gc=function(a){if(this.yi){this.Ed&&this.ld&&a.drawImage(this.yi,this.le,this.ne,this.Ed,this.ld);this.Rc=k}else{a=new Image;a.onload=ta(this.wk,this,a);a.src=this.pl}};bl.prototype.wk=function(a){this.yi=a;Wk(this.Za)};function cl(a,b){this.size=a;this.Vg=b}cl.prototype.bold=n;cl.prototype.oh=n;function dl(){};function el(a,b){this.Ab=a;this.Qe=b||1}A(el,dl);function fl(a,b){this.Qh=a;this.Ab=b};function gl(a,b,c,d,e){Jk.call(this,a,b,c,d,e)}A(gl,Jk);u=gl.prototype;u.Ch=function(){Wk(this)};u.Dh=function(){Wk(this)};u.Eh=function(){Wk(this)};function hl(a,b){var c=a.getContext();c.save();var d=b.Mh?b.Mh.ja():new bj,e=d.jb,f=d.kb;if(e||f)c.translate(e,f);(d=d.ya)&&c.rotate(Math.asin(d))}u.i=function(){var a=this.Cb.i("div",{style:"position:relative;overflow:hidden"});this.q=a;this.qe=this.Cb.i("canvas");a.appendChild(this.qe);this.qh=this.va=new Vk(this);this.fl=0;il(this)};
u.getContext=function(){this.f()||this.i();if(!this.Ld){this.Ld=this.qe.getContext("2d");this.Ld.save()}return this.Ld};u.Kb=function(a,b){this.width=a;this.height=b;il(this);Wk(this)};u.xb=function(){var a=this.width,b=this.height,c=x(a)&&a.indexOf("%")!=-1,d=x(b)&&b.indexOf("%")!=-1;if(!this.Z&&(c||d))return l;var e,f;if(c){e=this.f().parentNode;f=je(e);a=parseFloat(a)*f.width/100}if(d){e=e||this.f().parentNode;f=f||je(e);b=parseFloat(b)*f.height/100}return new Ac(a,b)};
function il(a){ie(a.f(),a.width,a.height);var b=a.xb();if(b){ie(a.qe,b.width,b.height);a.qe.width=b.width;a.qe.height=b.height;a.Ld=l}}u.reset=function(){var a=this.getContext();a.restore();var b=this.xb();b.width&&b.height&&a.clearRect(0,0,b.width,b.height);a.save()};u.clear=function(){this.reset();this.va.clear();for(var a=this.f();a.childNodes.length>1;)a.removeChild(a.lastChild)};
function Wk(a){if(a.Lm)a.Jm=k;else if(a.Z){a.reset();if(a.fc){var b=a.xb();a.getContext().scale(b.width/a.fc,b.height/a.te)}if(a.Pc||a.fd)a.getContext().translate(-a.Pc,-a.fd);hl(a,a.va);a.va.gc(a.Ld);a.getContext().restore()}}
function Xk(a,b){if(!(b instanceof al)){var c=a.getContext();hl(a,b);if(!b.dk||!b.nk)b.gc(c);else{var d=b.fill;if(d)if(d instanceof el){if(d.Qe!=0){c.globalAlpha=d.Qe;c.fillStyle=d.Ab;b.gc(c);c.fill();c.globalAlpha=1}}else{var e=c.createLinearGradient(d.dm(),d.fm(),d.em(),d.gm());e.addColorStop(0,d.oi());e.addColorStop(1,d.bm());c.fillStyle=e;b.gc(c);c.fill()}if(d=b.Lh){b.gc(c);c.strokeStyle=d.Ab;d=d.Qh;if(x(d)&&d.indexOf("px")!=-1)d=parseFloat(d)/Lk(a);c.lineWidth=d;c.stroke()}}a.getContext().restore()}}
u.Wa=function(a,b){b=b||this.va;b.appendChild(a);this.Z&&!this.fl&&!(b!=this.va&&b!=this.qh)&&Xk(this,a)};u.tf=function(a,b,c,d,e,f,h){a=new Yk(l,this,a,b,c,d,e,f);this.Wa(a,h);return a};u.Pg=function(a,b,c,d,e,f,h){a=new $k(l,this,a,b,c,d,e,f);this.Wa(a,h);return a};u.drawImage=function(a,b,c,d,e,f){a=new bl(l,this,a,b,c,d,e);this.Wa(a,f);return a};u.we=function(a,b,c,d,e,f,h,i,j,m){a=new al(this,a,b,c,d,e,f,h,i,j);this.Wa(a,m);return a};
u.Wb=function(a,b,c,d){a=new Zk(l,this,a,b,c);this.Wa(a,d);return a};u.nc=function(a){var b=new Vk(this);a=a||this.va;if(a==this.va||a==this.qh)this.qh=b;this.Wa(b,a);return b};u.p=function(){this.Ld=l;gl.h.p.call(this)};u.ra=function(){var a=this.xb();gl.h.ra.call(this);if(!a){il(this);this.dispatchEvent("resize")}Wk(this)};function jl(a,b){Nk.call(this,a,b)}A(jl,Qk);jl.prototype.clear=function(){Qc(this.f())};jl.prototype.Kb=function(a,b){kl(this.Za,this.f(),{width:a,height:b})};function ll(a,b,c,d){Ok.call(this,a,b,c,d)}A(ll,Pk);function ml(a,b,c,d){Ok.call(this,a,b,c,d)}A(ml,Tk);ml.prototype.Kb=function(a,b){kl(this.Za,this.f(),{width:a,height:b})};function nl(a,b,c,d){Ok.call(this,a,b,c,d)}A(nl,Sk);nl.prototype.Gh=function(a){kl(this.Za,this.f(),{d:ol(a)})};function pl(a,b,c,d){Ok.call(this,a,b,c,d)}A(pl,Uk);
function ql(a,b){Nk.call(this,a,b)}A(ql,Rk);ql.prototype.Kb=function(a,b){kl(this.Za,this.f(),{width:a,height:b})};function rl(a,b,c,d,e){Jk.call(this,a,b,c,d,e);this.ji={};this.Oh=I&&!K(526);this.Fb=new Sd(this)}var sl;A(rl,Jk);function tl(a,b,c){b=a.Cb.ba.createElementNS("http://www.w3.org/2000/svg",b);c&&kl(a,b,c);return b}function kl(a,b,c){for(var d in c)b.setAttribute(d,c[d])}u=rl.prototype;u.Wa=function(a,b){(b||this.va).f().appendChild(a.f())};u.Ch=function(a,b){var c=a.f();if(b instanceof el){c.setAttribute("fill",b.Ab);c.setAttribute("fill-opacity",b.Qe)}else c.setAttribute("fill","none")};
u.Dh=function(a,b){var c=a.f();if(b){c.setAttribute("stroke",b.Ab);var d=b.Qh;x(d)&&d.indexOf("px")!=-1?c.setAttribute("stroke-width",parseFloat(d)/Lk(this)):c.setAttribute("stroke-width",d)}else c.setAttribute("stroke","none")};u.Eh=function(a,b,c,d,e,f){a.f().setAttribute("transform","translate("+b+","+c+") rotate("+d+" "+e+" "+f+")")};
u.i=function(){var a=tl(this,"svg",{width:this.width,height:this.height,overflow:"hidden"}),b=tl(this,"g");this.Kg=tl(this,"defs");this.va=new jl(b,this);a.appendChild(this.Kg);a.appendChild(b);this.q=a;if(this.fc||this.Pc||this.fd){this.f().setAttribute("preserveAspectRatio","none");this.Oh?this.lg():this.f().setAttribute("viewBox",this.Pc+" "+this.fd+" "+(this.fc?this.fc+" "+this.te:""))}};
u.lg=function(){if(this.Z&&(this.fc||this.Pc||!this.fd)){var a=this.xb();if(a.width==0)this.f().style.visibility="hidden";else{this.f().style.visibility="";var b=-this.Pc,c=-this.fd,d=a.width/this.fc;a=a.height/this.te;this.va.f().setAttribute("transform","scale("+d+" "+a+") translate("+b+" "+c+")")}}};u.Kb=aa();
u.xb=function(){if(!G)return this.Z?je(this.f()):rl.h.xb.call(this);var a=this.width,b=this.height,c=x(a)&&a.indexOf("%")!=-1,d=x(b)&&b.indexOf("%")!=-1;if(!this.Z&&(c||d))return l;var e,f;if(c){e=this.f().parentNode;f=je(e);a=parseFloat(a)*f.width/100}if(d){e=e||this.f().parentNode;f=f||je(e);b=parseFloat(b)*f.height/100}return new Ac(a,b)};u.clear=function(){this.va.clear();Qc(this.Kg);this.ji={}};
u.tf=function(a,b,c,d,e,f,h){a=tl(this,"ellipse",{cx:a,cy:b,rx:c,ry:d});e=new ll(a,this,e,f);this.Wa(e,h);return e};u.Pg=function(a,b,c,d,e,f,h){a=tl(this,"rect",{x:a,y:b,width:c,height:d});e=new ml(a,this,e,f);this.Wa(e,h);return e};u.drawImage=function(a,b,c,d,e,f){a=tl(this,"image",{x:a,y:b,width:c,height:d,"image-rendering":"optimizeQuality",preserveAspectRatio:"none"});a.setAttributeNS("http://www.w3.org/1999/xlink","href",e);e=new ql(a,this);this.Wa(e,f);return e};
u.we=function(a,b,c,d,e,f,h,i,j,m){var o=Math.round(Tg(b,c,d,e));d=d-b;e=e-c;e=Math.round(Math.sqrt(d*d+e*e));var p=h.size;d={"font-family":h.Vg,"font-size":p};p=Math.round(c-p/2+Math.round(p*0.85));var q=b;if(f=="center"){q+=Math.round(e/2);d["text-anchor"]="middle"}else if(f=="right"){q+=e;d["text-anchor"]="end"}d.x=q;d.y=p;if(h.bold)d["font-weight"]="bold";if(h.oh)d["font-style"]="italic";if(o!=0)d.transform="rotate("+o+" "+b+" "+c+")";b=tl(this,"text",d);b.appendChild(this.Cb.ba.createTextNode(a));
if(i==l&&G&&$b){a="black";if(j instanceof el)a=j.Ab;i=new fl(1,a)}j=new pl(b,this,i,j);this.Wa(j,m);return j};u.Wb=function(a,b,c,d){a=tl(this,"path",{d:ol(a)});b=new nl(a,this,b,c);this.Wa(b,d);return b};
function ol(a){var b=[];Gk(a,function(c,d){switch(c){case 0:b.push("M");Array.prototype.push.apply(b,d);break;case 1:b.push("L");Array.prototype.push.apply(b,d);break;case 2:b.push("C");Array.prototype.push.apply(b,d);break;case 3:var e=d[3];b.push("A",d[0],d[1],0,Math.abs(e)>180?1:0,e>0?1:0,d[4],d[5]);break;case 4:b.push("Z")}});return b.join(" ")}u.nc=function(a){var b=tl(this,"g");(a||this.va).f().appendChild(b);return new jl(b,this)};
u.ra=function(){var a=this.xb();rl.h.ra.call(this);a||this.dispatchEvent("resize");if(this.Oh){a=this.width;var b=this.height;typeof a=="string"&&a.indexOf("%")!=-1&&typeof b=="string"&&b.indexOf("%")!=-1&&this.Fb.v(ul(),of,this.lg);this.lg()}};u.wb=function(){rl.h.wb.call(this);this.Oh&&this.Fb.mb(ul(),of,this.lg)};u.p=function(){delete this.ji;delete this.Kg;delete this.va;rl.h.p.call(this)};function ul(){if(!sl){sl=new mf(400);sl.start()}return sl};function vl(){return this.q=this.Za.Cb.f(this.Gb)||this.q}function wl(a,b){this.Gb=a.id;Nk.call(this,a,b)}A(wl,Qk);wl.prototype.f=vl;wl.prototype.clear=function(){Qc(this.f())};wl.prototype.Kb=function(a,b){var c=this.f(),d=c.style;d.width=Z(a)+"px";d.height=Z(b)+"px";c.coordsize=Z(a)+" "+Z(b);if(this.Za.va!=this)c.coordorigin="0 0"};function xl(a,b,c,d,e,f,h,i){this.Gb=a.id;Ok.call(this,a,b,h,i);this.Wl=c;this.Xl=d;this.Nm=e;this.Om=f}A(xl,Pk);xl.prototype.f=vl;
function yl(a,b,c,d){this.Gb=a.id;Ok.call(this,a,b,c,d)}A(yl,Tk);yl.prototype.f=vl;yl.prototype.Kb=function(a,b){var c=this.f().style;c.width=Z(a)+"px";c.height=Z(b)+"px"};function zl(a,b,c,d){this.Gb=a.id;Ok.call(this,a,b,c,d)}A(zl,Sk);zl.prototype.f=vl;zl.prototype.Gh=function(a){Al(this.f(),"path",Bl(a))};function Cl(a,b,c,d){this.Gb=a.id;Ok.call(this,a,b,c,d)}A(Cl,Uk);Cl.prototype.f=vl;function Dl(a,b){this.Gb=a.id;Nk.call(this,a,b)}A(Dl,Rk);Dl.prototype.f=vl;
Dl.prototype.Kb=function(a,b){var c=this.f().style;c.width=El(a)+"px";c.height=El(b)+"px"};function Fl(a,b,c,d,e){Jk.call(this,a,b,c,d,e);this.Fb=new Sd(this)}A(Fl,Jk);var Gl=document.documentMode&&document.documentMode>=8;function Hl(a){var b;if(b=x(a)){b=a.length-1;b=b>=0&&a.indexOf("%",b)==b}return b?a:parseFloat(a.toString())+"px"}function El(a){return Math.round((parseFloat(a.toString())-0.5)*100)}function Z(a){return Math.round(parseFloat(a.toString())*100)}function Al(a,b,c){if(Gl)a[b]=c;else a.setAttribute(b,c)}
function Il(a,b){var c=a.Cb.createElement("g_vml_:"+b);c.id="goog_"+Ha++;return c}function Jl(a){if(Gl&&a.Z)a.f().innerHTML=a.f().innerHTML}Fl.prototype.Wa=function(a,b){(b||this.va).f().appendChild(a.f());Jl(this)};
Fl.prototype.Ch=function(a,b){var c=a.f();c.fillcolor="";for(var d=0;d<c.childNodes.length;d++){var e=c.childNodes[d];e.tagName=="fill"&&c.removeChild(e)}if(b instanceof el)if(b.Ab=="transparent")c.filled=n;else if(b.Qe!=1){c.filled=k;d=Il(this,"fill");d.opacity=Math.round(b.Qe*100)+"%";d.color=b.Ab;c.appendChild(d)}else{c.filled=k;c.fillcolor=b.Ab}else c.filled=n;Jl(this)};
Fl.prototype.Dh=function(a,b){var c=a.f();if(b){c.stroked=k;var d=b.Qh;if(x(d)&&d.indexOf("px")==-1)d=parseFloat(d);else d*=Lk(this);var e=c.getElementsByTagName("stroke")[0];if(d<1){e=e||Il(this,"stroke");e.opacity=d;e.Um="1px";e.color=b.Ab;c.appendChild(e)}else{e&&c.removeChild(e);c.strokecolor=b.Ab;c.strokeweight=d+"px"}}else c.stroked=n;Jl(this)};
Fl.prototype.Eh=function(a,b,c,d,e,f){a=a.f();a.style.left=El(b)+"px";a.style.top=El(c)+"px";if(d||a.rotation){a.rotation=d;a.coordsize=Z(e*2)+" "+Z(f*2)}};function Kl(a,b,c,d,e){var f=a.style;f.position="absolute";f.left=El(b)+"px";f.top=El(c)+"px";f.width=Z(d)+"px";f.height=Z(e)+"px";if(a.tagName=="shape")a.coordsize=Z(d)+" "+Z(e)}function Ll(a,b){var c=Il(a,b),d=Kk(a);Kl(c,0,0,d.width,d.height);return c}try{eval("document.namespaces")}catch(Ml){}u=Fl.prototype;
u.i=function(){var a=this.Cb.ba;if(!a.namespaces.g_vml_){Gl?a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"):a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml");a.createStyleSheet().cssText="g_vml_\\:*{behavior:url(#default#VML)}"}a=this.width;var b=this.height,c=this.Cb.i("div",{style:"overflow:hidden;position:relative;width:"+Hl(a)+";height:"+Hl(b)});this.q=c;var d=Il(this,"group"),e=d.style;e.position="absolute";e.left=e.top=0;e.width=this.width;e.height=this.height;
d.coordsize=this.fc?Z(this.fc)+" "+Z(this.te):Z(a)+" "+Z(b);d.coordorigin=this.Pc!==undefined?Z(this.Pc)+" "+Z(this.fd):"0 0";c.appendChild(d);this.va=new wl(d,this);Id(c,"resize",ta(this.bh,this))};u.bh=function(){var a=je(this.f()),b=this.va.f().style;if(a.width){b.width=a.width+"px";b.height=a.height+"px"}else{for(a=this.f();a&&a.currentStyle&&a.currentStyle.display!="none";)a=a.parentNode;a&&a.currentStyle&&this.Fb.v(a,"propertychange",this.bh)}this.dispatchEvent("resize")};u.Kb=aa();
u.xb=function(){var a=this.f();return new Ac(a.style.pixelWidth||a.offsetWidth||1,a.style.pixelHeight||a.offsetHeight||1)};u.clear=function(){this.va.clear()};u.tf=function(a,b,c,d,e,f,h){var i=Il(this,"oval");Kl(i,a-c,b-d,c*2,d*2);a=new xl(i,this,a,b,c,d,e,f);this.Wa(a,h);return a};u.Pg=function(a,b,c,d,e,f,h){var i=Il(this,"rect");Kl(i,a,b,c,d);a=new yl(i,this,e,f);this.Wa(a,h);return a};
u.drawImage=function(a,b,c,d,e,f){var h=Il(this,"image");Kl(h,a,b,c,d);Al(h,"src",e);a=new Dl(h,this);this.Wa(a,f);return a};
u.we=function(a,b,c,d,e,f,h,i,j,m){var o=Ll(this,"shape"),p=Il(this,"path");Al(p,"v","M"+El(b)+","+El(c)+"L"+El(d)+","+El(e)+"E");Al(p,"textpathok","true");b=Il(this,"textpath");b.setAttribute("on","true");c=b.style;c.fontSize=h.size*Lk(this);c.fontFamily=h.Vg;if(f!=l)c["v-text-align"]=f;if(h.bold)c.fontWeight="bold";if(h.oh)c.fontStyle="italic";Al(b,"string",a);o.appendChild(p);o.appendChild(b);a=new Cl(o,this,i,j);this.Wa(a,m);return a};
u.Wb=function(a,b,c,d){var e=Ll(this,"shape");Al(e,"path",Bl(a));a=new zl(e,this,b,c);this.Wa(a,d);return a};
function Bl(a){var b=[];Gk(a,function(c,d){switch(c){case 0:b.push("m");Array.prototype.push.apply(b,C(d,Z));break;case 1:b.push("l");Array.prototype.push.apply(b,C(d,Z));break;case 2:b.push("c");Array.prototype.push.apply(b,C(d,Z));break;case 4:b.push("x");break;case 3:var e=d[2]+d[3];b.push("ae",Z(d[4]-d[0]*Math.cos(N(e))),Z(d[5]-d[1]*Math.sin(N(e))),Z(d[0]),Z(d[1]),Math.round(d[2]*-65536),Math.round(d[3]*-65536))}});return b.join(" ")}
u.nc=function(a){var b=Ll(this,"group");(a||this.va).f().appendChild(b);return new wl(b,this)};u.ra=function(){Fl.h.ra.call(this);this.bh();Jl(this)};u.p=function(){this.va=l;Fl.h.p.call(this)};function Nl(a,b,c,d){this.kf=a;this.lf=b;this.mg=c;this.rg=d}Nl.prototype.ja=function(){return new Nl(this.kf,this.lf,this.mg,this.rg)};function Ol(a,b,c){if(b instanceof L){c=b.y;b=b.x}else c=c;var d=a.kf,e=a.lf,f=a.mg-a.kf,h=a.rg-a.lf;return((b-d)*(a.mg-d)+(c-e)*(a.rg-e))/(f*f+h*h)}function Pl(a,b){return new L(a.kf+b*(a.mg-a.kf),a.lf+b*(a.rg-a.lf))};function Ql(a,b,c){this.cells={};this.Kd=b?b:2;this.tl=c?c:0.3;this.me=this.ke=1E5;this.sg=this.ng=-1E5;b=0;for(c=a.length;b<c;b++){var d=a[b].wa();if(d.x<this.ke)this.ke=d.x;if(d.x>this.ng)this.ng=d.x;if(d.y<this.me)this.me=d.y;if(d.y>this.sg)this.sg=d.y}this.ke-=1;this.me-=1;this.ng+=1;this.sg+=1;this.width=this.ng-this.ke;this.height=this.sg-this.me;this.Sh=Math.ceil(this.width/this.Kd);this.zl=Math.ceil(this.height/this.Kd);B(a,function(e){var f=e.wa();f=Math.floor((f.y-this.me)/this.Kd)*this.Sh+
Math.floor((f.x-this.ke)/this.Kd);this.cells[f]||(this.cells[f]=[]);this.cells[f].push(e)},this)}function Rl(a,b){var c=[],d=Math.floor((b.x-a.ke)/a.Kd),e=Math.floor((b.y-a.me)/a.Kd),f=d-1;for(d=d+2;f<d;f++)if(!(f<0||f>=a.Sh))for(var h=e-1,i=e+2;h<i;h++)h<0||h>=a.zl||c.push(h*a.Sh+f);return c}
function Cj(a,b){for(var c=[],d=Rl(a,b),e=0,f=d.length;e<f;e++){var h=a.cells[d[e]];if(h)for(var i=0,j=h.length;i<j;i++){var m=h[i],o=m.ze(b);o<a.tl&&c.push({td:m.td,li:o})}}c.sort(function(p,q){return p.li-q.li});return C(c,function(p){return p.td})}
function Sl(a){return cb(C(a,function(b){return Ua(Tl(b.sd),C(b.Hb,function(c){return{td:c,wa:function(){return c.a},ze:function(d){return yc(c.a,d)}}}),C(b.ia,function(c){return{td:c,wa:function(){return c.wa()},ze:function(d){var e=new Nl(c.source.x,c.source.y,c.target.x,c.target.y);return yc(Pl(e,Math.min(Math.max(Ol(e,d.x,d.y),0),1)),d)}}}))}))}
function Tl(a){var b=C(a,function(c){return{td:c,wa:function(){return c.wa()},ze:function(d){return yc(c.wa(),d)/4}}});B(a,function(c){b=Ua(b,C(c.e,function(d){return{td:d,wa:function(){return d.a},ze:function(e){return yc(d.a,e)}}}));b=Ua(b,C(c.g,function(d){return{td:d,wa:function(){return Lh(M(d.source.a,d.target.a)).scale(0.5)},ze:function(e){var f=new Nl(d.source.a.x,d.source.a.y,d.target.a.x,d.target.a.y);return yc(Pl(f,Math.min(Math.max(Ol(f,e.x,e.y),0),1)),e)}}}))});return b};function Ul(a,b,c){this.Q=a;this.j=new pb(b!==undefined?b:{});c!==undefined&&this.j.Hd(c)}Ul.prototype.M=E("kemia.view.Renderer");function Vl(a,b){var c=Yd(b).kd(),d=c.width,e=a.Q.kd();c.scale(c.width/c.height>e.width/e.height?e.width/c.width:e.height/c.height);c=a.$e*c.width/d;return new fj(c,0,0,-c,-Math.min(b.left,b.right)*c,Math.max(b.top,b.bottom)*c)}Ul.prototype.setTransform=ba("transform");function Wl(a,b){Ul.call(this,a,Xl,b)}A(Wl,Ul);
Wl.prototype.ka=function(a,b,c){b||(b=this.j.l("highlight").color);c||(c=this.Q.nc());var d=Tg(a.source.a.x,a.source.a.y,a.target.a.x,a.target.a.y),e=N(Sg(d+90));d=N(Sg(d-90));var f=this.transform.ha,h=this.j.l("highlight").radius*f;a=R(this.transform,[a.source.a,a.target.a]);f=M(new L(h*Math.cos(e),-h*Math.sin(e)),a[0]);var i=M(new L(h*Math.cos(e),-h*Math.sin(e)),a[1]);e=M(new L(h*Math.cos(d),-h*Math.sin(d)),a[0]);d=M(new L(h*Math.cos(d),-h*Math.sin(d)),a[1]);h=new Ek;h.moveTo(a[0].x,a[0].y);h.lineTo(f.x,
f.y);h.lineTo(i.x,i.y);h.lineTo(a[1].x,a[1].y);h.close();b=new el(b,0.15);this.Q.Wb(h,l,b,c);f=new Ek;f.moveTo(a[0].x,a[0].y);f.lineTo(e.x,e.y);f.lineTo(d.x,d.y);f.lineTo(a[1].x,a[1].y);f.close();this.Q.Wb(f,l,b,c);return c};function Yl(a){a=new Ih(a.source.a,a.target.a);a=zc(a.target,a.source);return Math.atan2(a.y,a.x)}function Zl(a){return a.T!="C"||a.Bb()==1}
var Xl={bond:{stroke:{width:1.5,color:"black"},fill:{color:"black"},"width-ratio":6,"symbol-space":0.3,"triple-dist":0.15,"quad-dist":0.13},highlight:{radius:0.3,color:"blue"}};function $l(a,b){Wl.call(this,a,$l.gd,b)}A($l,Wl);$l.prototype.R=function(a,b,c){this.setTransform(b);var d=[a.source.a,a.target.a],e=Lh(zc(d[1],d[0]));e.normalize();e.scale(this.j.l("bond")["symbol-space"]);if(Zl(a.source))d[0]=M(d[0],e);if(Zl(a.target))d[1]=zc(d[1],e);d=R(b,[d[0],d[1]]);c.moveTo(d[0].x,d[0].y);c.lineTo(d[1].x,d[1].y)};function am(a,b){Wl.call(this,a,am.gd,b)}A(am,Wl);
am.prototype.R=function(a,b,c){this.setTransform(b);var d=bm(a),e=Lh(zc(a.target.a,a.source.a));e.scale(1/this.j.l("bond")["width-ratio"]);var f=new Kh(-e.y,e.x),h=e.ja().normalize().scale(this.j.l("bond")["symbol-space"]);if(d){var i=M(a.source.a,f);if(!Jh(new Ih(a.source.a,a.target.a),d.wa(),i)){d=f;d.x=-d.x;d.y=-d.y}d=M(a.source.a,f);i=M(a.target.a,f);var j=a.source.a;f=a.target.a;if(Zl(a.source)){d=M(d,h);j=M(j,h)}else d=M(d,e);if(Zl(a.target)){i=zc(i,h);f=zc(f,h)}else i=zc(i,e)}else{f.scale(0.5);
e=f;if(Math.abs(e.x)>0.08){f=e.x/0.08;e.x/=f;e.y/=f}if(Math.abs(e.y)>0.08){f=e.y/0.08;e.x/=f;e.y/=f}f=e;d=M(a.source.a,f);i=M(a.target.a,f);j=zc(a.source.a,f);f=zc(a.target.a,f);if(Zl(a.source)){d=M(d,h);j=M(j,h)}if(Zl(a.target)){i=zc(i,h);f=zc(f,h)}}a=R(b,[d,i,j,f]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.moveTo(a[2].x,a[2].y);c.lineTo(a[3].x,a[3].y)};function bm(a){return Ra(hj(a.u),function(b){return D(b.g,a)})};function cm(a,b){Wl.call(this,a,cm.gd,b)}A(cm,Wl);
cm.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width;d=new fl(d,this.j.l("bond").stroke.color);var e=Yl(a),f=e+Math.PI/2;e=e-Math.PI/2;var h=this.j.l("bond")["triple-dist"];f=new fj(1,0,0,1,Math.cos(f)*h,Math.sin(f)*h);e=new fj(1,0,0,1,Math.cos(e)*h,Math.sin(e)*h);f=R(f,[a.source.a,a.target.a]);e=R(e,[a.source.a,a.target.a]);a=R(b,[a.source.a,a.target.a,f[0],f[1],e[0],e[1]]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.moveTo(a[2].x,a[2].y);c.lineTo(a[3].x,
a[3].y);c.moveTo(a[4].x,a[4].y);c.lineTo(a[5].x,a[5].y);this.Q.Wb(c,d,l)};function dm(a,b){Wl.call(this,a,dm.gd,b)}A(dm,Wl);
dm.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width;d=new fl(d,this.j.l("bond").stroke.color);var e=Yl(a),f=e+Math.PI/2,h=e-Math.PI/2,i=this.j.l("bond")["quad-dist"],j=new fj(1,0,0,1,Math.cos(f)*i/3,Math.sin(f)*i/3);e=new fj(1,0,0,1,Math.cos(h)*i/3,Math.sin(h)*i/3);f=new fj(1,0,0,1,Math.cos(f)*i,Math.sin(f)*i);h=new fj(1,0,0,1,Math.cos(h)*i,Math.sin(h)*i);j=R(j,[a.source.a,a.target.a]);e=R(e,[a.source.a,a.target.a]);f=R(f,[a.source.a,a.target.a]);a=R(h,[a.source.a,
a.target.a]);b=R(b,[j[0],j[1],e[0],e[1],f[0],f[1],a[0],a[1]]);c.moveTo(b[0].x,b[0].y);c.lineTo(b[1].x,b[1].y);c.moveTo(b[2].x,b[2].y);c.lineTo(b[3].x,b[3].y);c.moveTo(b[4].x,b[4].y);c.lineTo(b[5].x,b[5].y);c.moveTo(b[6].x,b[6].y);c.lineTo(b[7].x,b[7].y);this.Q.Wb(c,d,l)};function em(a,b){Wl.call(this,a,em.gd,b)}A(em,Wl);
em.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width/10,e=Yl(a),f=e+Math.PI/2;e=e-Math.PI/2;f=qi(new fj(1,0,0,1,Math.cos(f)*d,Math.sin(f)*d),[a.target.a])[0];d=qi(new fj(1,0,0,1,Math.cos(e)*d,Math.sin(e)*d),[a.target.a])[0];if(a.target.T!="C"){e=3*yc(f,a.source.a);f.x=(f.x*(e-1)+a.source.a.x)/e;f.y=(f.y*(e-1)+a.source.a.y)/e;d.x=(d.x*(e-1)+a.source.a.x)/e;d.y=(d.y*(e-1)+a.source.a.y)/e}a=R(b,[a.source.a,f,d]);c.moveTo(a[0].x,a[0].y);c.lineTo(a[1].x,a[1].y);c.lineTo(a[2].x,
a[2].y)};function fm(a,b){Wl.call(this,a,fm.gd,b)}A(fm,Wl);
fm.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("bond").stroke.width/10,e=Yl(a),f=e+Math.PI/2;e=e-Math.PI/2;f=new fj(1,0,0,1,Math.cos(f)*d,Math.sin(f)*d);d=new fj(1,0,0,1,Math.cos(e)*d,Math.sin(e)*d);f=R(f,[a.source.a,a.target.a]);d=R(d,[a.source.a,a.target.a]);b=R(b,[f[0],f[1],d[0],d[1],a.source.a]);d=0;if(a.target.T!="C")d=1;for(a=0;a<7-d;a++){c.moveTo(((7-a)*b[4].x+a*b[1].x)/7,((7-a)*b[4].y+a*b[1].y)/7);c.lineTo(((7-a)*b[4].x+a*b[3].x)/7,((7-a)*b[4].y+a*b[3].y)/7)}};function gm(a,b){Wl.call(this,a,gm.gd,b)}A(gm,Wl);
gm.prototype.R=function(a,b,c){this.setTransform(b);var d=Math.round(yc(a.source.a,a.target.a)*12);if(d<8)d=8;Kb(this.M,"# zigZags "+d);var e=this.j.l("bond").stroke.width/10,f=Yl(a),h=f+Math.PI/2;f=f-Math.PI/2;var i=[];i.push(a.source.a);Kb(this.M,"# coords "+i.length);for(var j=l,m=1/d,o=0,p=1;p<=d;p++){o+=m;j=p%2==0?new fj(1,0,0,1,Math.cos(h)*e*o,Math.sin(h)*e*o):new fj(1,0,0,1,Math.cos(f)*e*o,Math.sin(f)*e*o);j=R(j,[new L(((d-p)*a.source.a.x+a.target.a.x*p)/d,((d-p)*a.source.a.y+a.target.a.y*
p)/d)])[0];i.push(j)}a=R(b,i);c.moveTo(a[1].x,a[1].y);b=2;for(d=a.length-1;b<d;b++){c.lineTo(a[b].x,a[b].y);c.moveTo(a[b].x,a[b].y)}};function hm(a,b){this.Q=a;this.j=new pb;b&&this.j.Hd(b)}hm.prototype.M=E("kemia.view.BondRendererFactory");var im=ib({kk:ji,ck:2,ok:3,hk:4}),jm=ib({jk:ki,mk:11,ik:13,lk:12});u=hm.prototype;u.l=function(a){return this[im[a.Fa]].apply(this,[a.fa])};u.kk=function(a){return this[jm[a]].apply(this)};u.jk=function(){if(!this.kj)this.kj=new $l(this.Q,this.j);return this.kj};u.mk=function(){if(!this.lj)this.lj=new em(this.Q,this.j);return this.lj};
u.ik=function(){if(!this.jj)this.jj=new fm(this.Q,this.j);return this.jj};u.lk=function(){if(!this.mj)this.mj=new gm(this.Q,this.j);return this.mj};u.ck=function(){if(!this.mi)this.mi=new am(this.Q,this.j);return this.mi};u.ok=function(){if(!this.xj)this.xj=new cm(this.Q,this.j);return this.xj};u.hk=function(){if(!this.$i)this.$i=new dm(this.Q,this.j);return this.$i};function km(a,b){Ul.call(this,a,lm,b)}A(km,Ul);
km.prototype.R=function(a,b,c){this.setTransform(b);var d=this.j.l("atom"),e=this.j.l(a.T)?this.j.l(a.T).color:d.color,f=b.ha;f=new cl(f/1.8>12?15:f/1.8,d.fontName);d=new fl(d.stroke.width,"black");e=new el(e);b=R(b,[a.a])[0];var h={text:"",Tf:"center",zc:"",Ad:""};if(a.T!="C"||a.Bb()<1||a.Ya||a.Bb()==1&&this.j.l("showTerminalCarbons")){var i=ui(a);if(i==0)h.text=a.T;else{var j,m=a.g.Af();j=mm(a,0);if(m>1){for(var o=1;o<m;++o)j+=mm(a,o);j=j/m%360}j=j>350||j<=10?"E":j>10&&j<=80?"SE":j>80&&j<=100?"S":
j>100&&j<=170?"SW":j>170&&j<=190?"W":j>190&&j<=260?"NW":j>260&&j<=280?"N":"NE";m="center";if(j=="SW"||j=="W"||j=="NW"){m="right";if(i==1)h.text="H";h.text+=a.T}else{m="left";h.text=a.T+"H"}if(i>1)h.Ad=String(i)}if(a.Ya)if(a.Ya>1)h.zc+="+"+a.Ya;else if(a.Ya<-1)h.zc+=a.Ya;else if(a.Ya==-1)h.zc="-";else if(a.Ya==1)h.zc="+"}else h.text="";h.Tf=m;a=this.Q;m=h.text.length*0.55*f.size;i=f.size;if(h.text){Mk(a,h.text,b.x-m/2,b.y-i/2,m,i,h.Tf,l,f,d,e,c);if(h.Tf=="left"){if(h.Ad||h.zc){j=this.j.l("subscriptSize");
h.Ad&&Mk(a,h.Ad,b.x+m*0.9,b.y,j,j,"center",l,f,d,e,c);h.zc&&Mk(a,h.zc,b.x+m,b.y-i*0.8,j,j,"center",l,f,d,e,c)}}else if(h.Tf=="right")if(h.Ad||h.zc){j=this.j.l("subscriptSize");if(h.Ad){Mk(a,"H",b.x-m*3,b.y-i/2,m,i,"center",l,f,d,e,c);Mk(a,h.Ad,b.x-m*1.8,b.y,j,j,"center",l,f,d,e,c)}h.zc&&Mk(a,h.zc,b.x+m,b.y-i*0.8,j,j,"center",l,f,d,e,c)}}};
km.prototype.ka=function(a,b,c){var d=this.j.l("atom");b||(b=this.j.l(a.T)?this.j.l(a.T).color:d.color);b=new el(b,0.3);d=d.highlight.radius*this.transform.ha;a=R(this.transform,[a.a])[0];c||(c=this.Q.nc());this.Q.tf(a.x,a.y,d,d,l,b,c);return c};function mm(a,b){if(a.g.L().length==0)return 0;var c=a.g.L()[b],d=c.target.a,e=c.source.a,f=d.y-e.y;d=d.x-e.x;if(a==c.source){d=-d;f=-f}c=Math.atan2(f,d)*180/Math.PI;if(c<0)c=360+c;return c}km.prototype.M=E("kemia.view.AtomRenderer");
var lm={atom:{color:"#FF9999",diameter:0.05,highlight:{radius:0.3},stroke:{width:0.15},fontName:"Arial"},showTerminalCarbons:k,margin:20,subscriptSize:5,N:{color:"blue"},O:{color:"red"},S:{color:"yellow"},P:{color:"orange"},Cl:{color:"green"},F:{color:"green"},Br:{color:"DarkRed"},I:{color:"purple"},C:{color:"black"},R1:{color:"black"},R2:{color:"black"},H:{color:"white"}};function nm(a,b){Wl.call(this,a,nm.gd,b)}A(nm,Wl);nm.prototype.R=function(a,b){this.setTransform(b);var c=this.j.l("bond").stroke.width;c=new fl(c,this.j.l("bond").stroke.color);var d=new Ek,e=qi(this.transform,[a.wa()])[0],f=R(this.transform,[a.e[0].a])[0];f=yc(e,f)*0.5;d.moveTo(e.x+f,e.y);d.arcTo(f,f,0,180);d.moveTo(e.x+f,e.y);d.arcTo(f,f,0,-180);this.Q.Wb(d,c,l)};function om(a,b){Ul.call(this,a,pm,b);this.$e=1;this.Jd=new hm(a,this.j);this.zb=new km(a,this.j);this.Sj=new nm(a,this.j)}A(om,Ul);om.prototype.M=E("kemia.view.MoleculeRenderer");om.prototype.je=ba("$e");
om.prototype.R=function(a,b){a.Zf=k;a.eb=this.Q.nc();var c=C(a.e,function(h){return h.a});c=Wd.apply(l,c);if(!b){var d=this.j.l("margin");b=Vl(this,c.expand(d,d,d,d))}this.setTransform(b);R(this.transform,[new L((c.left+c.right)/2,(c.top+c.bottom)/2)]);c=new fl(this.j.l("bond").stroke.width,this.j.l("bond").stroke.color);d=new el(this.j.l("bond").fill.color);if(a.g.length){var e=new Ek;B(a.g,function(h){this.Jd.l(h).R(h,b,e)},this);this.Q.Wb(e,c,d,a.eb);var f=this.Sj;B(hj(a),function(h){Na(h.g,function(i){return i.dc}).length==
h.g.length&&f.R(h,b)})}B(a.e,function(h){this.zb.R(h,b,a.eb)},this)};om.prototype.ka=function(a,b,c){b||(b=this.j.l("highlight").color);c||(c=this.Q.nc());B(a.g,function(d){this.Jd.l(d).ka(d,b,c)},this);B(a.e,function(d){this.zb.ka(d,b,c)},this);return c};var pm={bond:{stroke:{width:2,color:"black"},fill:{color:"black"}},highlight:{radius:0.3,color:"blue"}};function qm(a,b){Ul.call(this,a,rm,b)}A(qm,Ul);
qm.prototype.R=function(a,b){this.setTransform(b);a.eb=this.Q.nc();var c=this.j.l("arrow").height,d=yc(a.target,a.source),e=Tg(a.source.x,a.source.y,a.target.x,a.target.y),f=Sg(e+90),h=Sg(e-90),i=new L((a.source.x+a.target.x)/2,(a.source.y+a.target.y)/2),j=new L(i.x,i.y+c),m=new L(i.x,i.y-c),o=new L(i.x-d/2,i.y),p=new L(i.x+d/2,i.y),q=new L(p.x-c,p.y+c/2),t=new L(p.x-c,p.y-c/2);c=new Ek;d=new fl(this.j.l("arrow").stroke.width,this.j.l("arrow").stroke.color);var v=new fl(this.j.l("arrow").font.stroke.width,
this.j.l("arrow").font.stroke.color),y=new el(this.j.l("arrow").font.stroke.color),H=b.ha,J=H/1.8>12?15:H/1.8;H=new cl(J,this.j.l("arrow").font.name);e=cj(new fj,N(e),i.x,i.y);i=e.ha;var na=e.ya;e.ha=b.ha*i+b.Ea*na;e.ya=b.ya*i+b.sa*na;i=e.Ea;na=e.sa;e.Ea=b.ha*i+b.Ea*na;e.sa=b.ya*i+b.sa*na;i=e.jb;na=e.kb;e.jb=b.ha*i+b.Ea*na+b.jb;e.kb=b.ya*i+b.sa*na+b.kb;j=R(e,[o,p,q,t,j,m]);c.moveTo(j[0].x,j[0].y);c.lineTo(j[1].x,j[1].y);c.lineTo(j[2].x,j[2].y);c.moveTo(j[1].x,j[1].y);c.lineTo(j[3].x,j[3].y);m=N(f);
f=N(h);h=M(new L(J*Math.cos(m),-J*Math.sin(m)),j[0]);m=M(new L(J*Math.cos(m),-J*Math.sin(m)),j[1]);o=M(new L(J*Math.cos(f),-J*Math.sin(f)),j[0]);J=M(new L(J*Math.cos(f),-J*Math.sin(f)),j[1]);this.Q.we(a.wh,h.x,h.y,m.x,m.y,"center",H,v,y,a.eb);this.Q.we(a.Eg,o.x,o.y,J.x,J.y,"center",H,v,y,a.eb);this.Q.Wb(c,d,l,a.eb)};
qm.prototype.ka=function(a,b,c){b||(b=this.j.l("arrow").highlight.color);c||(c=this.Q.nc());var d=Tg(a.source.x,a.source.y,a.target.x,a.target.y),e=N(Sg(d+90));d=N(Sg(d-90));var f=this.transform.ha,h=this.j.l("arrow").highlight.radius*f;a=R(this.transform,[a.source,a.target]);f=M(new L(h*Math.cos(e),-h*Math.sin(e)),a[0]);var i=M(new L(h*Math.cos(e),-h*Math.sin(e)),a[1]);e=M(new L(h*Math.cos(d),-h*Math.sin(d)),a[0]);d=M(new L(h*Math.cos(d),-h*Math.sin(d)),a[1]);h=new Ek;h.moveTo(a[0].x,a[0].y);h.lineTo(f.x,
f.y);h.lineTo(i.x,i.y);h.lineTo(a[1].x,a[1].y);h.close();b=new el(b,0.15);this.Q.Wb(h,l,b,c);f=new Ek;f.moveTo(a[0].x,a[0].y);f.lineTo(e.x,e.y);f.lineTo(d.x,d.y);f.lineTo(a[1].x,a[1].y);f.close();this.Q.Wb(f,l,b,c);return c};qm.prototype.M=E("kemia.view.ArrowRenderer");var rm={arrow:{height:0.5,stroke:{width:2,color:"black"},fill:{color:"black"},font:{name:"Arial",stroke:{width:0.1,color:"grey"}},highlight:{radius:0.75,color:"grey"}}};function sm(a,b){Ul.call(this,a,tm,b)}A(sm,Ul);sm.prototype.R=function(a,b){this.setTransform(b);a.eb=this.Q.nc();var c=a.a,d=this.j.l("plus").size,e=new L(c.x,c.y-d),f=new L(c.x,c.y+d),h=new L(c.x-d,c.y),i=new L(c.x+d,c.y);c=new Ek;d=new fl(this.j.l("plus").stroke.width,this.j.l("plus").stroke.color);e=R(b,[e,f,h,i]);c.moveTo(e[0].x,e[0].y);c.lineTo(e[1].x,e[1].y);c.moveTo(e[2].x,e[2].y);c.lineTo(e[3].x,e[3].y);this.Q.Wb(c,d,l,a.eb)};
sm.prototype.ka=function(a,b,c){b||(b=this.j.l("plus").highlight.color);c||(c=this.Q.nc());b=new el(b,0.3);var d=this.j.l("plus").highlight.radius*this.transform.ha;a=R(this.transform,[a.a])[0];this.Q.tf(a.x,a.y,d,d,l,b,c);return c};var tm={plus:{highlight:{color:"blue",radius:0.4},size:0.25,stroke:{width:2,color:"black"}}};function um(a,b){Ul.call(this,a,vm,b);this.$e=1;this.ca=new om(a,this.j);this.nf=new qm(a,this.j);this.dg=new sm(a,this.j)}A(um,Ul);um.prototype.R=function(a){var b=a.sd;if(!this.transform)if(b.length>0){var c=wm(this,b),d=this.j.l("margin");c.expand(d,d,d,d);this.setTransform(Vl(this,c))}else this.setTransform(new fj(25,0,0,-25,100,100));B(b,function(e){this.ca.R(e,this.transform)},this);B(a.Hb,function(e){this.dg.R(e,this.transform)},this);B(a.ia,function(e){this.nf.R(e,this.transform)},this)};
function wm(a,b){var c=cb(C(b,function(d){return d.e}));c=C(c,function(d){return d.a});if(c.length>0)return Wd.apply(l,c)}um.prototype.M=E("kemia.view.ReactionRenderer");um.prototype.je=function(a){this.$e=a;this.ca.je(a)};var vm={margin:4};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
function xm(a,b){this.id=a.id;this.am=Bc(a);this.$=a;var c=a.clientWidth,d=a.clientHeight;c=F?new Fl(c,d,void 0,void 0,void 0):I&&(!K("420")||gc)?new gl(c,d,void 0,void 0,void 0):new rl(c,d,void 0,void 0,void 0);c.i();this.Q=c;this.Q.R(a);this.r=[];this.Lc={};this.ce={};for(var e in Fh)this.ce[e]=[];this.j=new pb(ym);b&&this.j.Hd(b);this.k=new um(this.Q,this.j);this.Ci=this.Ei=n;this.Rd=new Sd(this);this.gj=new Vh(document);this.wl=[];zm(this,"keydown",this.md);zm(this,"keypress",this.tm);zm(this,
"keyup",this.vm);zm(this,"mousedown",this.Ak);zm(this,"mousemove",this.Ck);zm(this,"mouseup",this.si);zm(this,"paste",this.Ek);Id(this.gj,"shortcut",this.xk,undefined,this);if(this.Wj&&this.Qm()){e=this.Wj;c=this.f();c=Bc(c);var f=l;if(F){f=c.ba.createStyleSheet();pe(f,e)}else{d=Gc(c.ba,"head",void 0,void 0)[0];if(!d){f=Gc(c.ba,"body",void 0,void 0)[0];d=c.i("head");f.parentNode.insertBefore(d,f)}f=c.i("style");pe(f,e);c.appendChild(d,f)}}this.dispatchEvent(Am);for(var h in this.Lc)this.Lc[h].vf(this);
this.Wf=Bm;this.Ci=this.Ei=n;this.selected=[];this.Pe=[]}var Cm;A(xm,Ud);function hi(a,b){a.selected.push(b)}u=xm.prototype;u.clear=function(){Dm(this);this.dispatchEvent(Em)};function Dm(a){a.Q.clear();a.r=[new Ai];a.Pe=new Ql([],1,0.5);var b=new el(a.j.l("background").color);a.Q.Pg(0,0,a.Q.kd().width,a.Q.kd().height,l,b)}u.je=function(a){this.k.transform=undefined;this.k.je(a)};
function S(a,b){Dm(a);a.r=[];B(b,function(d){var e;if(d instanceof Ai)e=d;if(d instanceof U){e=new Ai;e.wg(d)}this.r.push(e)},a);var c=cb(C(b,function(d){if(d instanceof U)return Tl([d]);if(d instanceof Ai)return Sl([d])}));if(c.length>0)a.Pe=new Ql(c,1,0.5);a.R()}u.Mc=function(a){Q(this);S(this,a)};u.R=function(){B(this.r,function(a){a instanceof Ai&&this.k.R(a);a instanceof U&&this.k.ca.R(a)},this)};u.fk=r("r");
function Q(a){a.Gj=Ii(C(a.r,function(b){if(b instanceof Ai)return vj(b);else if(b instanceof U)return rj(b)}));a.dispatchEvent(Zj)}u.de=function(a){for(var b=this.ce[a],c=Ya(arguments,1),d=0;d<b.length;++d){var e=b[d];if((e.la(this)||Eh[a])&&e[Fh[a]].apply(e,c))return k}return n};function P(a){a.Ei=k;a.Ci=k}
function gi(a,b,c){b=Nj(a,b,c);a=Na(b,function(d){return d instanceof T},a);if(a.length>0)return a[0];a=Na(b,function(d){return d instanceof W});if(a.length>0)return a[0];a=Na(b,function(d){return d instanceof U});if(a.length>0)return a[0];a=Na(b,function(d){return d instanceof Mh});if(a.length>0)return a[0];b=Na(b,function(d){return d instanceof Qh});if(b.length>0)return b[0]}function Qj(a,b){return qi(a.k.transform?a.k.transform.ob():a.k.ca.transform.ob(),[b])[0]}
function li(a){var b=a.currentTarget,c=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;a=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;c-=b.offsetLeft;for(a-=b.offsetTop;b=b.offsetParent;){c-=b.offsetLeft;a-=b.offsetTop}return new L(c,a)}function Nj(a,b,c){c!==undefined||(c=li(b));b=qi(a.k.transform?a.k.transform.ob():a.k.ca.transform.ob(),[c])[0];return Cj(a.Pe,{x:b.x,y:b.y})}
u.Wg=function(a,b){b!==undefined||(b=[]);return Na(C(a,function(c){var d=Cj(this.Pe,{x:c.a.x,y:c.a.y},this);d=Na(d,function(e){if(e instanceof T)return!D(b,e)});return d.length>0?[c,d[0]]:n},this),function(c){return c!=n},this)};u.Ck=function(a){try{this.de(12,a)}catch(b){this.M.info(b)}};u.si=function(a){this.de(9,a)};u.Ak=function(a){try{this.de(8,a)}catch(b){this.M.info(b);this.M.info("reverting state");this.Mc(C(eval("("+this.Gj+")"),uj))}};u.si=function(a){this.de(9,a)};
u.xk=function(a){this.de(5,a)};u.Ek=function(a){this.de(25,a)};function Fm(a,b,c){for(var d=a.ce[7],e=0;e<d.length;++e){var f=d[e];if(f.la(a)&&f.Xb(b)&&(c||f.Xh()))return f.queryCommandValue(b)}return c?l:n}function Gh(a){B(a.ce[7],function(b){b.xd&&b.xd()})}u.queryCommandValue=function(a){var b=this.Qf();if(x(a))return Fm(this,a,b);else{for(var c={},d=0;d<a.length;d++)c[a[d]]=Fm(this,a[d],b);return c}};
u.execCommand=function(a){for(var b=arguments,c,d=this.ce[6],e=0;e<d.length;++e){var f=d[e];if(f.la(this)&&f.Xb(a)){c=f.execCommand.apply(f,b);break}}return c};u.gl=function(a){var b=a.Gc();this.Lc[b]&&this.M.log(Db,"Cannot register the same class of plugin twice ["+b+"]",void 0);this.Lc[b]=a;for(var c in Fh)a[Fh[c]]&&this.ce[c].push(a);Dh(a,this);this.Qf()&&a.vf(this)};u.Qf=function(){return this.Wf==Bm};var Bm=2;xm.prototype.M=E("kemia.controller.ReactionEditor");var Hh="cvc_"+Rd++,Am="load_"+Rd++;
Rd++;var Zj="beforechange_"+Rd++;Rd++;var Em="clear_"+Rd++;xm.prototype.p=function(){if(this.Wf==1||this.Qf())this.M.log(Eb,"Disposing an editor that is in use.",void 0);this.$&&this.execCommand(Jg.Bl);for(var a in this.Lc){var b=this.Lc[a];b.Xh()||b.Lg(this)}this.Wf=0;this.Rd&&this.Rd.We();this.Km=l;if(this.Rd){this.Rd.aa();this.Rd=l}for(;a=this.wl.pop();)a.aa();if(Cm==this.id)Cm=l;for(var c in this.Lc){a=this.Lc[c];a.Tj&&a.aa()}delete this.Lc;xm.h.p.call(this)};
xm.prototype.Qf=function(){return this.Wf==Bm};function zm(a,b,c,d,e){a.Rd.v(a.$,b,c,d,e)}xm.prototype.xh=function(a,b){this.gj.xh(a,b)};var ym={background:{color:"#F0FFF0"},margin:{left:1,right:1,top:1,bottom:1}};function Gm(a,b){this.Fb=new Sd(this);this.uf=a;this.Mb=b;this.vh=[];Be(this.Mb,function(c){c.Ib&&this.vh.push(Hm(this,we(c)))},this);this.Mb.vc(n);this.Fb.v(this.uf,Hh,this.ul).v(this.Mb,"action",this.qk)}A(Gm,Ud);function Hm(a,b){return b}u=Gm.prototype;u.db=r("Fb");u.$a=function(){return this.Mb.$a()};u.Aa=function(a){this.Mb.Aa(a)};u.la=function(){return this.Mb.la()};u.uc=function(a){this.Mb.uc(a)};u.blur=function(){this.Mb.Vc(l)};
u.p=function(){Gm.h.p.call(this);if(this.Fb){this.Fb.aa();delete this.Fb}if(this.Mb){this.Mb.aa();delete this.Mb}delete this.uf;delete this.vh};u.ul=function(a){if(this.Mb.la()&&this.dispatchEvent("change")){var b;try{b=this.uf.queryCommandValue(a.Vl||this.vh)}catch(c){b={}}a=b;for(var d in a)if(b=ze(this.Mb,d)){var e=a[d];b.jf?b.jf(e):af(b,!!e)}}};u.qk=function(a){var b;b=we(a.target);var c=a.target.Sa(),d;if(a.target.Pf)d=a.target.Pf();this.uf.execCommand(b,c,d,a)};u.M=E("kemia.controller.ToolbarController");var Im=3;Im=3;
function Jm(a,b,c,d){switch(a){case 1:switch(b){case 0:return new W(c,d);case 1:return new W(c,d,ji,11);case 4:return new W(c,d,ji,12);case 6:return new W(c,d,ji,13);default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}case 2:return new W(c,d,2);case Im:return new W(c,d,3);case 4:a=new W(c,d);a.dc=k;return a;case 5:g(Error("type not implemented ["+a+"]"));case 6:g(Error("type not implemented ["+a+"]"));case 7:g(Error("type not implemented ["+a+"]"));case 8:g(Error("type not implemented ["+a+
"]"));default:g(Error("invalid bond type/stereo ["+a+"]/["+b+"]"))}};var Km=RegExp(/\[[^[]+\]|Br|B|Cl|C|N|F|O|P]|S|c|n|o|s|-|=[0-9]|=[0-9]|=|#[0-9]|#[0-9][0-9]|#|\$|%[0-9][0-9]|[0-9]|\(|\)|./g),Lm=RegExp(/^\[([0-9]*)([A-Z][a-z]?|c|n|o|se|s|as)(@|@@)?(H)?([0-9])?([+-][\d]?)?\]$/),Mm=["C","c","N","n","O","o","S","s","P","F","Br","Cl","I","B"],Nm=["c","n","o","s","as","se"];
function Om(a,b,c){var d=a;if(a=="NONE")d=b.dc&&c.dc?":":"-";switch(d){case "-":return new W(b,c,ji);case "=":return new W(b,c,2);case "#":return new W(b,c,3);case ":":a=new W(b,c);a.dc=k;return a;default:g(Error("invalid bond type ["+a+"]"))}}
function Pm(a,b){for(var c=0,d=b.length;c<d;c++){var e=a.e[b[c]];if(e!=undefined){var f=b[++c];++c;var h=[],i=0,j=l;B(a.e,function(o){var p=$i(a,e,o);if(p!=l&&p!=undefined){if(p.source!=e){p.source=e;p.target=o}i++;a:{o=hj(a);for(var q=0,t=o.length;q<t;q++)for(var v=0,y=o[q].g.length;v<y;v++)if(p==o[q].g[v]){o=k;break a}o=n}o||h.push(p)}});var m=h.length;if((i==3||i==4)&&m>0){j=0;if(i==3&&m>1||i==4&&m>2)j=1;j=h[j];j.fa=f=="@"?11:13}if(i==4&&m>1){j=1;if(m==4)j=3;else if(m==4)j=2;j=h[j];j.fa=f=="@"?
13:11}}}}
var Qm={H:{number:1,name:"Hydrogen"},He:{number:2,name:"Helium"},Li:{number:3,name:"Lithium"},Be:{number:4,name:"Beryllium"},B:{number:5,name:"Boron"},C:{number:6,name:"Carbon"},c:{number:6,name:"Carbon"},N:{number:7,name:"Nitrogen"},n:{number:7,name:"Nitrogen"},O:{number:8,name:"Oxygen"},o:{number:8,name:"Oxygen"},F:{number:9,name:"Fluorine"},Ne:{number:10,name:"Neon"},Na:{number:11,name:"Sodium"},Mg:{number:12,name:"Magnesium"},Al:{number:13,name:"Aluminium"},Si:{number:14,name:"Silicon"},P:{number:15,
name:"Phosphorus"},S:{number:16,name:"Sulfur"},s:{number:16,name:"Sulfur"},Cl:{number:17,name:"Chlorine"},Ar:{number:18,name:"Argon"},K:{number:19,name:"Potassium"},Ca:{number:20,name:"Calcium"},Sc:{number:21,name:"Scandium"},Ti:{number:22,name:"Titanium"},V:{number:23,name:"Vanadium"},Cr:{number:24,name:"Chromium"},Mn:{number:25,name:"Manganese"},Fe:{number:26,name:"Iron"},Co:{number:27,name:"Cobalt"},Ni:{number:28,name:"Nickel"},Cu:{number:29,name:"Copper"},Zn:{number:30,name:"Zinc"},Ga:{number:31,
name:"Gallium"},Ge:{number:32,name:"Germanium"},As:{number:33,name:"Arsenic"},as:{number:33,name:"Arsenic"},Se:{number:34,name:"Selenium"},se:{number:34,name:"Selenium"},Br:{number:35,name:"Bromine"},Kr:{number:36,name:"Krypton"},Rb:{number:37,name:"Rubidium"},Sr:{number:38,name:"Strontium"},Y:{number:39,name:"Yttrium"},Zr:{number:40,name:"Zirconium"},Nb:{number:41,name:"Niobium"},Mo:{number:42,name:"Molybdenum"},Tc:{number:43,name:"Technetium"},Ru:{number:44,name:"Ruthenium"},Rh:{number:45,name:"Rhodium"},
Pd:{number:46,name:"Palladium"},Ag:{number:47,name:"Silver"},Cd:{number:48,name:"Cadmium"},In:{number:49,name:"Indium"},Sn:{number:50,name:"Tin"},Sb:{number:51,name:"Antimony"},Te:{number:52,name:"Tellurium"},I:{number:53,name:"Iodine"},Xe:{number:54,name:"Xenon"},Cs:{number:55,name:"Caesium"},Ba:{number:56,name:"Barium"},La:{number:57,name:"Lanthanum"},Ce:{number:58,name:"Cerium"},Pr:{number:59,name:"Praseodymium"},Nd:{number:60,name:"Neodymium"},Pm:{number:61,name:"Promethium"},Sm:{number:62,name:"Samarium"},
Eu:{number:63,name:"Europium"},Gd:{number:64,name:"Gadolinium"},Tb:{number:65,name:"Terbium"},Dy:{number:66,name:"Dysprosium"},Ho:{number:67,name:"Holmium"},Er:{number:68,name:"Erbium"},Tm:{number:69,name:"Thulium"},Yb:{number:70,name:"Ytterbium"},Lu:{number:71,name:"Lutetium"},Hf:{number:72,name:"Hafnium"},Ta:{number:73,name:"Tantalum"},W:{number:74,name:"Tungsten"},Re:{number:75,name:"Rhenium"},Os:{number:76,name:"Osmium"},Ir:{number:77,name:"Iridium"},Pt:{number:78,name:"Platinum"},Au:{number:79,
name:"Gold"},Hg:{number:80,name:"Mercury"},Tl:{number:81,name:"Thallium"},Pb:{number:82,name:"Lead"},Bi:{number:83,name:"Bismuth"},Po:{number:84,name:"Polonium"},At:{number:85,name:"Astatine"},Rn:{number:86,name:"Radon"},Fr:{number:87,name:"Francium"},Ra:{number:88,name:"Radium"},Ac:{number:89,name:"Actinium"},Th:{number:90,name:"Thorium"},Pa:{number:91,name:"Protactinium"},U:{number:92,name:"Uranium"},Np:{number:93,name:"Neptunium"},Pu:{number:94,name:"Plutonium"},Am:{number:95,name:"Americium"},
Cm:{number:96,name:"Curium"},Bk:{number:97,name:"Berkelium"},Cf:{number:98,name:"Californium"},Es:{number:99,name:"Einsteinium"},Fm:{number:100,name:"Fermium"},Md:{number:101,name:"Mendelevium"},No:{number:102,name:"Nobelium"},Lr:{number:103,name:"Lawrencium"},Rf:{number:104,name:"Rutherfordium"},Db:{number:105,name:"Dubnium"},Sg:{number:106,name:"Seaborgium"},Bh:{number:107,name:"Bohrium"},Hs:{number:108,name:"Hassium"},Mt:{number:109,name:"Meitnerium"},Ds:{number:110,name:"Darmstadtium"},Rg:{number:111,
name:"Roentgenium"},Cn:{number:112,name:"Copernicium"}};function $(a,b){if(arguments.length>0){this.x=a;this.y=b}}u=$.prototype;u.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};u.add=function(a){return new $(this.x+a.x,this.y+a.y)};u.df=function(a){return new $(this.x-a.x,this.y-a.y)};u.toString=function(){return this.x+","+this.y};u.scale=function(a){this.x*=a;this.y*=a};u.normalize=function(){var a=1/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=a;this.y*=a};u.sub=function(a){this.x-=a.x;this.y-=a.y};
u.Ri=function(a){this.x=-a.x;this.y=-a.y};u.Ri=function(){this.x=-this.x;this.y=-this.y};u.mf=function(a){a=(this.x*a.x+this.y*a.y)/(this.length()*a.length());if(a<-1)a=-1;if(a>1)a=1;return Math.acos(a)};function Rm(a){var b,c;b=Y(a);for(var d=Array(b),e=0;e<b;++e){d[e]=Array(b);for(var f=0;f<b;f++)d[e][f]=0}e=a.Bb();for(f=0;f<e;f++){c=a.g[f];b=Yi(a,c.source);c=Yi(a,c.target);d[b][c]=1;d[c][b]=1}e=d.length;b=Array(e);for(f=0;f<e;++f)b[f]=Array(e);for(f=0;f<e;f++)for(c=0;c<e;c++)b[f][c]=d[f][c]==0?999999:1;for(f=0;f<e;f++)b[f][f]=0;for(d=0;d<e;d++)for(f=0;f<e;f++)for(c=0;c<e;c++)if(b[f][d]+b[d][c]<b[f][c])b[f][c]=b[f][d]+b[d][c];d=0;e=-1;f=a.Bb();c=b.length;for(var h=0;h<c;h++)if(Sm(a.e[h],a,f)==1)for(var i=
0;i<c;i++)if(b[h][i]>d){d=b[h][i];e=h}return Tm(a,a.e[e])}function Tm(a,b){for(var c=0,d=0,e=0,f=0,h=[],i=Y(a),j=a.Bb(),m=0;m<i;m++){a.e[m].lb(1,n);h[m]=new U;pi(h[m],b)}m=[];m.push(b);b.ea[1]=k;Um(a,m,h,j);for(m=0;m<i;m++)if(Y(h[m])>=d){f=h[m];for(var o=0,p=Y(f),q=0;q<p;q++)o+=Sm(f.e[q],a,j);f=o;if(f>e){e=f;c=m;d=Y(h[m])}}return h[c]}function Sm(a,b,c){for(var d=0,e=0;e<c;e++)if(b.g[e].source==a||b.g[e].target==a)d++;return d}
function Um(a,b,c,d){for(var e=[],f=b.length,h=0;h<f;h++){var i=b[h];if(!i.ea[2])for(var j=Yi(a,i),m=ij(a,i),o=0;o<m.length;o++){var p=m[o],q=V(p,i);if(!q.ea[1]&&!q.ea[0]){for(var t=Yi(a,q),v=c,y=t,H=c[j],J=new U,na=0,X=Y(H);na<X;na++)pi(J,H.e[na]);v[y]=J;pi(c[t],q);mi(c[t],p);Sm(q,a,d)>1&&e.push(q)}}}if(e.length>0){for(b=0;b<e.length;b++)e[b].lb(1,k);Um(a,e,c,d)}}
function Vm(a,b,c){var d=b;for(b=0;b<Y(a)-1;b++){var e=a.e[b],f=a.e[b+1],h=new L(e.a.x,e.a.y);d.normalize();d.scale(c);h.x+=d.x;h.y+=d.y;f.a=h;f.lb(0,k);d=k;if(Wm(a)==2)d=n;d=Xm(f,e,Ym(a),d)}}function Wm(a){if(a==l)return 0;var b=n,c=n;B(a.e,function(d){if(d.a==l||d.a.x==0&&d.a.y==0)b=k;else c=k});return!b&&c?2:b&&c?1:0}function Ym(a){for(var b=0,c=0,d=0,e=0,f=Y(a);e<f;e++){var h=a.e[e];if(h.ea[0]==k){b+=h.a.x;c+=h.a.y;d++}}return new L(b/d,c/d)}
function Zm(a){for(var b=0,c=0,d=0,e=0,f=a.length;e<f;e++){var h=a[e];if(h.ea[0]==k){b+=h.a.x;c+=h.a.y;d++}}return new L(b/d,c/d)}function $m(a,b){var c=0;if(a>=0&&b>=0)c=Math.atan(b/a);else if(a<0&&b>=0)c=Math.PI+Math.atan(b/a);else if(a<0&&b<0)c=Math.PI+Math.atan(b/a);else if(a>=0&&b<0)c=2*Math.PI+Math.atan(b/a);return c}
function Xm(a,b,c,d){b=$m(b.a.x-a.a.x,b.a.y-a.a.y);var e=Math.PI*(120/180);d||(e=Math.PI*(60/180));b+=e;d=new $(Math.cos(b),Math.sin(b));var f=yc(new L(a.a.x+d.x,a.a.y+d.y),c);b+=e;b=new $(Math.cos(b),Math.sin(b));return yc(new L(a.a.x+b.x,a.a.y+b.y),c)>f?b:d}function an(a,b){for(var c=0;c<b;c++)if(!a.e[c].ea[0])return n;return k}
function bn(a,b,c,d,e){var f=0,h=0,i=0;i=0;var j=new $(c.x,c.y);f=new $(a.a.x,a.a.y);var m=new $(c.x,c.y);m.sub(f);c=[];var o=Y(b);h=Y(d);if(o==1){for(f=0;f<h;f++)c.push(d.e[f]);i=Math.PI*2/(h+o);d=b.e[0];h=$m(d.a.x-a.a.x,d.a.y-a.a.y);cn(c,new L(a.a.x,a.a.y),h,i,e)}else if(o==0){for(f=0;f<h;f++)c.push(d.e[f]);i=Math.PI*2/h;cn(c,new L(a.a.x,a.a.y),0,i,e)}else{i=[];j.sub(f);f=j;f.normalize();f.scale(e);f.Ri();j=new L(a.a.x,a.a.y);j.x+=f.x;j.y+=f.y;for(f=0;f<o;f++)i.push(b.e[f]);do{b=n;f=0;for(o=i.length;f<
o-1;f++){var p=i[f],q=i[f+1];if(yc(j,q.a)<yc(j,p.a)){i[f]=q;i[f+1]=p;b=k}}}while(b);f=new $(i[0].a.x,i[0].a.y);b=new $(i[1].a.x,i[1].a.y);f.sub(new $(a.a.x,a.a.y));b.sub(new $(a.a.x,a.a.y));f=f.mf(m);f+=b.mf(m);b=$m(i[0].a.x-a.a.x,i[0].a.y-a.a.y);j=$m(j.x-a.a.x,j.y-a.a.y);m=l;m=b>j?b-j<Math.PI?i[1]:i[0]:j-b<Math.PI?i[0]:i[1];i=2*Math.PI-f;i=i/(h+1);for(j=0;j<h;j++)c.push(d.e[j]);h=$m(m.a.x-a.a.x,m.a.y-a.a.y);cn(c,new L(a.a.x,a.a.y),h,i,e)}}
function cn(a,b,c,d,e){var f=[];c=c;for(var h=0,i=a.length;h<i;h++){c+=d;if(c>=2*Math.PI)c-=2*Math.PI;var j=a[h];if(j.T=="H")e*=0.6;f.push(new L(Math.cos(c)*e+b.x,Math.sin(c)*e+b.y))}h=0;for(i=a.length;h<i;h++){j=a[h];j.a=f[h];j.ea[0]=k}}function dn(a,b,c,d){var e=0;B(b.g.L(),function(f){e++;f=V(f,b);f.ea[0]?pi(d,f):pi(c,f)});return e}function en(a){B(a,function(b){b.lb(0,n)})}function fn(a){B(a,function(b){b.lb(0,k)})};function gn(a,b,c){a=Math.sqrt(Math.pow(c/(2*Math.sin(Math.PI/a.e.length)),2)-Math.pow(c/2,2));b=$m(b.x,b.y);b+=Math.PI/2;return new $(Math.cos(b)*a,Math.sin(b)*a)}
function hn(a,b,c,d,e){var f=b.e.length;if(f>2){f=e/(2*Math.sin(Math.PI/a.e.length));d.normalize();d.scale(f);c=new L(c.x+d.x,c.y+d.y);var h=jn(b);e=h[0];h=h[1];var i=new $(e.a.x,e.a.y),j=new $(h.a.x,h.a.y);i.sub(d);j.sub(d);i=i.mf(j);i=(2*Math.PI-i)/(a.e.length-b.e.length+1);var m;a:{if(zc(e.a,h.a).x==0){if(e.a.y>h.a.y){m=e;break a}}else if(e.a.x>h.a.x){m=e;break a}m=h}j=N(Tg(m.a.x,m.a.y,d.x,d.y));a=kn(m,b.g[0],a.g);b=1;h=zc(e.a,h.a);if(h.x==0){if(d.x>e.a.x)b=-1}else if(d.y-e.a.y<(d.x-e.a.x)*h.y/
h.x)b=-1;i*=b;cn(a,c,j,i,f)}else if(f==2){f=e/(2*Math.sin(Math.PI/a.e.length));e=Math.sqrt(Math.pow(f,2)-Math.pow(e/2,2));d.normalize();d.scale(e);d=new L(c.x+d.x,c.y+d.y);h=b.e[0];i=b.e[1];c=new $(h.a.x,h.a.y);e=new $(i.a.x,i.a.y);j=new $(d.x,d.y);c.sub(j);e.sub(j);c=c.mf(e);c=(2*Math.PI-c)/(a.e.length-1);j=d.x;m=d.y;var o=h.a.x-i.a.x,p=h.a.y-i.a.y;e=1;if(o==0){i=h.a.y>i.a.y?h:i;e=j<h.a.x?1:-1}else{i=h.a.x>i.a.x?h:i;e=m-h.a.y>(j-h.a.x)*p/o?1:-1}h=$m(i.a.x-d.x,i.a.y-d.y);i=i;b=b.g[0];j=[];m=0;for(o=
a.g.length-2;m<o;m++){a:{for(p=0;p<a.g.length;p++)if(a.g[p]!=b&&(a.g[p].source==i||a.g[p].target==i)){b=a.g[p];break a}b=l}i=V(b,i);j.push(i)}c*=e;cn(j,d,h,c,f)}else if(f==1){f=e/(2*Math.sin(Math.PI/a.e.length));d.normalize();d.scale(f);d=new L(c.x+d.x,c.y+d.y);c=2*Math.PI/a.e.length;h=b.e[0];e=$m(h.a.x-d.x,h.a.y-d.y);a=kn(h,b.g[0],a.g);cn(a,d,e,c,f)}}
function ln(a,b,c){var d=new U,e=0;B(b,function(f){B(f.e,function(h){var i=new U,j=new U,m=Na(b,function(o){return D(o.e,h)});m=cb(C(m,function(o){return o.e}));m=mn(m);e+=dn(a,h,i,j);en(i.e);B(i.e,function(o){pi(d,o)});i.e.length>0&&bn(h,j,m,i,c)})});return d}function kn(a,b,c){var d=Ra(c,function(e){return V(e,a)});b=Na(c,function(e){return e!==d});if(b.length>0){c=V(d,a);return Ua(c,kn(c,d,b))}else return[]}
function jn(a){var b=[];B(a.e,function(c){B(c.g.L(),function(d){D(a.g,d)&&b.push(V(d,c))})});return b}function nn(a,b){var c=[];B(b.e,function(d){D(a.e,d)&&c.push(d)});return c}function on(a,b){var c=[];B(b.g,function(d){D(a.g,d)&&c.push(d)});return c}function mn(a){var b=Oa(a,function(c,d){return M(c,d.a)},new L(0,0));return new L(b.x/a.length,b.y/a.length)}
function pn(a,b,c,d){for(var e=qn(b,a),f=0,h=e.length;f<h;f++){var i=e[f];if(!i.ea[0]){var j={e:nn(b,i),g:on(b,i)},m=j.e.length;if(m==2&&c=="FUSED"||m==1&&c=="SPIRO"||m>2&&c=="BRIDGED"){m="";for(var o=0;o<j.e.length;o++)m+="\n         "+j.e[o].a+" "+j.e[o].ea[0];m=Zm(j.e);o=Zm(b.e);var p=new $(m.x,m.y);p=new $(p.x,p.y);p.sub(new $(o.x,o.y));hn(i,j,m,p,d);i.lb(0,k);pn(a,i,c,d)}}}}function rn(a){B(a,function(b){b.Fi||B(b.e,function(c){c.lb(0,n)})})}
function sn(a){return Ra(a,function(b){return Pa([b.source,b.target],function(c){return c.ea[2]&&!c.ea[0]&&V(b,c).ea[0]})})}
function tn(a,b,c,d){rn(c);c=Na(b.e,function(p){return p.ea[0]});var e=sn(b.g);if(e){var f=Ra([e.source,e.target],function(p){return p.ea[2]&&!p.ea[0]});e=V(e,f);d=Ra(d,function(p){return Ra(p,function(q){return D(q.e,f)})});var h=f.a.ja(),i=e.a.ja();un(a,d);en(c);a=ln(b,d,vn);fn(c);c=Ua(a.e,cb(C(d,function(p){return p.e})));Za(c);a=f.a;b=e.a;a=$m(h.x-i.x,h.y-i.y)-$m(a.x-b.x,a.y-b.y);var j=new $(i.x,i.y);j.sub(new $(b.x,b.y));B(c,function(p){p.a.x+=j.x;p.a.y+=j.y});var m=Math.cos(a),o=Math.sin(a);
B(c,function(p){p=p.a;var q=p.x-i.x,t=p.y-i.y;p.x=q*m-t*o+i.x;p.y=q*o+t*m+i.y});B(d,function(p){p.Fi=k})}};function wn(a){for(var b=[],c=Array(a.length),d=0,e=a.length;d<e;d++)c[d]=n;d=0;for(e=a.length;d<e;d++)if(!c[d]){var f=[];f.push(a[d]);c[d]=k;for(var h=a[d].e.length,i=d+1;i<a.length;i++)if(!c[i]){var j=a[i].e.length,m=0;a:for(;m<f.length;m++){h=f[m].e.length;for(var o=0;o<h;o++)for(var p=0;p<j;p++)if(f[m].e[o]==a[i].e[p]){f.push(a[i]);c[i]=k;i=d;break a}}}b.push(f)}return b}
function qn(a,b){for(var c=[],d=a.e.length,e=0,f=b.length;e<f;e++)if(a!=b[e]){var h=b[e].e.length,i=0;a:for(;i<d;i++)for(var j=0;j<h;j++)if(a.e[i]==b[e].e[j]){c.push(b[e]);break a}}return c}wn=function(a){var b=[],c=a;B(a,function(d){if(!D(cb(b),d)){var e=Ra(b,function(h){return D(h,d)});if(e==l){e=[d];c=Na(c,function(h){return h!==d})}var f=qn(d,c);e=Ua(e,f);c=Na(c,function(h){D(f,h)});b.push(e)}});return b};
qn=function(a,b){var c=[];B(b,function(d){Pa(d.e,function(e){return d===a?n:D(a.e,e)})&&c.push(d)});return c};function xn(a){var b=[],c=yn(a,b);if(c>0){c=0;do{var d=Math.round(Math.random()*b.length);if(d>=b.length)d=b.length-1;var e=b[d];if(e!=undefined){var f=e[0];e=e[1];d=new $(e.a.x-f.a.x,e.a.y-f.a.y);d.normalize();if(isNaN(d.x))d.x=0.01;if(isNaN(d.y))d.y=0.01;d.scale(-1*vn/3);if(Math.random()>0.5){e.a.x+=d.x;e.a.y+=d.y}else{f.a.x-=d.x;f.a.y-=d.y}f=yn(a,b);c++}else alert("problem kemia.layout.OverlapResolver.displace p is "+d+" and len "+b.length+" and "+e)}while(f>0&&!(c>25));c=f}return c}
function yn(a,b){for(var c=0,d=vn/5,e=Y(a),f=0;f<e;f++)for(var h=a.e[f],i=h.a,j=f+1;j<e;j++){var m=a.e[j];if(yc(i,m.a)<d){c+=d;b.push([h,m])}}return c};var vn=1.5;function un(a,b){var c=zn(b);if(!c.ea[0]){var d={e:An(c.g[0],a),g:[c.g[0]]},e=Oa(d.e,function(f,h){return M(f,h.a)},new L(0,0));hn(c,d,new $(e.x/d.e.length,e.y/d.e.length),gn(c,a,vn),vn);c.lb(0,k)}d=0;do{if(c.ea[0]){pn(b,c,"FUSED",vn);pn(b,c,"BRIDGED",vn);pn(b,c,"SPIRO",vn)}d++;if(d==b.length)d=0;c=b[d]}while(!Bn(b))}function An(a,b){b.normalize();b.scale(vn);a.source.a=new L(0,0);a.source.lb(0,k);a.target.a=new L(b.x,b.y);a.target.lb(0,k);return[a.source,a.target]}
function Bn(a){for(var b=0;b<a.length;b++)if(!a[b].ea[0])return n;return k}function Cn(a,b,c,d){c=new U;b=ij(b,a);for(var e=0,f=b.length;e<f;e++){var h=V(b[e],a);if(d&&h.ea[0])pi(c,h);else!d&&!h.ea[0]&&pi(c,h)}return c}
function Dn(a,b,c){var d=0,e;do{d++;var f=n;a:{for(var h=0;h<b;h++){e=a.g[h];if(e.source.ea[0]&&!e.target.ea[0]){e=e.source;break a}if(!e.source.ea[0]&&e.target.ea[0]){e=e.target;break a}}e=l}var i=l,j=l;if(e!=l){i=Cn(e,a,b,n);j=Cn(e,a,b,k);h=Tm(a,e);if(Y(h)>1){if(Y(j)>1){bn(e,j,Ym(j),i,c);i=new $(h.e[1].a.x,h.e[1].a.y);j=new $(e.a.x,e.a.y);i.sub(j)}else i=Xm(e,j.e[0],Ym(a),k);e=1;for(j=Y(h);e<j;e++)h.e[e].ea[0]=n;Vm(h,i,c)}else f=k}else f=k}while(!f&&d<=Y(a))}
function zn(a){for(var b=Array(a.length),c=0;c<b.length;c++)b[c]=0;var d=0,e=0;for(c=0;c<a.length;c++)for(var f=a[c],h=0;h<f.e.length;h++)for(var i=f[h],j=c+1;j<a.length;j++){var m=a[j];if(f!=m)for(var o=0;o<m.e.length;o++)if(i==m[o]){b[c]++;b[j]++;break}}for(c=0;c<b.length;c++)if(b[c]>d){d=b[c];e=c}return a[e]};function En(){}En.prototype.bi=l;function Fn(a){var b;if(!(b=a.bi)){b={};if(Gn(a)){b[0]=k;b[1]=k}b=a.bi=b}return b};function Hn(){return In(Jn)}var Jn;function Kn(){}A(Kn,En);function In(a){return(a=Gn(a))?new ActiveXObject(a):new XMLHttpRequest}Kn.prototype.hh=l;
function Gn(a){if(!a.hh&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);return a.hh=d}catch(e){}}g(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.hh}Jn=new Kn;function Ln(){if(G){this.ed={};this.pg={};this.ig=[]}}Ln.prototype.ab=E("goog.net.xhrMonitor");Ln.prototype.Da=G;Ln.prototype.uc=function(a){this.Da=G&&a};function Mn(a,b){if(a.Da){var c=x(b)?b:ma(b)?oa(b):"";a.ab.log(Ib,"Pushing context: "+b+" ("+c+")",void 0);a.ig.push(c)}}function Nn(a){if(a.Da){var b=a.ig.pop();a.ab.log(Ib,"Popping context: "+b,void 0);On(a,b)}}
function Pn(a,b){if(a.Da){var c=oa(b);Kb(a.ab,"Opening XHR : "+c);for(var d=0;d<a.ig.length;d++){var e=a.ig[d];Qn(a,a.ed,e,c);Qn(a,a.pg,c,e)}}}function On(a,b){var c=a.pg[b],d=a.ed[b];if(c&&d){a.ab.log(Ib,"Updating dependent contexts",void 0);B(c,function(e){B(d,function(f){Qn(this,this.ed,e,f);Qn(this,this.pg,f,e)},this)},a)}}function Qn(a,b,c,d){b[c]||(b[c]=[]);D(b[c],d)||b[c].push(d)}var Rn=new Ln;var Sn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Tn(a){this.headers=new pb;this.qg=a||l}A(Tn,Ud);Tn.prototype.ab=E("goog.net.XhrIo");var Un=/^https?:?$/i,Vn=[];function Wn(a,b,c,d,e,f){var h=new Tn;Vn.push(h);b&&Id(h,"complete",b);Id(h,"ready",ua(Xn,h));if(f)h.ef=Math.max(0,f);h.send(a,c,d,e)}function Xn(a){a.aa();Sa(Vn,a)}u=Tn.prototype;u.Nc=n;u.ma=l;u.og=l;u.Oe="";u.Ji="";u.Le=0;u.Me="";u.Qg=n;u.Lf=n;u.ih=n;u.pd=n;u.ef=0;u.Bd=l;
u.send=function(a,b,c,d){if(this.ma)g(Error("[goog.net.XhrIo] Object is active with another request"));b=b||"GET";this.Oe=a;this.Me="";this.Le=0;this.Ji=b;this.Qg=n;this.Nc=k;this.ma=this.qg?In(this.qg):new Hn;this.og=this.qg?Fn(this.qg):Fn(Jn);Pn(Rn,this.ma);this.ma.onreadystatechange=ta(this.Wi,this);try{Kb(this.ab,Yn(this,"Opening Xhr"));this.ih=k;this.ma.open(b,a,k);this.ih=n}catch(e){Kb(this.ab,Yn(this,"Error opening Xhr: "+e.message));Zn(this,5,e);return}a=c||"";var f=this.headers.ja();d&&ob(d,
function(i,j){f.Jb(j,i)});b=="POST"&&!rb(f.Ua,"Content-Type")&&f.Jb("Content-Type","application/x-www-form-urlencoded;charset=utf-8");ob(f,function(i,j){this.ma.setRequestHeader(j,i)},this);try{if(this.Bd){nf.clearTimeout(this.Bd);this.Bd=l}if(this.ef>0){Kb(this.ab,Yn(this,"Will abort after "+this.ef+"ms if incomplete"));this.Bd=nf.setTimeout(ta(this.sl,this),this.ef)}Kb(this.ab,Yn(this,"Sending request"));this.Lf=k;this.ma.send(a);this.Lf=n}catch(h){Kb(this.ab,Yn(this,"Send error: "+h.message));
Zn(this,5,h)}};u.dispatchEvent=function(a){if(this.ma){Mn(Rn,this.ma);try{return Tn.h.dispatchEvent.call(this,a)}finally{Nn(Rn)}}else return Tn.h.dispatchEvent.call(this,a)};u.sl=function(){if(typeof ca!="undefined")if(this.ma){this.Me="Timed out after "+this.ef+"ms, aborting";this.Le=8;Kb(this.ab,Yn(this,this.Me));this.dispatchEvent("timeout");this.abort(8)}};function Zn(a,b,c){a.Nc=n;if(a.ma){a.pd=k;a.ma.abort();a.pd=n}a.Me=c;a.Le=b;$n(a);ao(a)}
function $n(a){if(!a.Qg){a.Qg=k;a.dispatchEvent("complete");a.dispatchEvent("error")}}u.abort=function(a){if(this.ma&&this.Nc){Kb(this.ab,Yn(this,"Aborting"));this.Nc=n;this.pd=k;this.ma.abort();this.pd=n;this.Le=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");ao(this)}};u.p=function(){if(this.ma){if(this.Nc){this.Nc=n;this.pd=k;this.ma.abort();this.pd=n}ao(this,k)}Tn.h.p.call(this)};u.Wi=function(){!this.ih&&!this.Lf&&!this.pd?this.Xk():bo(this)};u.Xk=function(){bo(this)};
function bo(a){if(a.Nc)if(typeof ca!="undefined")if(a.og[1]&&co(a)==4&&eo(a)==2)Kb(a.ab,Yn(a,"Local request error detected and ignored"));else if(a.Lf&&co(a)==4)nf.setTimeout(ta(a.Wi,a),0);else{a.dispatchEvent("readystatechange");if(co(a)==4){Kb(a.ab,Yn(a,"Request complete"));a.Nc=n;var b;a:switch(eo(a)){case 0:b=(b=x(a.Oe)?a.Oe.match(Sn)[1]||l:a.Oe.cm())?Un.test(b):self.location?Un.test(self.location.protocol):k;b=!b;break a;case 200:case 204:case 304:b=k;break a;default:b=n}if(b){a.dispatchEvent("complete");
a.dispatchEvent("success")}else{a.Le=6;var c;try{c=co(a)>2?a.ma.statusText:""}catch(d){Kb(a.ab,"Can not get status: "+d.message);c=""}a.Me=c+" ["+eo(a)+"]";$n(a)}ao(a)}}}
function ao(a,b){if(a.ma){var c=a.ma,d=a.og[0]?fa:l;a.ma=l;a.og=l;if(a.Bd){nf.clearTimeout(a.Bd);a.Bd=l}if(!b){Mn(Rn,c);a.dispatchEvent("ready");Nn(Rn)}if(Rn.Da){var e=oa(c);Kb(Rn.ab,"Closing XHR : "+e);delete Rn.pg[e];for(var f in Rn.ed){Sa(Rn.ed[f],e);Rn.ed[f].length==0&&delete Rn.ed[f]}}try{c.onreadystatechange=d}catch(h){a.ab.log(Db,"Problem encountered resetting onreadystatechange: "+h.message,void 0)}}}u.qa=function(){return!!this.ma};function co(a){return a.ma?a.ma.readyState:0}
function eo(a){try{return co(a)>2?a.ma.status:-1}catch(b){a.ab.log(Eb,"Can not get status: "+b.message,void 0);return-1}}function Yn(a,b){return b+" ["+a.Ji+" "+a.Oe+" "+eo(a)+"]"};/*
 Copyright 2010 Paul Novak (paul@wingu.com).

 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License. You may obtain a copy of
 the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 License for the specific language governing permissions and limitations under
 the License.
 @author paul@wingu.com (Paul Novak)
*/
var fo={};fo.l=function(a,b){Wn(a,function(c){c=c.target;c=c.ma?Hi(c.ma.responseText):void 0;b.apply(this,[c])})};w("goog.dom.getElement",function(a){return x(a)?document.getElementById(a):a},void 0);w("goog.dom.getAncestor",function(a,b,c,d){if(!c)a=a.parentNode;c=d==l;for(var e=0;a&&(c||e<=d);){if(b(a))return a;a=a.parentNode;e++}return l},void 0);w("goog.dom.getElementsByClass",Ec,void 0);w("goog.dom.getElementByClass",function(a,b){var c=b||document,d=l;return(d=Fc(c)?c.querySelector("."+a):Ec(a,b)[0])||l},void 0);w("goog.dom.getFirstElementChild",function(a){return Sc(a.firstChild,k)},void 0);
w("goog.dom.getNextElementSibling",function(a){return Sc(a.nextSibling,k)},void 0);w("goog.array.forEach",B,void 0);w("goog.dom.setTextContent",Uc,void 0);w("goog.ui.Prompt",Tf,void 0);w("goog.ui.Prompt.prototype.setDefaultValue",Tf.prototype.ll,void 0);w("goog.ui.Prompt.prototype.setVisible",Tf.prototype.Aa,void 0);w("goog.now",va,void 0);w("goog.debug.Console",Ub,void 0);w("goog.debug.Console.prototype.setCapturing",Ub.prototype.kl,void 0);
w("goog.debug.Logger.getLogger",function(a){return E(a)},void 0);w("goog.ui.Select",Dg,void 0);w("goog.ui.Select.prototype.addItem",Dg.prototype.Cc,void 0);w("goog.ui.Select.prototype.setSelectedIndex",Dg.prototype.af,void 0);w("goog.ui.Select.prototype.render",Dg.prototype.R,void 0);w("goog.ui.Select.prototype.getValue",Dg.prototype.Sa,void 0);w("goog.ui.MenuItem",lf,void 0);w("goog.ui.Component.EventType.ACTION","action",void 0);w("goog.events.EventType.LOAD","load",void 0);
w("goog.events.listen",Id,void 0);w("goog.array.filter",Na,void 0);w("kemia.io.json.readMolecule",qj,void 0);w("kemia.io.json.writeMolecule",function(a){return Ji(new Ki,rj(a))},void 0);w("kemia.io.json.readReaction",uj,void 0);w("kemia.io.json.writeReaction",function(a){return Ji(new Ki,vj(a))},void 0);w("kemia.io.json.reactionToJson",vj,void 0);
w("kemia.io.mdl.readMolfile",function(a){a=a.split(a.indexOf("\r\n")>0?"\r\n":"\n");var b=new U(a[0]),c=ya(a[1].slice(46,52));b.id=c;var d=parseInt(a[3].substr(0,3),10),e=parseInt(a[3].substr(3,3),10);for(c=1;c<=d;c++){var f=a[c+3],h=f.substr(30,4).replace(/(^\s*)|(\s*$)/g,""),i=parseFloat(f.substr(0,10)),j=parseFloat(f.substr(10,10));f=parseInt(f.substr(36,3),10);var m=0;if(f!=0)if(f==1)m=3;else if(f==2)m=2;else if(f==3)m=1;else if(f!=4)if(f==5)m=-1;else if(f==6)m=-2;else if(f==7)m=-3;f=new T(h,
i,j,m);pi(b,f)}for(c=1;c<=e;c++){f=a[c+3+d];f=Jm(parseInt(f.substr(6,3),10),parseInt(f.substr(9,3),10),b.e[parseInt(f.substr(0,3),10)-1],b.e[parseInt(f.substr(3,3),10)-1]);mi(b,f)}c=4+d+e;d=a.length;for(e=n;;){f=a[c++];if(c==d||f.indexOf("M  END")>=0)break;if(f.indexOf("M  CHG")>=0){if(!e){m=0;for(e=Y(b);m<e;m++)b.e[m].Ya=0;e=k}h=parseInt(f.substr(6,3),10);for(i=0;i<h;i++){j=parseInt(f.substr(10+8*i,3),10);m=parseInt(f.substr(14+8*i,3),10);b.e[j-1].Ya=m}}}return b},void 0);
w("kemia.io.smiles.SmilesParser.parse",function(a){for(var b=a.match(Km),c=new U(a),d=0,e,f="NONE",h=[],i=[],j=[],m="",o=[],p=0;p<b.length;p++){var q=b[p];if(q!=".")if(q=="(")h.push(e);else if(q==")")if(h.length)e=h.pop();else m=" Unbalanced parents";else if(q=="-")f="-";else if(q=="=")f="=";else if(q=="#")f="#";else if(q=="$")f="$";else if(q==":")f=":";else if(q[0]=="%"){var t=parseInt(q[1]+q[2],10),v=i[t];if(v){mi(c,Om(f,e,v));f="NONE";i[t]=l}else i[t]=e}else if(q!="/")if(q!="\\")if(isNaN(t=parseInt(q,
10)))if(q.length>1&&(q.lastIndexOf("=",0)==0||q.lastIndexOf("#",0)==0||q.lastIndexOf("$",0)==0)&&!isNaN(t=parseInt(q.substr(1),10)))if(v=i[t]){mi(c,Om(j[t],e,v));f="NONE";i[t]=l;j[t]=l}else{i[t]=e;j[t]=q.substr(0,1)}else{t=q;v={Sf:l,symbol:l,fa:"NONE",Fk:l,Ya:l,dc:n,ei:n};var y=Lm.exec(t);if(y){v.Sf=y[1];if(Qm[y[2]])v.T=y[2];if(y[3]=="@"||y[3]=="@@"){v.fa=y[3];if(y[4]=="H")v.ei=k}else v.fa="NONE";if(y[4]=="H")v.Fk=y[5]?y[5]:1;v.Ya=y[6]=="+"?1:y[6]=="-"?-1:parseInt(y[6],10)}else if(D(Mm,t))v.T=t;if(D(Nm,
v.T)){v.dc=k;v.T=v.T.length==1?v.T.toUpperCase():v.T[0].toUpperCase()+v.T[1]}t=v;if(t.T){d+=1;q=new T(t.T,0,0,t.Ya,t.dc,t.Sf);if(e){mi(c,Om(f,e,q));f="NONE"}pi(c,q);if(t.fa!="NONE"){o.push(Yi(c,q));o.push(t.fa);o.push(t.ei)}e=q}else m=" unknown atom "+q}else if(v=i[t]){mi(c,Om(f,e,v));f="NONE";i[t]=l}else i[t]=e;if(m)g(Error(a+m))}Pm(c,o);if(h.length)g(Error("unbalanced parens"));for(a=0;a<i.length;++a)if(i[a])g(Error("unclosed rings"));if(f!="NONE")g(Error("unpaired bond "+f));return c},void 0);
w("kemia.io.xhr",fo,void 0);w("kemia.io.xhr.get",fo.l,void 0);
w("kemia.layout.CoordinateGenerator.generate",function(a){for(var b=0,c=new $(0,1),d=Y(a),e=0;e<d;e++){var f=a.e[e];f.lb(0,n);f.lb(1,n);f.lb(2,n);f.lb(si.Hl,n)}if(d==1){a.e[0].coords=new L(0,0);return a}if(a.Sd>1)g(Error("Molecule not connected."));e=a.Bb();b=e-Y(a)+1;f=hj(a);var h=new wn(f);if(b>0){B(f,function(i){B(i.e,function(j){j.lb(2,k)})});$a(h,function(i,j){return ab(i.length,j.length)});b=h[h.length-1];un(c,b);ln(a,b,vn);B(b,function(i){i.Fi=k})}else{b=Rm(a);b.e[0].a=new L(0,0);b.e[0].ea[0]=
k;Vm(b,c,vn)}b=0;do{b++;Dn(a,e,vn);tn(c,a,f,h)}while(!an(a,d)&&b<=Y(a));xn(a,f);return a},void 0);w("kemia.model.Reaction",Ai,void 0);w("kemia.model.Reaction.prototype.addReactant",Ai.prototype.wg,void 0);w("kemia.model.Reaction.prototype.addProduct",Ai.prototype.Yh,void 0);w("kemia.model.Reaction.prototype.getReactants",Ai.prototype.Vd,void 0);w("kemia.model.Reaction.prototype.getProducts",Ai.prototype.Ud,void 0);w("kemia.model.Reaction.prototype.setConditionsText",Ai.prototype.fg,void 0);
w("kemia.model.Reaction.prototype.setReagentsText",Ai.prototype.hg,void 0);w("kemia.model.Reaction.prototype.getPluses",Ai.prototype.gk,void 0);w("kemia.model.Reaction.prototype.generatePluses",Ai.prototype.Zg,void 0);w("kemia.controller.ReactionEditor",xm,void 0);w("kemia.controller.ReactionEditor.prototype.setModels",xm.prototype.Mc,void 0);w("kemia.controller.ReactionEditor.prototype.getModels",xm.prototype.fk,void 0);w("kemia.controller.ReactionEditor.prototype.render",xm.prototype.R,void 0);
w("kemia.controller.ReactionEditor.prototype.registerPlugin",xm.prototype.gl,void 0);w("kemia.controller.ReactionEditor.EventType.CLEAR",Em,void 0);w("kemia.controller.ToolbarController",Gm,void 0);w("kemia.controller.DefaultToolbar.makeDefaultMoleculeToolbar",function(a){var b=ck([]);b=ek(b);b=fk(b);return gk(b,a)},void 0);w("kemia.controller.plugins.ArrowPlusEdit",Rh,void 0);w("kemia.controller.DefaultToolbar.makeDefaultToolbar",{}.Gm,void 0);
w("kemia.controller.DefaultToolbar.makeDefaultReactionToolbar",function(a){var b=ck([]);b=b;var c=zh("editPlus","Plus","","tr-icon tr-plus");c.Ib=k;b.push(c);c=zh("editArrow","Arrow","","tr-icon tr-arrow");c.Ib=k;b.push(c);b.push(new Ig);b=ek(b);b=fk(b);return gk(b,a)},void 0);w("kemia.controller.plugins.AtomEdit",di,void 0);w("kemia.controller.plugins.BondEdit",xi,void 0);w("kemia.controller.plugins.Cleanup",{}.Dl,void 0);w("kemia.controller.plugins.ClearEditor",Bi,void 0);
w("kemia.controller.plugins.Erase",Ci,void 0);w("kemia.controller.plugins.MoleculeEdit",wj,void 0);w("kemia.controller.plugins.Move",Dj,void 0);w("kemia.controller.plugins.UndoRedo",Sj,void 0);w("kemia.controller.plugins.Zoom",$j,void 0);
